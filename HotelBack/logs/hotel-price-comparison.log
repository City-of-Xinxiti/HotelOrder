2025-10-21 00:33:29.881 [restartedMain] INFO  o.x.h.HotelPriceComparisonApplication - Starting HotelPriceComparisonApplication using Java 21.0.8 with PID 9036 (C:\Hotel\HotelBack\build\classes\java\main started by wangz in C:\Hotel\HotelBack)
2025-10-21 00:33:29.897 [restartedMain] DEBUG o.x.h.HotelPriceComparisonApplication - Running with Spring Boot v3.2.5, Spring v6.1.6
2025-10-21 00:33:29.898 [restartedMain] INFO  o.x.h.HotelPriceComparisonApplication - No active profile set, falling back to 1 default profile: "default"
2025-10-21 00:33:29.993 [restartedMain] INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-10-21 00:33:29.994 [restartedMain] INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-10-21 00:33:33.057 [restartedMain] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-21 00:33:33.060 [restartedMain] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-21 00:33:33.136 [restartedMain] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 61 ms. Found 0 JPA repository interfaces.
2025-10-21 00:33:33.165 [restartedMain] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-21 00:33:33.167 [restartedMain] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-21 00:33:33.197 [restartedMain] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 10 ms. Found 0 Redis repository interfaces.
2025-10-21 00:33:35.915 [restartedMain] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-10-21 00:33:35.940 [restartedMain] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-10-21 00:33:35.940 [restartedMain] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.20]
2025-10-21 00:33:36.129 [restartedMain] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-10-21 00:33:36.129 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 6134 ms
2025-10-21 00:33:36.891 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-10-21 00:33:38.267 [restartedMain] ERROR com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Exception during pool initialization.
java.sql.SQLException: Access denied for user 'root'@'localhost' (using password: NO)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:815)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:438)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:241)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:189)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:100)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration.getConnectionUrl(H2ConsoleAutoConfiguration.java:94)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at java.base/java.util.stream.SortedOps$RefSortingSink.end(SortedOps.java:395)
	at java.base/java.util.stream.Sink$ChainedReference.end(Sink.java:261)
	at java.base/java.util.stream.Sink$ChainedReference.end(Sink.java:261)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:510)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration.logDataSources(H2ConsoleAutoConfiguration.java:86)
	at org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration.lambda$h2Console$0(H2ConsoleAutoConfiguration.java:69)
	at org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration.withThreadContextClassLoader(H2ConsoleAutoConfiguration.java:78)
	at org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration.h2Console(H2ConsoleAutoConfiguration.java:69)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:140)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:644)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:636)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1335)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1165)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:210)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:201)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addServletContextInitializerBeans(ServletContextInitializerBeans.java:96)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:85)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:266)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:240)
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:52)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4880)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:845)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:240)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:433)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:921)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:437)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:126)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:105)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:499)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:218)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:188)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:162)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:618)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at org.xfy.hotelpricecomparison.HotelPriceComparisonApplication.main(HotelPriceComparisonApplication.java:16)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
2025-10-21 00:33:38.778 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-10-21 00:33:39.792 [restartedMain] ERROR com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Exception during pool initialization.
java.sql.SQLException: Access denied for user 'root'@'localhost' (using password: NO)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:815)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:438)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:241)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:189)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:100)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:160)
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:118)
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:81)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:342)
	at org.springframework.boot.jdbc.EmbeddedDatabaseConnection.isEmbedded(EmbeddedDatabaseConnection.java:168)
	at org.springframework.boot.autoconfigure.orm.jpa.HibernateDefaultDdlAutoProvider.getDefaultDdlAuto(HibernateDefaultDdlAutoProvider.java:42)
	at org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration.lambda$getVendorProperties$1(HibernateJpaConfiguration.java:142)
	at org.springframework.boot.autoconfigure.orm.jpa.HibernateSettings.getDdlAuto(HibernateSettings.java:41)
	at org.springframework.boot.autoconfigure.orm.jpa.HibernateProperties.determineDdlAuto(HibernateProperties.java:118)
	at org.springframework.boot.autoconfigure.orm.jpa.HibernateProperties.getAdditionalProperties(HibernateProperties.java:87)
	at org.springframework.boot.autoconfigure.orm.jpa.HibernateProperties.determineHibernateProperties(HibernateProperties.java:80)
	at org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration.getVendorProperties(HibernateJpaConfiguration.java:143)
	at org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration.entityManagerFactory(JpaBaseConfiguration.java:132)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:140)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:644)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:636)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1335)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1165)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1234)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:952)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at org.xfy.hotelpricecomparison.HotelPriceComparisonApplication.main(HotelPriceComparisonApplication.java:16)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
2025-10-21 00:33:39.890 [restartedMain] INFO  org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-21 00:33:40.005 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.4.Final
2025-10-21 00:33:40.062 [restartedMain] INFO  o.hibernate.cache.internal.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-10-21 00:33:40.466 [restartedMain] INFO  o.s.o.j.persistenceunit.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-21 00:33:40.504 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-10-21 00:33:41.508 [restartedMain] ERROR com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Exception during pool initialization.
java.sql.SQLException: Access denied for user 'root'@'localhost' (using password: NO)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:815)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:438)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:241)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:189)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:100)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:428)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcIsolationDelegate.delegateWork(JdbcIsolationDelegate.java:61)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.getJdbcEnvironmentUsingJdbcMetadata(JdbcEnvironmentInitiator.java:276)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:107)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:68)
	at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:130)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:238)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:215)
	at org.hibernate.boot.model.relational.Database.<init>(Database.java:45)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.getDatabase(InFlightMetadataCollectorImpl.java:223)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.<init>(InFlightMetadataCollectorImpl.java:191)
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:170)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1432)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1503)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1234)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:952)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at org.xfy.hotelpricecomparison.HotelPriceComparisonApplication.main(HotelPriceComparisonApplication.java:16)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
2025-10-21 00:33:41.517 [restartedMain] WARN  o.h.e.jdbc.env.internal.JdbcEnvironmentInitiator - HHH000342: Could not obtain connection to query metadata
java.lang.NullPointerException: Cannot invoke "org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(java.sql.SQLException, String)" because the return value of "org.hibernate.resource.transaction.backend.jdbc.internal.JdbcIsolationDelegate.sqlExceptionHelper()" is null
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcIsolationDelegate.delegateWork(JdbcIsolationDelegate.java:116)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.getJdbcEnvironmentUsingJdbcMetadata(JdbcEnvironmentInitiator.java:276)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:107)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:68)
	at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:130)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:238)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:215)
	at org.hibernate.boot.model.relational.Database.<init>(Database.java:45)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.getDatabase(InFlightMetadataCollectorImpl.java:223)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.<init>(InFlightMetadataCollectorImpl.java:191)
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:170)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1432)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1503)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1234)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:952)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at org.xfy.hotelpricecomparison.HotelPriceComparisonApplication.main(HotelPriceComparisonApplication.java:16)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
2025-10-21 00:33:41.521 [restartedMain] ERROR o.s.orm.jpa.LocalContainerEntityManagerFactoryBean - Failed to initialize JPA EntityManagerFactory: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment] due to: Unable to determine Dialect without JDBC metadata (please set 'jakarta.persistence.jdbc.url' for common cases or 'hibernate.dialect' when a custom Dialect implementation must be provided)
2025-10-21 00:33:41.522 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment] due to: Unable to determine Dialect without JDBC metadata (please set 'jakarta.persistence.jdbc.url' for common cases or 'hibernate.dialect' when a custom Dialect implementation must be provided)
2025-10-21 00:33:41.529 [restartedMain] INFO  org.apache.catalina.core.StandardService - Stopping service [Tomcat]
2025-10-21 00:33:41.549 [restartedMain] INFO  o.s.b.a.logging.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-10-21 00:33:41.576 [restartedMain] ERROR org.springframework.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment] due to: Unable to determine Dialect without JDBC metadata (please set 'jakarta.persistence.jdbc.url' for common cases or 'hibernate.dialect' when a custom Dialect implementation must be provided)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1786)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1234)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:952)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at org.xfy.hotelpricecomparison.HotelPriceComparisonApplication.main(HotelPriceComparisonApplication.java:16)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment] due to: Unable to determine Dialect without JDBC metadata (please set 'jakarta.persistence.jdbc.url' for common cases or 'hibernate.dialect' when a custom Dialect implementation must be provided)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:276)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:238)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:215)
	at org.hibernate.boot.model.relational.Database.<init>(Database.java:45)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.getDatabase(InFlightMetadataCollectorImpl.java:223)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.<init>(InFlightMetadataCollectorImpl.java:191)
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:170)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1432)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1503)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	... 19 common frames omitted
Caused by: org.hibernate.HibernateException: Unable to determine Dialect without JDBC metadata (please set 'jakarta.persistence.jdbc.url' for common cases or 'hibernate.dialect' when a custom Dialect implementation must be provided)
	at org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl.determineDialect(DialectFactoryImpl.java:191)
	at org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl.buildDialect(DialectFactoryImpl.java:87)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.getJdbcEnvironmentWithDefaults(JdbcEnvironmentInitiator.java:143)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.getJdbcEnvironmentUsingJdbcMetadata(JdbcEnvironmentInitiator.java:348)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:107)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:68)
	at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:130)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263)
	... 34 common frames omitted
2025-10-21 00:35:20.485 [restartedMain] INFO  o.x.h.HotelPriceComparisonApplication - Starting HotelPriceComparisonApplication using Java 21.0.8 with PID 17000 (C:\Hotel\HotelBack\build\classes\java\main started by wangz in C:\Hotel\HotelBack)
2025-10-21 00:35:20.487 [restartedMain] DEBUG o.x.h.HotelPriceComparisonApplication - Running with Spring Boot v3.2.5, Spring v6.1.6
2025-10-21 00:35:20.487 [restartedMain] INFO  o.x.h.HotelPriceComparisonApplication - No active profile set, falling back to 1 default profile: "default"
2025-10-21 00:35:20.560 [restartedMain] INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-10-21 00:35:20.561 [restartedMain] INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-10-21 00:35:22.662 [restartedMain] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-21 00:35:22.664 [restartedMain] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-21 00:35:22.722 [restartedMain] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 51 ms. Found 0 JPA repository interfaces.
2025-10-21 00:35:22.742 [restartedMain] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-21 00:35:22.745 [restartedMain] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-21 00:35:22.770 [restartedMain] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 12 ms. Found 0 Redis repository interfaces.
2025-10-21 00:35:24.591 [restartedMain] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-10-21 00:35:24.606 [restartedMain] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-10-21 00:35:24.607 [restartedMain] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.20]
2025-10-21 00:35:24.666 [restartedMain] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-10-21 00:35:24.666 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 4104 ms
2025-10-21 00:35:24.955 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-10-21 00:35:26.155 [restartedMain] ERROR com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Exception during pool initialization.
java.sql.SQLException: Access denied for user 'root'@'localhost' (using password: NO)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:815)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:438)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:241)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:189)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:100)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration.getConnectionUrl(H2ConsoleAutoConfiguration.java:94)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at java.base/java.util.stream.SortedOps$RefSortingSink.end(SortedOps.java:395)
	at java.base/java.util.stream.Sink$ChainedReference.end(Sink.java:261)
	at java.base/java.util.stream.Sink$ChainedReference.end(Sink.java:261)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:510)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration.logDataSources(H2ConsoleAutoConfiguration.java:86)
	at org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration.lambda$h2Console$0(H2ConsoleAutoConfiguration.java:69)
	at org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration.withThreadContextClassLoader(H2ConsoleAutoConfiguration.java:78)
	at org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration.h2Console(H2ConsoleAutoConfiguration.java:69)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:140)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:644)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:636)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1335)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1165)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:210)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:201)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addServletContextInitializerBeans(ServletContextInitializerBeans.java:96)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:85)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:266)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:240)
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:52)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4880)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:845)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:240)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:433)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:921)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:437)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:126)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:105)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:499)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:218)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:188)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:162)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:618)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at org.xfy.hotelpricecomparison.HotelPriceComparisonApplication.main(HotelPriceComparisonApplication.java:16)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
2025-10-21 00:35:26.644 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-10-21 00:35:27.655 [restartedMain] ERROR com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Exception during pool initialization.
java.sql.SQLException: Access denied for user 'root'@'localhost' (using password: NO)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:815)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:438)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:241)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:189)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:100)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:160)
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:118)
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:81)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:342)
	at org.springframework.boot.jdbc.EmbeddedDatabaseConnection.isEmbedded(EmbeddedDatabaseConnection.java:168)
	at org.springframework.boot.autoconfigure.orm.jpa.HibernateDefaultDdlAutoProvider.getDefaultDdlAuto(HibernateDefaultDdlAutoProvider.java:42)
	at org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration.lambda$getVendorProperties$1(HibernateJpaConfiguration.java:142)
	at org.springframework.boot.autoconfigure.orm.jpa.HibernateSettings.getDdlAuto(HibernateSettings.java:41)
	at org.springframework.boot.autoconfigure.orm.jpa.HibernateProperties.determineDdlAuto(HibernateProperties.java:118)
	at org.springframework.boot.autoconfigure.orm.jpa.HibernateProperties.getAdditionalProperties(HibernateProperties.java:87)
	at org.springframework.boot.autoconfigure.orm.jpa.HibernateProperties.determineHibernateProperties(HibernateProperties.java:80)
	at org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration.getVendorProperties(HibernateJpaConfiguration.java:143)
	at org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration.entityManagerFactory(JpaBaseConfiguration.java:132)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:140)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:644)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:636)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1335)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1165)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1234)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:952)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at org.xfy.hotelpricecomparison.HotelPriceComparisonApplication.main(HotelPriceComparisonApplication.java:16)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
2025-10-21 00:35:27.718 [restartedMain] INFO  org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-21 00:35:27.830 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.4.Final
2025-10-21 00:35:27.869 [restartedMain] INFO  o.hibernate.cache.internal.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-10-21 00:35:28.215 [restartedMain] INFO  o.s.o.j.persistenceunit.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-21 00:35:28.248 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-10-21 00:35:29.263 [restartedMain] ERROR com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Exception during pool initialization.
java.sql.SQLException: Access denied for user 'root'@'localhost' (using password: NO)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:815)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:438)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:241)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:189)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:100)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:428)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcIsolationDelegate.delegateWork(JdbcIsolationDelegate.java:61)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.getJdbcEnvironmentUsingJdbcMetadata(JdbcEnvironmentInitiator.java:276)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:107)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:68)
	at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:130)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:238)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:215)
	at org.hibernate.boot.model.relational.Database.<init>(Database.java:45)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.getDatabase(InFlightMetadataCollectorImpl.java:223)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.<init>(InFlightMetadataCollectorImpl.java:191)
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:170)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1432)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1503)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1234)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:952)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at org.xfy.hotelpricecomparison.HotelPriceComparisonApplication.main(HotelPriceComparisonApplication.java:16)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
2025-10-21 00:35:29.270 [restartedMain] WARN  o.h.e.jdbc.env.internal.JdbcEnvironmentInitiator - HHH000342: Could not obtain connection to query metadata
java.lang.NullPointerException: Cannot invoke "org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(java.sql.SQLException, String)" because the return value of "org.hibernate.resource.transaction.backend.jdbc.internal.JdbcIsolationDelegate.sqlExceptionHelper()" is null
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcIsolationDelegate.delegateWork(JdbcIsolationDelegate.java:116)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.getJdbcEnvironmentUsingJdbcMetadata(JdbcEnvironmentInitiator.java:276)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:107)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:68)
	at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:130)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:238)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:215)
	at org.hibernate.boot.model.relational.Database.<init>(Database.java:45)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.getDatabase(InFlightMetadataCollectorImpl.java:223)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.<init>(InFlightMetadataCollectorImpl.java:191)
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:170)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1432)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1503)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1234)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:952)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at org.xfy.hotelpricecomparison.HotelPriceComparisonApplication.main(HotelPriceComparisonApplication.java:16)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
2025-10-21 00:35:29.275 [restartedMain] ERROR o.s.orm.jpa.LocalContainerEntityManagerFactoryBean - Failed to initialize JPA EntityManagerFactory: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment] due to: Unable to determine Dialect without JDBC metadata (please set 'jakarta.persistence.jdbc.url' for common cases or 'hibernate.dialect' when a custom Dialect implementation must be provided)
2025-10-21 00:35:29.276 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment] due to: Unable to determine Dialect without JDBC metadata (please set 'jakarta.persistence.jdbc.url' for common cases or 'hibernate.dialect' when a custom Dialect implementation must be provided)
2025-10-21 00:35:29.283 [restartedMain] INFO  org.apache.catalina.core.StandardService - Stopping service [Tomcat]
2025-10-21 00:35:29.302 [restartedMain] INFO  o.s.b.a.logging.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-10-21 00:35:29.323 [restartedMain] ERROR org.springframework.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment] due to: Unable to determine Dialect without JDBC metadata (please set 'jakarta.persistence.jdbc.url' for common cases or 'hibernate.dialect' when a custom Dialect implementation must be provided)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1786)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1234)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:952)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at org.xfy.hotelpricecomparison.HotelPriceComparisonApplication.main(HotelPriceComparisonApplication.java:16)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment] due to: Unable to determine Dialect without JDBC metadata (please set 'jakarta.persistence.jdbc.url' for common cases or 'hibernate.dialect' when a custom Dialect implementation must be provided)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:276)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:238)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:215)
	at org.hibernate.boot.model.relational.Database.<init>(Database.java:45)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.getDatabase(InFlightMetadataCollectorImpl.java:223)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.<init>(InFlightMetadataCollectorImpl.java:191)
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:170)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1432)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1503)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	... 19 common frames omitted
Caused by: org.hibernate.HibernateException: Unable to determine Dialect without JDBC metadata (please set 'jakarta.persistence.jdbc.url' for common cases or 'hibernate.dialect' when a custom Dialect implementation must be provided)
	at org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl.determineDialect(DialectFactoryImpl.java:191)
	at org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl.buildDialect(DialectFactoryImpl.java:87)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.getJdbcEnvironmentWithDefaults(JdbcEnvironmentInitiator.java:143)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.getJdbcEnvironmentUsingJdbcMetadata(JdbcEnvironmentInitiator.java:348)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:107)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:68)
	at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:130)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263)
	... 34 common frames omitted
2025-10-21 00:39:25.880 [restartedMain] INFO  o.x.h.HotelPriceComparisonApplication - Starting HotelPriceComparisonApplication using Java 21.0.8 with PID 15184 (C:\Hotel\HotelBack\build\classes\java\main started by wangz in C:\Hotel\HotelBack)
2025-10-21 00:39:25.882 [restartedMain] DEBUG o.x.h.HotelPriceComparisonApplication - Running with Spring Boot v3.2.5, Spring v6.1.6
2025-10-21 00:39:25.883 [restartedMain] INFO  o.x.h.HotelPriceComparisonApplication - No active profile set, falling back to 1 default profile: "default"
2025-10-21 00:39:25.978 [restartedMain] INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-10-21 00:39:25.978 [restartedMain] INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-10-21 00:39:28.140 [restartedMain] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-21 00:39:28.142 [restartedMain] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-21 00:39:28.205 [restartedMain] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 54 ms. Found 0 JPA repository interfaces.
2025-10-21 00:39:28.222 [restartedMain] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-21 00:39:28.223 [restartedMain] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-21 00:39:28.243 [restartedMain] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 9 ms. Found 0 Redis repository interfaces.
2025-10-21 00:39:30.092 [restartedMain] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-10-21 00:39:30.112 [restartedMain] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-10-21 00:39:30.113 [restartedMain] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.20]
2025-10-21 00:39:30.190 [restartedMain] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-10-21 00:39:30.190 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 4211 ms
2025-10-21 00:39:30.519 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-10-21 00:39:30.778 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@f685d2d
2025-10-21 00:39:30.782 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-10-21 00:39:30.793 [restartedMain] INFO  o.s.b.autoconfigure.h2.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:mysql://localhost:3306/hotel_price_comparison?useUnicode=true&characterEncoding=utf8&useSSL=false&serverTimezone=Asia/Shanghai&allowPublicKeyRetrieval=true'
2025-10-21 00:39:31.211 [restartedMain] INFO  org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-21 00:39:31.295 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.4.Final
2025-10-21 00:39:31.344 [restartedMain] INFO  o.hibernate.cache.internal.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-10-21 00:39:31.682 [restartedMain] INFO  o.s.o.j.persistenceunit.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-21 00:39:33.890 [restartedMain] INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-10-21 00:39:33.895 [restartedMain] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-21 00:39:35.202 [restartedMain] WARN  c.b.mybatisplus.core.injector.methods.Insert - [org.xfy.hotelpricecomparison.mapper.SysUserMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2025-10-21 00:39:35.209 [restartedMain] WARN  c.b.mybatisplus.core.injector.methods.SelectList - [org.xfy.hotelpricecomparison.mapper.SysUserMapper.selectList] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.SelectList]
2025-10-21 00:39:35.209 [restartedMain] WARN  c.b.mybatisplus.core.injector.methods.DeleteById - [org.xfy.hotelpricecomparison.mapper.SysUserMapper.deleteById] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.DeleteById]
2025-10-21 00:39:35.211 [restartedMain] WARN  c.b.mybatisplus.core.injector.methods.UpdateById - [org.xfy.hotelpricecomparison.mapper.SysUserMapper.updateById] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.UpdateById]
2025-10-21 00:39:35.211 [restartedMain] WARN  c.b.mybatisplus.core.injector.methods.SelectById - [org.xfy.hotelpricecomparison.mapper.SysUserMapper.selectById] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.SelectById]
2025-10-21 00:39:36.661 [restartedMain] INFO  o.x.h.service.impl.JinjiangApiServiceImpl - RestTemplate超时配置已设置 - 连接超时: 5000ms, 读取超时: 10000ms
2025-10-21 00:39:38.612 [restartedMain] INFO  o.xfy.hotelpricecomparison.config.SchedulingConfig - 定时任务线程池配置完成，线程池大小: 0
2025-10-21 00:39:38.803 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-10-21 00:39:40.430 [restartedMain] INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver - Exposing 2 endpoint(s) beneath base path '/actuator'
2025-10-21 00:39:40.709 [restartedMain] INFO  o.s.security.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4d4c8ef6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@27c7a3be, org.springframework.security.web.context.SecurityContextHolderFilter@77e334ef, org.springframework.security.web.header.HeaderWriterFilter@1e28ca87, org.springframework.web.filter.CorsFilter@7eeb31ce, org.springframework.security.web.authentication.logout.LogoutFilter@538bf189, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6bd2b210, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5f9cc68f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@59ea8eb4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@736308e8, org.springframework.security.web.session.SessionManagementFilter@743efe7e, org.springframework.security.web.access.ExceptionTranslationFilter@38bed563, org.springframework.security.web.access.intercept.AuthorizationFilter@70987a39]
2025-10-21 00:39:43.519 [restartedMain] INFO  o.s.b.d.autoconfigure.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-10-21 00:39:43.671 [restartedMain] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2025-10-21 00:39:43.673 [restartedMain] INFO  o.s.m.simp.broker.SimpleBrokerMessageHandler - Starting...
2025-10-21 00:39:43.674 [restartedMain] INFO  o.s.m.simp.broker.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@2811dc00]]
2025-10-21 00:39:43.674 [restartedMain] INFO  o.s.m.simp.broker.SimpleBrokerMessageHandler - Started.
2025-10-21 00:39:43.699 [restartedMain] INFO  o.x.h.HotelPriceComparisonApplication - Started HotelPriceComparisonApplication in 18.442 seconds (process running for 19.075)
2025-10-21 00:39:43.708 [scheduled-1] INFO  o.x.h.schedule.AutoStatusSyncScheduler - 开始执行定时自动状态同步任务
2025-10-21 00:39:43.708 [scheduled-2] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 开始同步去哪网订单...
2025-10-21 00:39:43.708 [scheduled-4] INFO  o.x.h.schedule.HotelChangeNotificationScheduler - === 开始执行酒店变更通知定时任务 ===
2025-10-21 00:39:43.709 [scheduled-2] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 查询时间范围: fromDate=20251021002943, toDate=20251021003943
2025-10-21 00:39:43.709 [scheduled-2] INFO  o.x.h.service.impl.QunarOrderServiceImpl - 开始查询去哪网订单列表: fromDate=20251021002943, toDate=20251021003943, version=3.7
2025-10-21 00:39:43.709 [scheduled-2] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 生成HMAC签名: data=your_sign_key20251021002943202510210039433.7, hmac=7cc6d5eb6f33a4540e7caada5d2175c9
2025-10-21 00:39:43.725 [scheduled-2] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 构建请求URL: https://2402add9-4b1a-450b-9bed-701d6679a21b.mock.pstmn.io/api.qunar.com/api/ota/otaQueryOrder?fromDate=20251021002943&toDate=20251021003943&version=3.7&hmac=7cc6d5eb6f33a4540e7caada5d2175c9
2025-10-21 00:39:43.782 [scheduled-1] INFO  o.x.h.service.impl.AutoStatusSyncServiceImpl - 开始同步所有酒店状态
2025-10-21 00:39:43.782 [scheduled-4] INFO  o.x.h.service.impl.HotelChangeServiceImpl - 开始通知去哪网酒店变更...
2025-10-21 00:39:43.783 [scheduled-4] INFO  o.x.h.service.impl.HotelChangeServiceImpl - 获取有变化的酒店列表
2025-10-21 00:39:43.816 [scheduled-4] DEBUG o.x.h.mapper.HotelChangeMapper.getChangedHotels - ==>  Preparing: SELECT id, hotel_code, hotel_name, city_name, address, hotel_phone, description, is_changed, change_type, updated_at FROM hotels WHERE is_changed = 1 AND is_push_to_distributors = 1 ORDER BY updated_at DESC
2025-10-21 00:39:43.850 [scheduled-4] DEBUG o.x.h.mapper.HotelChangeMapper.getChangedHotels - ==> Parameters: 
2025-10-21 00:39:43.856 [scheduled-1] DEBUG o.x.h.mapper.HotelMapper.selectList - ==>  Preparing: SELECT id,hotel_code,hotel_name,hotel_name_en,address,city_code,city_name,district_code,district_name,country_code,hotel_phone,hotel_email,description,policy,guide,check_in_time,check_out_time,hotel_level,star_type,business_type,hotel_type,status,valid,is_request_supplier_data,is_push_to_distributors,open_date,close_date,decoration_date,allow_minors,pets,restaurant,support_foreign_guest,require_eng_name,certificate_type,settlement_currency,brand_code,missing_count,created_at,updated_at,is_changed,change_type FROM hotels WHERE (valid = ?)
2025-10-21 00:39:43.858 [scheduled-1] DEBUG o.x.h.mapper.HotelMapper.selectList - ==> Parameters: 1(Integer)
2025-10-21 00:39:43.907 [scheduled-4] DEBUG o.x.h.mapper.HotelChangeMapper.getChangedHotels - <==      Total: 0
2025-10-21 00:39:43.908 [scheduled-4] INFO  o.x.h.service.impl.HotelChangeServiceImpl - 找到 0 个有变化的酒店
2025-10-21 00:39:43.908 [scheduled-4] INFO  o.x.h.service.impl.HotelChangeServiceImpl - 没有发现酒店变更，跳过通知
2025-10-21 00:39:43.911 [scheduled-4] INFO  o.x.h.schedule.HotelChangeNotificationScheduler - === 酒店变更通知任务执行成功，耗时: 203ms ===
2025-10-21 00:39:43.912 [scheduled-1] DEBUG o.x.h.mapper.HotelMapper.selectList - <==      Total: 3
2025-10-21 00:39:43.912 [scheduled-1] INFO  o.x.h.service.impl.AutoStatusSyncServiceImpl - 开始同步酒店 1 的渠道状态
2025-10-21 00:39:43.916 [scheduled-1] DEBUG o.x.h.mapper.HotelMapper.selectById - ==>  Preparing: SELECT id,hotel_code,hotel_name,hotel_name_en,address,city_code,city_name,district_code,district_name,country_code,hotel_phone,hotel_email,description,policy,guide,check_in_time,check_out_time,hotel_level,star_type,business_type,hotel_type,status,valid,is_request_supplier_data,is_push_to_distributors,open_date,close_date,decoration_date,allow_minors,pets,restaurant,support_foreign_guest,require_eng_name,certificate_type,settlement_currency,brand_code,missing_count,created_at,updated_at,is_changed,change_type FROM hotels WHERE id=?
2025-10-21 00:39:43.919 [scheduled-1] DEBUG o.x.h.mapper.HotelMapper.selectById - ==> Parameters: 1(Long)
2025-10-21 00:39:43.923 [scheduled-1] DEBUG o.x.h.mapper.HotelMapper.selectById - <==      Total: 1
2025-10-21 00:39:43.924 [scheduled-1] DEBUG o.x.h.mapper.RoomTypeMapper.selectList - ==>  Preparing: SELECT id,hotel_id,room_type_name,room_type_code,room_type_name_en,max_occupancy,bed_type,bed_type_name,room_size,supplier_specific_data,distributor_specific_data,description,status,valid,created_at,updated_at FROM room_types WHERE (hotel_id = ? AND valid = ?)
2025-10-21 00:39:43.925 [scheduled-1] DEBUG o.x.h.mapper.RoomTypeMapper.selectList - ==> Parameters: 1(Long), 1(Integer)
2025-10-21 00:39:43.943 [scheduled-1] DEBUG o.x.h.mapper.RoomTypeMapper.selectList - <==      Total: 2
2025-10-21 00:39:43.945 [scheduled-1] DEBUG o.x.h.m.D.selectList - ==>  Preparing: SELECT id,room_type_id,distributor_id,distributor_room_type_id,distributor_room_type_name,mapping_status,created_at,updated_at FROM distributor_room_type_mappings WHERE (room_type_id IN (?,?))
2025-10-21 00:39:43.946 [scheduled-1] DEBUG o.x.h.m.D.selectList - ==> Parameters: 1(Long), 2(Long)
2025-10-21 00:39:43.963 [scheduled-1] DEBUG o.x.h.m.D.selectList - <==      Total: 6
2025-10-21 00:39:43.965 [scheduled-1] DEBUG o.x.h.mapper.RatePlanMapper.selectList - ==>  Preparing: SELECT id,room_type_id,product_code,product_name,price_type,currency,guests,has_effective_time,incremental_preferent,preferent_info,support_pay,status,valid,supplier_specific_data,distributor_specific_data,created_at,updated_at FROM rate_plans WHERE (room_type_id = ? AND valid = ?)
2025-10-21 00:39:43.966 [scheduled-1] DEBUG o.x.h.mapper.RatePlanMapper.selectList - ==> Parameters: 1(Long), 1(Integer)
2025-10-21 00:39:43.981 [scheduled-1] DEBUG o.x.h.mapper.RatePlanMapper.selectList - <==      Total: 2
2025-10-21 00:39:43.984 [scheduled-1] DEBUG o.x.h.mapper.DailyRateMapper.selectList - ==>  Preparing: SELECT id,rate_plan_id,business_date,advance_rate,spot_rate,rack_rate,local_rate,orig_advance_rate,orig_spot_rate,quota,advance_breakfast_count,spot_breakfast_count,advance_fee_rate,spot_fee_rate,start_time,end_time,free_cancel_time,availability,distributor_id,created_at,updated_at FROM daily_rates WHERE (rate_plan_id = ? AND distributor_id = ?)
2025-10-21 00:39:43.984 [scheduled-1] DEBUG o.x.h.mapper.DailyRateMapper.selectList - ==> Parameters: 1(Long), 1(Long)
2025-10-21 00:39:44.001 [scheduled-1] DEBUG o.x.h.mapper.DailyRateMapper.selectList - <==      Total: 5
2025-10-21 00:39:44.003 [scheduled-1] DEBUG o.x.h.mapper.DailyRateMapper.selectList - ==>  Preparing: SELECT id,rate_plan_id,business_date,advance_rate,spot_rate,rack_rate,local_rate,orig_advance_rate,orig_spot_rate,quota,advance_breakfast_count,spot_breakfast_count,advance_fee_rate,spot_fee_rate,start_time,end_time,free_cancel_time,availability,distributor_id,created_at,updated_at FROM daily_rates WHERE (rate_plan_id = ? AND distributor_id = ?)
2025-10-21 00:39:44.004 [scheduled-1] DEBUG o.x.h.mapper.DailyRateMapper.selectList - ==> Parameters: 1(Long), 2(Long)
2025-10-21 00:39:44.006 [scheduled-1] DEBUG o.x.h.mapper.DailyRateMapper.selectList - <==      Total: 5
2025-10-21 00:39:44.007 [scheduled-1] DEBUG o.x.h.mapper.DailyRateMapper.selectList - ==>  Preparing: SELECT id,rate_plan_id,business_date,advance_rate,spot_rate,rack_rate,local_rate,orig_advance_rate,orig_spot_rate,quota,advance_breakfast_count,spot_breakfast_count,advance_fee_rate,spot_fee_rate,start_time,end_time,free_cancel_time,availability,distributor_id,created_at,updated_at FROM daily_rates WHERE (rate_plan_id = ? AND distributor_id = ?)
2025-10-21 00:39:44.007 [scheduled-1] DEBUG o.x.h.mapper.DailyRateMapper.selectList - ==> Parameters: 1(Long), 3(Long)
2025-10-21 00:39:44.011 [scheduled-1] DEBUG o.x.h.mapper.DailyRateMapper.selectList - <==      Total: 5
2025-10-21 00:39:44.011 [scheduled-1] INFO  o.x.h.service.impl.AutoStatusSyncServiceImpl - 检查酒店状态: 1
2025-10-21 00:39:44.016 [scheduled-1] INFO  o.x.h.service.impl.AutoStatusSyncServiceImpl - 酒店 1 渠道状态同步完成: 同步完成: 检查了 3 个渠道，更新了 0 个渠道，酒店状态无需更新
2025-10-21 00:39:44.017 [scheduled-1] INFO  o.x.h.service.impl.AutoStatusSyncServiceImpl - 开始同步酒店 2 的渠道状态
2025-10-21 00:39:44.017 [scheduled-1] DEBUG o.x.h.mapper.HotelMapper.selectById - ==>  Preparing: SELECT id,hotel_code,hotel_name,hotel_name_en,address,city_code,city_name,district_code,district_name,country_code,hotel_phone,hotel_email,description,policy,guide,check_in_time,check_out_time,hotel_level,star_type,business_type,hotel_type,status,valid,is_request_supplier_data,is_push_to_distributors,open_date,close_date,decoration_date,allow_minors,pets,restaurant,support_foreign_guest,require_eng_name,certificate_type,settlement_currency,brand_code,missing_count,created_at,updated_at,is_changed,change_type FROM hotels WHERE id=?
2025-10-21 00:39:44.018 [scheduled-1] DEBUG o.x.h.mapper.HotelMapper.selectById - ==> Parameters: 2(Long)
2025-10-21 00:39:44.022 [scheduled-1] DEBUG o.x.h.mapper.HotelMapper.selectById - <==      Total: 1
2025-10-21 00:39:44.023 [scheduled-1] DEBUG o.x.h.mapper.RoomTypeMapper.selectList - ==>  Preparing: SELECT id,hotel_id,room_type_name,room_type_code,room_type_name_en,max_occupancy,bed_type,bed_type_name,room_size,supplier_specific_data,distributor_specific_data,description,status,valid,created_at,updated_at FROM room_types WHERE (hotel_id = ? AND valid = ?)
2025-10-21 00:39:44.023 [scheduled-1] DEBUG o.x.h.mapper.RoomTypeMapper.selectList - ==> Parameters: 2(Long), 1(Integer)
2025-10-21 00:39:44.025 [scheduled-1] DEBUG o.x.h.mapper.RoomTypeMapper.selectList - <==      Total: 2
2025-10-21 00:39:44.026 [scheduled-1] DEBUG o.x.h.m.D.selectList - ==>  Preparing: SELECT id,room_type_id,distributor_id,distributor_room_type_id,distributor_room_type_name,mapping_status,created_at,updated_at FROM distributor_room_type_mappings WHERE (room_type_id IN (?,?))
2025-10-21 00:39:44.027 [scheduled-1] DEBUG o.x.h.m.D.selectList - ==> Parameters: 3(Long), 4(Long)
2025-10-21 00:39:44.029 [scheduled-1] DEBUG o.x.h.m.D.selectList - <==      Total: 6
2025-10-21 00:39:44.030 [scheduled-1] DEBUG o.x.h.mapper.RatePlanMapper.selectList - ==>  Preparing: SELECT id,room_type_id,product_code,product_name,price_type,currency,guests,has_effective_time,incremental_preferent,preferent_info,support_pay,status,valid,supplier_specific_data,distributor_specific_data,created_at,updated_at FROM rate_plans WHERE (room_type_id = ? AND valid = ?)
2025-10-21 00:39:44.031 [scheduled-1] DEBUG o.x.h.mapper.RatePlanMapper.selectList - ==> Parameters: 3(Long), 1(Integer)
2025-10-21 00:39:44.034 [scheduled-1] DEBUG o.x.h.mapper.RatePlanMapper.selectList - <==      Total: 2
2025-10-21 00:39:44.036 [scheduled-1] DEBUG o.x.h.mapper.DailyRateMapper.selectList - ==>  Preparing: SELECT id,rate_plan_id,business_date,advance_rate,spot_rate,rack_rate,local_rate,orig_advance_rate,orig_spot_rate,quota,advance_breakfast_count,spot_breakfast_count,advance_fee_rate,spot_fee_rate,start_time,end_time,free_cancel_time,availability,distributor_id,created_at,updated_at FROM daily_rates WHERE (rate_plan_id = ? AND distributor_id = ?)
2025-10-21 00:39:44.037 [scheduled-1] DEBUG o.x.h.mapper.DailyRateMapper.selectList - ==> Parameters: 5(Long), 1(Long)
2025-10-21 00:39:44.040 [scheduled-1] DEBUG o.x.h.mapper.DailyRateMapper.selectList - <==      Total: 5
2025-10-21 00:39:44.042 [scheduled-1] DEBUG o.x.h.mapper.DailyRateMapper.selectList - ==>  Preparing: SELECT id,rate_plan_id,business_date,advance_rate,spot_rate,rack_rate,local_rate,orig_advance_rate,orig_spot_rate,quota,advance_breakfast_count,spot_breakfast_count,advance_fee_rate,spot_fee_rate,start_time,end_time,free_cancel_time,availability,distributor_id,created_at,updated_at FROM daily_rates WHERE (rate_plan_id = ? AND distributor_id = ?)
2025-10-21 00:39:44.042 [scheduled-1] DEBUG o.x.h.mapper.DailyRateMapper.selectList - ==> Parameters: 5(Long), 2(Long)
2025-10-21 00:39:44.044 [scheduled-1] DEBUG o.x.h.mapper.DailyRateMapper.selectList - <==      Total: 5
2025-10-21 00:39:44.045 [scheduled-1] DEBUG o.x.h.mapper.DailyRateMapper.selectList - ==>  Preparing: SELECT id,rate_plan_id,business_date,advance_rate,spot_rate,rack_rate,local_rate,orig_advance_rate,orig_spot_rate,quota,advance_breakfast_count,spot_breakfast_count,advance_fee_rate,spot_fee_rate,start_time,end_time,free_cancel_time,availability,distributor_id,created_at,updated_at FROM daily_rates WHERE (rate_plan_id = ? AND distributor_id = ?)
2025-10-21 00:39:44.046 [scheduled-1] DEBUG o.x.h.mapper.DailyRateMapper.selectList - ==> Parameters: 5(Long), 3(Long)
2025-10-21 00:39:44.050 [scheduled-1] DEBUG o.x.h.mapper.DailyRateMapper.selectList - <==      Total: 5
2025-10-21 00:39:44.050 [scheduled-1] INFO  o.x.h.service.impl.AutoStatusSyncServiceImpl - 检查酒店状态: 2
2025-10-21 00:39:44.051 [scheduled-1] INFO  o.x.h.service.impl.AutoStatusSyncServiceImpl - 酒店 2 渠道状态同步完成: 同步完成: 检查了 3 个渠道，更新了 0 个渠道，酒店状态无需更新
2025-10-21 00:39:44.052 [scheduled-1] INFO  o.x.h.service.impl.AutoStatusSyncServiceImpl - 开始同步酒店 3 的渠道状态
2025-10-21 00:39:44.052 [scheduled-1] DEBUG o.x.h.mapper.HotelMapper.selectById - ==>  Preparing: SELECT id,hotel_code,hotel_name,hotel_name_en,address,city_code,city_name,district_code,district_name,country_code,hotel_phone,hotel_email,description,policy,guide,check_in_time,check_out_time,hotel_level,star_type,business_type,hotel_type,status,valid,is_request_supplier_data,is_push_to_distributors,open_date,close_date,decoration_date,allow_minors,pets,restaurant,support_foreign_guest,require_eng_name,certificate_type,settlement_currency,brand_code,missing_count,created_at,updated_at,is_changed,change_type FROM hotels WHERE id=?
2025-10-21 00:39:44.052 [scheduled-1] DEBUG o.x.h.mapper.HotelMapper.selectById - ==> Parameters: 3(Long)
2025-10-21 00:39:44.054 [scheduled-1] DEBUG o.x.h.mapper.HotelMapper.selectById - <==      Total: 1
2025-10-21 00:39:44.055 [scheduled-1] DEBUG o.x.h.mapper.RoomTypeMapper.selectList - ==>  Preparing: SELECT id,hotel_id,room_type_name,room_type_code,room_type_name_en,max_occupancy,bed_type,bed_type_name,room_size,supplier_specific_data,distributor_specific_data,description,status,valid,created_at,updated_at FROM room_types WHERE (hotel_id = ? AND valid = ?)
2025-10-21 00:39:44.056 [scheduled-1] DEBUG o.x.h.mapper.RoomTypeMapper.selectList - ==> Parameters: 3(Long), 1(Integer)
2025-10-21 00:39:44.059 [scheduled-1] DEBUG o.x.h.mapper.RoomTypeMapper.selectList - <==      Total: 2
2025-10-21 00:39:44.060 [scheduled-1] DEBUG o.x.h.m.D.selectList - ==>  Preparing: SELECT id,room_type_id,distributor_id,distributor_room_type_id,distributor_room_type_name,mapping_status,created_at,updated_at FROM distributor_room_type_mappings WHERE (room_type_id IN (?,?))
2025-10-21 00:39:44.061 [scheduled-1] DEBUG o.x.h.m.D.selectList - ==> Parameters: 5(Long), 6(Long)
2025-10-21 00:39:44.063 [scheduled-1] DEBUG o.x.h.m.D.selectList - <==      Total: 6
2025-10-21 00:39:44.065 [scheduled-1] DEBUG o.x.h.mapper.RatePlanMapper.selectList - ==>  Preparing: SELECT id,room_type_id,product_code,product_name,price_type,currency,guests,has_effective_time,incremental_preferent,preferent_info,support_pay,status,valid,supplier_specific_data,distributor_specific_data,created_at,updated_at FROM rate_plans WHERE (room_type_id = ? AND valid = ?)
2025-10-21 00:39:44.066 [scheduled-1] DEBUG o.x.h.mapper.RatePlanMapper.selectList - ==> Parameters: 5(Long), 1(Integer)
2025-10-21 00:39:44.068 [scheduled-1] DEBUG o.x.h.mapper.RatePlanMapper.selectList - <==      Total: 2
2025-10-21 00:39:44.069 [scheduled-1] DEBUG o.x.h.mapper.DailyRateMapper.selectList - ==>  Preparing: SELECT id,rate_plan_id,business_date,advance_rate,spot_rate,rack_rate,local_rate,orig_advance_rate,orig_spot_rate,quota,advance_breakfast_count,spot_breakfast_count,advance_fee_rate,spot_fee_rate,start_time,end_time,free_cancel_time,availability,distributor_id,created_at,updated_at FROM daily_rates WHERE (rate_plan_id = ? AND distributor_id = ?)
2025-10-21 00:39:44.070 [scheduled-1] DEBUG o.x.h.mapper.DailyRateMapper.selectList - ==> Parameters: 9(Long), 1(Long)
2025-10-21 00:39:44.072 [scheduled-1] DEBUG o.x.h.mapper.DailyRateMapper.selectList - <==      Total: 5
2025-10-21 00:39:44.073 [scheduled-1] DEBUG o.x.h.mapper.DailyRateMapper.selectList - ==>  Preparing: SELECT id,rate_plan_id,business_date,advance_rate,spot_rate,rack_rate,local_rate,orig_advance_rate,orig_spot_rate,quota,advance_breakfast_count,spot_breakfast_count,advance_fee_rate,spot_fee_rate,start_time,end_time,free_cancel_time,availability,distributor_id,created_at,updated_at FROM daily_rates WHERE (rate_plan_id = ? AND distributor_id = ?)
2025-10-21 00:39:44.074 [scheduled-1] DEBUG o.x.h.mapper.DailyRateMapper.selectList - ==> Parameters: 10(Long), 1(Long)
2025-10-21 00:39:44.076 [scheduled-1] DEBUG o.x.h.mapper.DailyRateMapper.selectList - <==      Total: 5
2025-10-21 00:39:44.077 [scheduled-1] DEBUG o.x.h.mapper.RatePlanMapper.selectList - ==>  Preparing: SELECT id,room_type_id,product_code,product_name,price_type,currency,guests,has_effective_time,incremental_preferent,preferent_info,support_pay,status,valid,supplier_specific_data,distributor_specific_data,created_at,updated_at FROM rate_plans WHERE (room_type_id = ? AND valid = ?)
2025-10-21 00:39:44.078 [scheduled-1] DEBUG o.x.h.mapper.RatePlanMapper.selectList - ==> Parameters: 6(Long), 1(Integer)
2025-10-21 00:39:44.079 [scheduled-1] DEBUG o.x.h.mapper.RatePlanMapper.selectList - <==      Total: 2
2025-10-21 00:39:44.081 [scheduled-1] DEBUG o.x.h.mapper.DailyRateMapper.selectList - ==>  Preparing: SELECT id,rate_plan_id,business_date,advance_rate,spot_rate,rack_rate,local_rate,orig_advance_rate,orig_spot_rate,quota,advance_breakfast_count,spot_breakfast_count,advance_fee_rate,spot_fee_rate,start_time,end_time,free_cancel_time,availability,distributor_id,created_at,updated_at FROM daily_rates WHERE (rate_plan_id = ? AND distributor_id = ?)
2025-10-21 00:39:44.082 [scheduled-1] DEBUG o.x.h.mapper.DailyRateMapper.selectList - ==> Parameters: 11(Long), 1(Long)
2025-10-21 00:39:44.084 [scheduled-1] DEBUG o.x.h.mapper.DailyRateMapper.selectList - <==      Total: 5
2025-10-21 00:39:44.085 [scheduled-1] DEBUG o.x.h.mapper.DailyRateMapper.selectList - ==>  Preparing: SELECT id,rate_plan_id,business_date,advance_rate,spot_rate,rack_rate,local_rate,orig_advance_rate,orig_spot_rate,quota,advance_breakfast_count,spot_breakfast_count,advance_fee_rate,spot_fee_rate,start_time,end_time,free_cancel_time,availability,distributor_id,created_at,updated_at FROM daily_rates WHERE (rate_plan_id = ? AND distributor_id = ?)
2025-10-21 00:39:44.086 [scheduled-1] DEBUG o.x.h.mapper.DailyRateMapper.selectList - ==> Parameters: 12(Long), 1(Long)
2025-10-21 00:39:44.090 [scheduled-1] DEBUG o.x.h.mapper.DailyRateMapper.selectList - <==      Total: 5
2025-10-21 00:39:44.091 [scheduled-1] DEBUG o.x.h.mapper.DailyRateMapper.selectList - ==>  Preparing: SELECT id,rate_plan_id,business_date,advance_rate,spot_rate,rack_rate,local_rate,orig_advance_rate,orig_spot_rate,quota,advance_breakfast_count,spot_breakfast_count,advance_fee_rate,spot_fee_rate,start_time,end_time,free_cancel_time,availability,distributor_id,created_at,updated_at FROM daily_rates WHERE (rate_plan_id = ? AND distributor_id = ?)
2025-10-21 00:39:44.091 [scheduled-1] DEBUG o.x.h.mapper.DailyRateMapper.selectList - ==> Parameters: 9(Long), 2(Long)
2025-10-21 00:39:44.093 [scheduled-1] DEBUG o.x.h.mapper.DailyRateMapper.selectList - <==      Total: 5
2025-10-21 00:39:44.094 [scheduled-1] DEBUG o.x.h.mapper.DailyRateMapper.selectList - ==>  Preparing: SELECT id,rate_plan_id,business_date,advance_rate,spot_rate,rack_rate,local_rate,orig_advance_rate,orig_spot_rate,quota,advance_breakfast_count,spot_breakfast_count,advance_fee_rate,spot_fee_rate,start_time,end_time,free_cancel_time,availability,distributor_id,created_at,updated_at FROM daily_rates WHERE (rate_plan_id = ? AND distributor_id = ?)
2025-10-21 00:39:44.095 [scheduled-1] DEBUG o.x.h.mapper.DailyRateMapper.selectList - ==> Parameters: 9(Long), 3(Long)
2025-10-21 00:39:44.096 [scheduled-1] DEBUG o.x.h.mapper.DailyRateMapper.selectList - <==      Total: 5
2025-10-21 00:39:44.097 [scheduled-1] INFO  o.x.h.service.impl.AutoStatusSyncServiceImpl - 检查酒店状态: 3
2025-10-21 00:39:44.100 [scheduled-1] INFO  o.x.h.service.impl.AutoStatusSyncServiceImpl - 酒店 3 渠道状态同步完成: 同步完成: 检查了 3 个渠道，更新了 0 个渠道，酒店状态无需更新
2025-10-21 00:39:44.100 [scheduled-1] INFO  o.x.h.service.impl.AutoStatusSyncServiceImpl - 所有酒店状态同步完成，共处理 3 个酒店
2025-10-21 00:39:44.104 [scheduled-1] INFO  o.x.h.schedule.AutoStatusSyncScheduler - 定时自动状态同步完成 - 耗时: 393ms, 处理酒店: 3, 更新酒店: 0, 总渠道: 9, 更新渠道: 0
2025-10-21 00:39:45.948 [scheduled-2] ERROR o.x.h.service.impl.QunarOrderServiceImpl - 查询去哪网订单列表异常
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:431)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrderList(QunarOrderServiceImpl.java:53)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrdersByDateRange(QunarOrderServiceImpl.java:78)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl.syncOrdersFromQunar(QunarOrderSyncServiceImpl.java:66)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:716)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl$$SpringCGLIB$$0.syncOrdersFromQunar(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 00:39:45.957 [scheduled-2] ERROR o.x.h.service.impl.QunarOrderSyncServiceImpl - 去哪网订单查询失败: errCode=ERROR, errMsg=查询异常: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
2025-10-21 00:39:48.698 [scheduled-5] INFO  o.x.h.service.impl.ScheduledApiServiceImpl - 开始定时同步品牌数据...
2025-10-21 00:39:48.700 [scheduled-5] DEBUG o.x.h.service.impl.JinjiangApiServiceImpl - 开始调用供应商API获取品牌列表
2025-10-21 00:39:48.782 [scheduled-5] INFO  org.xfy.hotelpricecomparison.util.LogUtil - 调用API: https://dfd9fbc3-4bf3-4efc-90c8-60cc60d04ab6.mock.pstmn.io/brand/getBrandList, 请求参数: {"brandCode":null,"languageCode":0}
2025-10-21 00:39:48.785 [scheduled-5] DEBUG o.x.h.service.impl.JinjiangApiServiceImpl - 发送API请求到: https://dfd9fbc3-4bf3-4efc-90c8-60cc60d04ab6.mock.pstmn.io/brand/getBrandList
2025-10-21 00:39:50.606 [scheduled-5] INFO  org.xfy.hotelpricecomparison.util.LogUtil - API响应: https://dfd9fbc3-4bf3-4efc-90c8-60cc60d04ab6.mock.pstmn.io/brand/getBrandList, 响应内容: {"errors":null,"message":"success","msgCode":0,"result":{"brand":[{"brandCode":"JJ001","brandName":"锦江之星","brandType":1,"description":"简约舒适的经济型酒店品牌，为商务和休闲旅客提供优质住宿体验"},{"brandCode":"JJ002","brandName":"维也纳酒店","brandType":2,"description":"精品优选酒店品牌，融合欧式风情与现代设计，提供高品质住宿服务"},{"brandCode":"JJ003","brandName":"锦江都城","brandType":3,"description":"豪华高端酒店品牌，提供奢华住宿体验和顶级服务"}]}}
2025-10-21 00:39:50.612 [scheduled-5] DEBUG o.x.h.service.impl.JinjiangApiServiceImpl - API调用成功: https://dfd9fbc3-4bf3-4efc-90c8-60cc60d04ab6.mock.pstmn.io/brand/getBrandList, 响应状态码: 0
2025-10-21 00:39:50.616 [scheduled-5] INFO  org.xfy.hotelpricecomparison.util.LogUtil - API响应: https://dfd9fbc3-4bf3-4efc-90c8-60cc60d04ab6.mock.pstmn.io/brand/getBrandList (解析后), 响应内容: {"errors":null,"message":"success","msgCode":0,"result":{"brand":[{"brandCode":"JJ001","brandName":"锦江之星","brandType":1,"description":"简约舒适的经济型酒店品牌，为商务和休闲旅客提供优质住宿体验"},{"brandCode":"JJ002","brandName":"维也纳酒店","brandType":2,"description":"精品优选酒店品牌，融合欧式风情与现代设计，提供高品质住宿服务"},{"brandCode":"JJ003","brandName":"锦江都城","brandType":3,"description":"豪华高端酒店品牌，提供奢华住宿体验和顶级服务"}]}}
2025-10-21 00:39:50.617 [scheduled-5] INFO  o.x.h.service.impl.ScheduledApiServiceImpl - 成功获取品牌数据，品牌数量: 3
2025-10-21 00:39:50.619 [scheduled-5] INFO  org.xfy.hotelpricecomparison.util.ValidationUtil - 品牌数据验证完成，有效数据: 3, 无效数据: 0
2025-10-21 00:39:50.621 [scheduled-5] INFO  o.x.h.service.impl.JinjiangBrandServiceImpl - 批量保存或更新品牌，数量: 3
2025-10-21 00:39:50.622 [scheduled-5] ERROR o.x.h.service.impl.JinjiangBrandServiceImpl - 批量保存或更新品牌失败
org.apache.ibatis.binding.BindingException: Invalid bound statement (not found): org.xfy.hotelpricecomparison.mapper.JinjiangBrandMapper.selectByBrandCodes
	at org.apache.ibatis.binding.MapperMethod$SqlCommand.<init>(MapperMethod.java:229)
	at com.baomidou.mybatisplus.core.override.MybatisMapperMethod.<init>(MybatisMapperMethod.java:50)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.lambda$cachedInvoker$0(MybatisMapperProxy.java:111)
	at java.base/java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1708)
	at com.baomidou.mybatisplus.core.toolkit.CollectionUtils.computeIfAbsent(CollectionUtils.java:157)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.cachedInvoker(MybatisMapperProxy.java:98)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.invoke(MybatisMapperProxy.java:89)
	at jdk.proxy4/jdk.proxy4.$Proxy162.selectByBrandCodes(Unknown Source)
	at org.xfy.hotelpricecomparison.service.impl.JinjiangBrandServiceImpl.saveOrUpdateBrands(JinjiangBrandServiceImpl.java:110)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:392)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at org.xfy.hotelpricecomparison.service.impl.JinjiangBrandServiceImpl$$SpringCGLIB$$0.saveOrUpdateBrands(<generated>)
	at org.xfy.hotelpricecomparison.service.impl.ScheduledApiServiceImpl.syncBrandData(ScheduledApiServiceImpl.java:145)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 00:39:50.628 [scheduled-5] ERROR o.x.h.service.impl.ScheduledApiServiceImpl - 定时同步品牌数据失败
java.lang.RuntimeException: 批量保存或更新品牌失败: Invalid bound statement (not found): org.xfy.hotelpricecomparison.mapper.JinjiangBrandMapper.selectByBrandCodes
	at org.xfy.hotelpricecomparison.service.impl.JinjiangBrandServiceImpl.saveOrUpdateBrands(JinjiangBrandServiceImpl.java:152)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:392)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at org.xfy.hotelpricecomparison.service.impl.JinjiangBrandServiceImpl$$SpringCGLIB$$0.saveOrUpdateBrands(<generated>)
	at org.xfy.hotelpricecomparison.service.impl.ScheduledApiServiceImpl.syncBrandData(ScheduledApiServiceImpl.java:145)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.apache.ibatis.binding.BindingException: Invalid bound statement (not found): org.xfy.hotelpricecomparison.mapper.JinjiangBrandMapper.selectByBrandCodes
	at org.apache.ibatis.binding.MapperMethod$SqlCommand.<init>(MapperMethod.java:229)
	at com.baomidou.mybatisplus.core.override.MybatisMapperMethod.<init>(MybatisMapperMethod.java:50)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.lambda$cachedInvoker$0(MybatisMapperProxy.java:111)
	at java.base/java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1708)
	at com.baomidou.mybatisplus.core.toolkit.CollectionUtils.computeIfAbsent(CollectionUtils.java:157)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.cachedInvoker(MybatisMapperProxy.java:98)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.invoke(MybatisMapperProxy.java:89)
	at jdk.proxy4/jdk.proxy4.$Proxy162.selectByBrandCodes(Unknown Source)
	at org.xfy.hotelpricecomparison.service.impl.JinjiangBrandServiceImpl.saveOrUpdateBrands(JinjiangBrandServiceImpl.java:110)
	... 27 common frames omitted
2025-10-21 00:39:51.704 [scheduled-3] INFO  o.x.h.service.impl.ScheduledApiServiceImpl - 开始定时同步酒店ID列表...
2025-10-21 00:39:51.704 [scheduled-3] INFO  o.x.h.service.impl.ScheduledApiServiceImpl - 正在获取第 1 页酒店ID列表，每页 100 条
2025-10-21 00:39:51.704 [scheduled-3] DEBUG o.x.h.service.impl.JinjiangApiServiceImpl - 开始调用供应商API获取酒店ID列表 - 页码: 1, 每页数量: 100
2025-10-21 00:39:51.706 [scheduled-3] INFO  org.xfy.hotelpricecomparison.util.LogUtil - 调用API: https://dfd9fbc3-4bf3-4efc-90c8-60cc60d04ab6.mock.pstmn.io/hotel/getHotelIds, 请求参数: {"brandCodes":null,"pageNum":1,"pageSize":100}
2025-10-21 00:39:51.707 [scheduled-3] DEBUG o.x.h.service.impl.JinjiangApiServiceImpl - 发送API请求到: https://dfd9fbc3-4bf3-4efc-90c8-60cc60d04ab6.mock.pstmn.io/hotel/getHotelIds
2025-10-21 00:39:52.371 [scheduled-3] ERROR o.x.h.service.impl.JinjiangApiServiceImpl - HTTP客户端错误 - URL: https://dfd9fbc3-4bf3-4efc-90c8-60cc60d04ab6.mock.pstmn.io/hotel/getHotelIds, 状态码: 404 NOT_FOUND, 错误信息: {"error":{"name":"mockRequestNotFoundError","message":"Double check your method and the request path and try again. Learn more here: https://learning.postman.com/docs/design-apis/mock-apis/matching-algorithm/","header":"No matching requests"}}
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockRequestNotFoundError","message":"Double check your method and the request path and try again. Learn more here: https://learning.postman.com/docs/design-apis/mock-apis/matching-algorithm/","header":"No matching requests"}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.postForEntity(RestTemplate.java:538)
	at org.xfy.hotelpricecomparison.service.impl.JinjiangApiServiceImpl.callSupplierApi(JinjiangApiServiceImpl.java:195)
	at org.xfy.hotelpricecomparison.service.impl.JinjiangApiServiceImpl.getHotelIds(JinjiangApiServiceImpl.java:94)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.retry.annotation.AnnotationAwareRetryOperationsInterceptor.invoke(AnnotationAwareRetryOperationsInterceptor.java:164)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at org.xfy.hotelpricecomparison.service.impl.JinjiangApiServiceImpl$$SpringCGLIB$$0.getHotelIds(<generated>)
	at org.xfy.hotelpricecomparison.service.impl.ScheduledApiServiceImpl.syncHotelIds(ScheduledApiServiceImpl.java:188)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 00:39:52.374 [scheduled-3] WARN  o.x.h.service.impl.ScheduledApiServiceImpl - 第 1 页获取酒店ID列表失败，响应为空
2025-10-21 00:39:52.374 [scheduled-3] INFO  o.x.h.service.impl.ScheduledApiServiceImpl - 酒店ID列表同步完成，共获取并保存 0 个酒店ID
2025-10-21 00:39:53.697 [scheduled-4] INFO  o.x.h.service.impl.ScheduledApiServiceImpl - 开始定时同步酒店数据...
2025-10-21 00:39:53.698 [scheduled-4] INFO  o.x.h.service.impl.HotelServiceImpl - 获取未同步的酒店列表，限制数量: 50
2025-10-21 00:39:53.704 [scheduled-4] DEBUG o.x.h.mapper.HotelMapper.selectList - ==>  Preparing: SELECT id,hotel_code,hotel_name,hotel_name_en,address,city_code,city_name,district_code,district_name,country_code,hotel_phone,hotel_email,description,policy,guide,check_in_time,check_out_time,hotel_level,star_type,business_type,hotel_type,status,valid,is_request_supplier_data,is_push_to_distributors,open_date,close_date,decoration_date,allow_minors,pets,restaurant,support_foreign_guest,require_eng_name,certificate_type,settlement_currency,brand_code,missing_count,created_at,updated_at,is_changed,change_type FROM hotels WHERE (is_request_supplier_data = ? AND valid = ? AND hotel_code IS NOT NULL) ORDER BY created_at ASC LIMIT 50
2025-10-21 00:39:53.704 [scheduled-4] DEBUG o.x.h.mapper.HotelMapper.selectList - ==> Parameters: 1(Integer), 1(Integer)
2025-10-21 00:39:53.707 [scheduled-4] DEBUG o.x.h.mapper.HotelMapper.selectList - <==      Total: 2
2025-10-21 00:39:53.708 [scheduled-4] INFO  o.x.h.service.impl.ScheduledApiServiceImpl - 从hotels表获取到 2 个未同步的酒店ID
2025-10-21 00:39:53.708 [scheduled-4] INFO  o.x.h.service.impl.ScheduledApiServiceImpl - 开始同步 2 个酒店的数据
2025-10-21 00:39:53.708 [scheduled-4] INFO  o.x.h.service.impl.ScheduledApiServiceImpl - 处理酒店批次，大小: 2
2025-10-21 00:39:53.711 [scheduled-4] DEBUG o.x.h.service.impl.JinjiangApiServiceImpl - 开始调用供应商API获取酒店信息 - 酒店ID: HOTEL002
2025-10-21 00:39:53.711 [ForkJoinPool.commonPool-worker-1] DEBUG o.x.h.service.impl.JinjiangApiServiceImpl - 开始调用供应商API获取酒店信息 - 酒店ID: HOTEL001
2025-10-21 00:39:53.713 [ForkJoinPool.commonPool-worker-1] INFO  org.xfy.hotelpricecomparison.util.LogUtil - 调用API: https://dfd9fbc3-4bf3-4efc-90c8-60cc60d04ab6.mock.pstmn.io/hotel/getHotelInfo, 请求参数: {"innId":"HOTEL001","languageCode":0}
2025-10-21 00:39:53.713 [scheduled-4] INFO  org.xfy.hotelpricecomparison.util.LogUtil - 调用API: https://dfd9fbc3-4bf3-4efc-90c8-60cc60d04ab6.mock.pstmn.io/hotel/getHotelInfo, 请求参数: {"innId":"HOTEL002","languageCode":0}
2025-10-21 00:39:53.713 [scheduled-4] DEBUG o.x.h.service.impl.JinjiangApiServiceImpl - 验证酒店信息请求参数
2025-10-21 00:39:53.713 [ForkJoinPool.commonPool-worker-1] DEBUG o.x.h.service.impl.JinjiangApiServiceImpl - 验证酒店信息请求参数
2025-10-21 00:39:53.715 [scheduled-4] DEBUG o.x.h.service.impl.JinjiangApiServiceImpl - 发送API请求到: https://dfd9fbc3-4bf3-4efc-90c8-60cc60d04ab6.mock.pstmn.io/hotel/getHotelInfo
2025-10-21 00:39:53.715 [ForkJoinPool.commonPool-worker-1] DEBUG o.x.h.service.impl.JinjiangApiServiceImpl - 发送API请求到: https://dfd9fbc3-4bf3-4efc-90c8-60cc60d04ab6.mock.pstmn.io/hotel/getHotelInfo
2025-10-21 00:39:54.313 [scheduled-4] ERROR o.x.h.service.impl.JinjiangApiServiceImpl - HTTP客户端错误 - URL: https://dfd9fbc3-4bf3-4efc-90c8-60cc60d04ab6.mock.pstmn.io/hotel/getHotelInfo, 状态码: 404 NOT_FOUND, 错误信息: {"error":{"name":"mockRequestNotFoundError","message":"Double check your method and the request path and try again. Learn more here: https://learning.postman.com/docs/design-apis/mock-apis/matching-algorithm/","header":"No matching requests"}}
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockRequestNotFoundError","message":"Double check your method and the request path and try again. Learn more here: https://learning.postman.com/docs/design-apis/mock-apis/matching-algorithm/","header":"No matching requests"}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.postForEntity(RestTemplate.java:538)
	at org.xfy.hotelpricecomparison.service.impl.JinjiangApiServiceImpl.callSupplierApi(JinjiangApiServiceImpl.java:195)
	at org.xfy.hotelpricecomparison.service.impl.JinjiangApiServiceImpl.getHotelInfo(JinjiangApiServiceImpl.java:101)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.retry.annotation.AnnotationAwareRetryOperationsInterceptor.invoke(AnnotationAwareRetryOperationsInterceptor.java:164)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at org.xfy.hotelpricecomparison.service.impl.JinjiangApiServiceImpl$$SpringCGLIB$$0.getHotelInfo(<generated>)
	at org.xfy.hotelpricecomparison.service.impl.ScheduledApiServiceImpl.lambda$syncHotelData$0(ScheduledApiServiceImpl.java:342)
	at org.xfy.hotelpricecomparison.util.RetryUtil.executeWithRetry(RetryUtil.java:54)
	at org.xfy.hotelpricecomparison.service.impl.ScheduledApiServiceImpl.lambda$syncHotelData$1(ScheduledApiServiceImpl.java:335)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ReduceOps$ReduceTask.doLeaf(ReduceOps.java:960)
	at java.base/java.util.stream.ReduceOps$ReduceTask.doLeaf(ReduceOps.java:934)
	at java.base/java.util.stream.AbstractTask.compute(AbstractTask.java:327)
	at java.base/java.util.concurrent.CountedCompleter.exec(CountedCompleter.java:754)
	at java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:387)
	at java.base/java.util.concurrent.ForkJoinTask.invoke(ForkJoinTask.java:667)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateParallel(ReduceOps.java:927)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:233)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682)
	at org.xfy.hotelpricecomparison.service.impl.ScheduledApiServiceImpl.syncHotelData(ScheduledApiServiceImpl.java:369)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 00:39:54.322 [scheduled-4] WARN  o.x.h.service.impl.ScheduledApiServiceImpl - 获取酒店数据失败，酒店ID: HOTEL002
2025-10-21 00:39:55.092 [ForkJoinPool.commonPool-worker-1] ERROR o.x.h.service.impl.JinjiangApiServiceImpl - HTTP客户端错误 - URL: https://dfd9fbc3-4bf3-4efc-90c8-60cc60d04ab6.mock.pstmn.io/hotel/getHotelInfo, 状态码: 404 NOT_FOUND, 错误信息: {"error":{"name":"mockRequestNotFoundError","message":"Double check your method and the request path and try again. Learn more here: https://learning.postman.com/docs/design-apis/mock-apis/matching-algorithm/","header":"No matching requests"}}
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockRequestNotFoundError","message":"Double check your method and the request path and try again. Learn more here: https://learning.postman.com/docs/design-apis/mock-apis/matching-algorithm/","header":"No matching requests"}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.postForEntity(RestTemplate.java:538)
	at org.xfy.hotelpricecomparison.service.impl.JinjiangApiServiceImpl.callSupplierApi(JinjiangApiServiceImpl.java:195)
	at org.xfy.hotelpricecomparison.service.impl.JinjiangApiServiceImpl.getHotelInfo(JinjiangApiServiceImpl.java:101)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.retry.annotation.AnnotationAwareRetryOperationsInterceptor.invoke(AnnotationAwareRetryOperationsInterceptor.java:164)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at org.xfy.hotelpricecomparison.service.impl.JinjiangApiServiceImpl$$SpringCGLIB$$0.getHotelInfo(<generated>)
	at org.xfy.hotelpricecomparison.service.impl.ScheduledApiServiceImpl.lambda$syncHotelData$0(ScheduledApiServiceImpl.java:342)
	at org.xfy.hotelpricecomparison.util.RetryUtil.executeWithRetry(RetryUtil.java:54)
	at org.xfy.hotelpricecomparison.service.impl.ScheduledApiServiceImpl.lambda$syncHotelData$1(ScheduledApiServiceImpl.java:335)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ReduceOps$ReduceTask.doLeaf(ReduceOps.java:960)
	at java.base/java.util.stream.ReduceOps$ReduceTask.doLeaf(ReduceOps.java:934)
	at java.base/java.util.stream.AbstractTask.compute(AbstractTask.java:327)
	at java.base/java.util.concurrent.CountedCompleter.exec(CountedCompleter.java:754)
	at java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:387)
	at java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1310)
	at java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1841)
	at java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1806)
	at java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:188)
2025-10-21 00:39:55.105 [ForkJoinPool.commonPool-worker-1] WARN  o.x.h.service.impl.ScheduledApiServiceImpl - 获取酒店数据失败，酒店ID: HOTEL001
2025-10-21 00:39:55.105 [scheduled-4] WARN  o.x.h.service.impl.ScheduledApiServiceImpl - 没有成功获取到任何酒店数据
2025-10-21 00:39:58.697 [scheduled-1] INFO  o.x.h.service.impl.ScheduledApiServiceImpl - 开始定时同步价格数据...
2025-10-21 00:39:58.698 [scheduled-1] INFO  o.x.h.service.impl.ScheduledApiServiceImpl - 价格数据同步完成
2025-10-21 00:40:03.709 [scheduled-2] INFO  o.x.h.service.impl.ScheduledApiServiceImpl - 开始定时同步订单数据...
2025-10-21 00:40:03.709 [scheduled-2] INFO  o.x.h.service.impl.ScheduledApiServiceImpl - 订单数据同步完成
2025-10-21 00:40:08.254 [http-nio-8080-exec-1] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-21 00:40:08.254 [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-10-21 00:40:08.265 [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 11 ms
2025-10-21 00:40:08.521 [http-nio-8080-exec-4] INFO  o.x.hotelpricecomparison.controller.AuthController - 收到登录请求: username=wzx
2025-10-21 00:40:08.521 [http-nio-8080-exec-4] INFO  o.x.h.service.impl.SysUserServiceImpl - 开始查询用户: username=wzx
2025-10-21 00:40:08.522 [http-nio-8080-exec-4] INFO  o.x.h.service.impl.SysUserServiceImpl - 查询条件: (username = #{ew.paramNameValuePairs.MPGENVAL1})
2025-10-21 00:40:08.525 [http-nio-8080-exec-4] DEBUG o.x.h.mapper.SysUserMapper.selectList - ==>  Preparing: SELECT id, username, password, email, phone, role FROM sys_user
2025-10-21 00:40:08.526 [http-nio-8080-exec-4] DEBUG o.x.h.mapper.SysUserMapper.selectList - ==> Parameters: 
2025-10-21 00:40:08.587 [http-nio-8080-exec-4] DEBUG o.x.h.mapper.SysUserMapper.selectList - <==      Total: 3
2025-10-21 00:40:08.588 [http-nio-8080-exec-4] INFO  o.x.h.service.impl.SysUserServiceImpl - 查询结果数量: 3
2025-10-21 00:40:08.589 [http-nio-8080-exec-4] INFO  o.x.h.service.impl.SysUserServiceImpl - 查询到的用户: admin
2025-10-21 00:40:08.589 [http-nio-8080-exec-4] INFO  o.x.h.service.impl.SysUserServiceImpl - 查询到的用户: user
2025-10-21 00:40:08.589 [http-nio-8080-exec-4] INFO  o.x.h.service.impl.SysUserServiceImpl - 查询到的用户: wzx
2025-10-21 00:40:08.589 [http-nio-8080-exec-4] INFO  o.x.h.service.impl.SysUserServiceImpl - 找到匹配的用户: wzx
2025-10-21 00:40:08.590 [http-nio-8080-exec-4] INFO  o.x.hotelpricecomparison.controller.AuthController - 找到用户: wzx
2025-10-21 00:40:09.625 [http-nio-8080-exec-4] INFO  o.x.hotelpricecomparison.controller.AuthController - 密码验证成功: wzx
2025-10-21 00:40:09.627 [http-nio-8080-exec-4] INFO  o.x.hotelpricecomparison.controller.AuthController - 用户登录成功: wzx
2025-10-21 00:40:13.696 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 开始同步去哪网订单...
2025-10-21 00:40:13.696 [scheduled-3] INFO  o.x.h.service.impl.ScheduledApiServiceImpl - 开始定时同步酒店房型信息...
2025-10-21 00:40:13.696 [scheduled-3] INFO  o.x.h.service.impl.HotelServiceImpl - 获取未同步的酒店列表，限制数量: 10
2025-10-21 00:40:13.696 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 查询时间范围: fromDate=20251021003013, toDate=20251021004013
2025-10-21 00:40:13.697 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderServiceImpl - 开始查询去哪网订单列表: fromDate=20251021003013, toDate=20251021004013, version=3.7
2025-10-21 00:40:13.697 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 生成HMAC签名: data=your_sign_key20251021003013202510210040133.7, hmac=44621d6ec001f4b9fad38bab37b29e2d
2025-10-21 00:40:13.698 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 构建请求URL: https://2402add9-4b1a-450b-9bed-701d6679a21b.mock.pstmn.io/api.qunar.com/api/ota/otaQueryOrder?fromDate=20251021003013&toDate=20251021004013&version=3.7&hmac=44621d6ec001f4b9fad38bab37b29e2d
2025-10-21 00:40:13.699 [scheduled-3] DEBUG o.x.h.mapper.HotelMapper.selectList - ==>  Preparing: SELECT id,hotel_code,hotel_name,hotel_name_en,address,city_code,city_name,district_code,district_name,country_code,hotel_phone,hotel_email,description,policy,guide,check_in_time,check_out_time,hotel_level,star_type,business_type,hotel_type,status,valid,is_request_supplier_data,is_push_to_distributors,open_date,close_date,decoration_date,allow_minors,pets,restaurant,support_foreign_guest,require_eng_name,certificate_type,settlement_currency,brand_code,missing_count,created_at,updated_at,is_changed,change_type FROM hotels WHERE (is_request_supplier_data = ? AND valid = ? AND hotel_code IS NOT NULL) ORDER BY created_at ASC LIMIT 10
2025-10-21 00:40:13.700 [scheduled-3] DEBUG o.x.h.mapper.HotelMapper.selectList - ==> Parameters: 1(Integer), 1(Integer)
2025-10-21 00:40:13.705 [scheduled-3] DEBUG o.x.h.mapper.HotelMapper.selectList - <==      Total: 2
2025-10-21 00:40:13.705 [scheduled-3] INFO  o.x.h.service.impl.ScheduledApiServiceImpl - 开始同步 2 个酒店的房型数据
2025-10-21 00:40:13.707 [scheduled-3] DEBUG o.x.h.service.impl.JinjiangApiServiceImpl - 开始调用供应商API获取酒店房型信息 - 酒店ID: HOTEL001
2025-10-21 00:40:13.711 [scheduled-3] INFO  org.xfy.hotelpricecomparison.util.LogUtil - 调用API: https://dfd9fbc3-4bf3-4efc-90c8-60cc60d04ab6.mock.pstmn.io/hotel/getHotelRoomType, 请求参数: {"hotelId":"HOTEL001","roomTypeId":null,"checkInDate":null,"checkOutDate":null}
2025-10-21 00:40:13.713 [scheduled-3] DEBUG o.x.h.service.impl.JinjiangApiServiceImpl - 发送API请求到: https://dfd9fbc3-4bf3-4efc-90c8-60cc60d04ab6.mock.pstmn.io/hotel/getHotelRoomType
2025-10-21 00:40:15.048 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderServiceImpl - 查询去哪网订单列表异常
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:431)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrderList(QunarOrderServiceImpl.java:53)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrdersByDateRange(QunarOrderServiceImpl.java:78)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl.syncOrdersFromQunar(QunarOrderSyncServiceImpl.java:66)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:716)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl$$SpringCGLIB$$0.syncOrdersFromQunar(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 00:40:15.050 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderSyncServiceImpl - 去哪网订单查询失败: errCode=ERROR, errMsg=查询异常: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
2025-10-21 00:40:15.289 [scheduled-3] ERROR o.x.h.service.impl.JinjiangApiServiceImpl - HTTP客户端错误 - URL: https://dfd9fbc3-4bf3-4efc-90c8-60cc60d04ab6.mock.pstmn.io/hotel/getHotelRoomType, 状态码: 404 NOT_FOUND, 错误信息: {"error":{"name":"mockRequestNotFoundError","message":"Double check your method and the request path and try again. Learn more here: https://learning.postman.com/docs/design-apis/mock-apis/matching-algorithm/","header":"No matching requests"}}
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockRequestNotFoundError","message":"Double check your method and the request path and try again. Learn more here: https://learning.postman.com/docs/design-apis/mock-apis/matching-algorithm/","header":"No matching requests"}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.postForEntity(RestTemplate.java:538)
	at org.xfy.hotelpricecomparison.service.impl.JinjiangApiServiceImpl.callSupplierApi(JinjiangApiServiceImpl.java:195)
	at org.xfy.hotelpricecomparison.service.impl.JinjiangApiServiceImpl.getHotelRoomType(JinjiangApiServiceImpl.java:108)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.retry.annotation.AnnotationAwareRetryOperationsInterceptor.invoke(AnnotationAwareRetryOperationsInterceptor.java:164)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at org.xfy.hotelpricecomparison.service.impl.JinjiangApiServiceImpl$$SpringCGLIB$$0.getHotelRoomType(<generated>)
	at org.xfy.hotelpricecomparison.service.impl.ScheduledApiServiceImpl.lambda$syncHotelRoomTypes$2(ScheduledApiServiceImpl.java:461)
	at org.xfy.hotelpricecomparison.util.RetryUtil.executeWithRetry(RetryUtil.java:54)
	at org.xfy.hotelpricecomparison.service.impl.ScheduledApiServiceImpl.syncHotelRoomTypes(ScheduledApiServiceImpl.java:455)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 00:40:15.292 [scheduled-3] WARN  o.x.h.service.impl.ScheduledApiServiceImpl - 获取房型数据失败，酒店ID: HOTEL001
2025-10-21 00:40:15.503 [scheduled-3] DEBUG o.x.h.service.impl.JinjiangApiServiceImpl - 开始调用供应商API获取酒店房型信息 - 酒店ID: HOTEL002
2025-10-21 00:40:15.504 [scheduled-3] INFO  org.xfy.hotelpricecomparison.util.LogUtil - 调用API: https://dfd9fbc3-4bf3-4efc-90c8-60cc60d04ab6.mock.pstmn.io/hotel/getHotelRoomType, 请求参数: {"hotelId":"HOTEL002","roomTypeId":null,"checkInDate":null,"checkOutDate":null}
2025-10-21 00:40:15.504 [scheduled-3] DEBUG o.x.h.service.impl.JinjiangApiServiceImpl - 发送API请求到: https://dfd9fbc3-4bf3-4efc-90c8-60cc60d04ab6.mock.pstmn.io/hotel/getHotelRoomType
2025-10-21 00:40:16.166 [scheduled-3] ERROR o.x.h.service.impl.JinjiangApiServiceImpl - HTTP客户端错误 - URL: https://dfd9fbc3-4bf3-4efc-90c8-60cc60d04ab6.mock.pstmn.io/hotel/getHotelRoomType, 状态码: 404 NOT_FOUND, 错误信息: {"error":{"name":"mockRequestNotFoundError","message":"Double check your method and the request path and try again. Learn more here: https://learning.postman.com/docs/design-apis/mock-apis/matching-algorithm/","header":"No matching requests"}}
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockRequestNotFoundError","message":"Double check your method and the request path and try again. Learn more here: https://learning.postman.com/docs/design-apis/mock-apis/matching-algorithm/","header":"No matching requests"}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.postForEntity(RestTemplate.java:538)
	at org.xfy.hotelpricecomparison.service.impl.JinjiangApiServiceImpl.callSupplierApi(JinjiangApiServiceImpl.java:195)
	at org.xfy.hotelpricecomparison.service.impl.JinjiangApiServiceImpl.getHotelRoomType(JinjiangApiServiceImpl.java:108)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.retry.annotation.AnnotationAwareRetryOperationsInterceptor.invoke(AnnotationAwareRetryOperationsInterceptor.java:164)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at org.xfy.hotelpricecomparison.service.impl.JinjiangApiServiceImpl$$SpringCGLIB$$0.getHotelRoomType(<generated>)
	at org.xfy.hotelpricecomparison.service.impl.ScheduledApiServiceImpl.lambda$syncHotelRoomTypes$2(ScheduledApiServiceImpl.java:461)
	at org.xfy.hotelpricecomparison.util.RetryUtil.executeWithRetry(RetryUtil.java:54)
	at org.xfy.hotelpricecomparison.service.impl.ScheduledApiServiceImpl.syncHotelRoomTypes(ScheduledApiServiceImpl.java:455)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 00:40:16.169 [scheduled-3] WARN  o.x.h.service.impl.ScheduledApiServiceImpl - 获取房型数据失败，酒店ID: HOTEL002
2025-10-21 00:40:16.383 [scheduled-3] INFO  o.x.h.service.impl.ScheduledApiServiceImpl - 房型数据同步完成，成功: 0, 失败: 2
2025-10-21 00:42:36.073 [restartedMain] INFO  o.x.h.HotelPriceComparisonApplication - Starting HotelPriceComparisonApplication using Java 21.0.8 with PID 6228 (C:\Hotel\HotelBack\build\classes\java\main started by wangz in C:\Hotel\HotelBack)
2025-10-21 00:42:36.075 [restartedMain] DEBUG o.x.h.HotelPriceComparisonApplication - Running with Spring Boot v3.2.5, Spring v6.1.6
2025-10-21 00:42:36.076 [restartedMain] INFO  o.x.h.HotelPriceComparisonApplication - No active profile set, falling back to 1 default profile: "default"
2025-10-21 00:42:36.139 [restartedMain] INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-10-21 00:42:36.139 [restartedMain] INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-10-21 00:42:38.281 [restartedMain] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-21 00:42:38.283 [restartedMain] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-21 00:42:38.330 [restartedMain] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 39 ms. Found 0 JPA repository interfaces.
2025-10-21 00:42:38.343 [restartedMain] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-21 00:42:38.345 [restartedMain] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-21 00:42:38.364 [restartedMain] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 10 ms. Found 0 Redis repository interfaces.
2025-10-21 00:42:39.899 [restartedMain] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-10-21 00:42:39.912 [restartedMain] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-10-21 00:42:39.913 [restartedMain] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.20]
2025-10-21 00:42:39.986 [restartedMain] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-10-21 00:42:39.986 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3846 ms
2025-10-21 00:42:40.294 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-10-21 00:42:41.543 [restartedMain] ERROR com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Exception during pool initialization.
java.sql.SQLException: Access denied for user 'root'@'localhost' (using password: NO)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:815)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:438)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:241)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:189)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:100)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration.getConnectionUrl(H2ConsoleAutoConfiguration.java:94)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at java.base/java.util.stream.SortedOps$RefSortingSink.end(SortedOps.java:395)
	at java.base/java.util.stream.Sink$ChainedReference.end(Sink.java:261)
	at java.base/java.util.stream.Sink$ChainedReference.end(Sink.java:261)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:510)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration.logDataSources(H2ConsoleAutoConfiguration.java:86)
	at org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration.lambda$h2Console$0(H2ConsoleAutoConfiguration.java:69)
	at org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration.withThreadContextClassLoader(H2ConsoleAutoConfiguration.java:78)
	at org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration.h2Console(H2ConsoleAutoConfiguration.java:69)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:140)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:644)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:636)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1335)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1165)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:210)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:201)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addServletContextInitializerBeans(ServletContextInitializerBeans.java:96)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:85)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:266)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:240)
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:52)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4880)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:845)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:240)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:433)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:921)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:437)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:126)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:105)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:499)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:218)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:188)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:162)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:618)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at org.xfy.hotelpricecomparison.HotelPriceComparisonApplication.main(HotelPriceComparisonApplication.java:16)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
2025-10-21 00:42:42.012 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-10-21 00:42:43.020 [restartedMain] ERROR com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Exception during pool initialization.
java.sql.SQLException: Access denied for user 'root'@'localhost' (using password: NO)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:815)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:438)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:241)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:189)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:100)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:160)
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:118)
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:81)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:342)
	at org.springframework.boot.jdbc.EmbeddedDatabaseConnection.isEmbedded(EmbeddedDatabaseConnection.java:168)
	at org.springframework.boot.autoconfigure.orm.jpa.HibernateDefaultDdlAutoProvider.getDefaultDdlAuto(HibernateDefaultDdlAutoProvider.java:42)
	at org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration.lambda$getVendorProperties$1(HibernateJpaConfiguration.java:142)
	at org.springframework.boot.autoconfigure.orm.jpa.HibernateSettings.getDdlAuto(HibernateSettings.java:41)
	at org.springframework.boot.autoconfigure.orm.jpa.HibernateProperties.determineDdlAuto(HibernateProperties.java:118)
	at org.springframework.boot.autoconfigure.orm.jpa.HibernateProperties.getAdditionalProperties(HibernateProperties.java:87)
	at org.springframework.boot.autoconfigure.orm.jpa.HibernateProperties.determineHibernateProperties(HibernateProperties.java:80)
	at org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration.getVendorProperties(HibernateJpaConfiguration.java:143)
	at org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration.entityManagerFactory(JpaBaseConfiguration.java:132)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:140)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:644)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:636)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1335)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1165)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1234)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:952)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at org.xfy.hotelpricecomparison.HotelPriceComparisonApplication.main(HotelPriceComparisonApplication.java:16)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
2025-10-21 00:42:43.066 [restartedMain] INFO  org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-21 00:42:43.161 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.4.Final
2025-10-21 00:42:43.214 [restartedMain] INFO  o.hibernate.cache.internal.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-10-21 00:42:43.494 [restartedMain] INFO  o.s.o.j.persistenceunit.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-21 00:42:43.528 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-10-21 00:42:44.544 [restartedMain] ERROR com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Exception during pool initialization.
java.sql.SQLException: Access denied for user 'root'@'localhost' (using password: NO)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:815)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:438)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:241)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:189)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:100)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:428)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcIsolationDelegate.delegateWork(JdbcIsolationDelegate.java:61)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.getJdbcEnvironmentUsingJdbcMetadata(JdbcEnvironmentInitiator.java:276)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:107)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:68)
	at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:130)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:238)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:215)
	at org.hibernate.boot.model.relational.Database.<init>(Database.java:45)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.getDatabase(InFlightMetadataCollectorImpl.java:223)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.<init>(InFlightMetadataCollectorImpl.java:191)
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:170)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1432)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1503)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1234)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:952)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at org.xfy.hotelpricecomparison.HotelPriceComparisonApplication.main(HotelPriceComparisonApplication.java:16)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
2025-10-21 00:42:44.547 [restartedMain] WARN  o.h.e.jdbc.env.internal.JdbcEnvironmentInitiator - HHH000342: Could not obtain connection to query metadata
java.lang.NullPointerException: Cannot invoke "org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(java.sql.SQLException, String)" because the return value of "org.hibernate.resource.transaction.backend.jdbc.internal.JdbcIsolationDelegate.sqlExceptionHelper()" is null
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcIsolationDelegate.delegateWork(JdbcIsolationDelegate.java:116)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.getJdbcEnvironmentUsingJdbcMetadata(JdbcEnvironmentInitiator.java:276)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:107)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:68)
	at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:130)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:238)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:215)
	at org.hibernate.boot.model.relational.Database.<init>(Database.java:45)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.getDatabase(InFlightMetadataCollectorImpl.java:223)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.<init>(InFlightMetadataCollectorImpl.java:191)
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:170)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1432)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1503)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1234)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:952)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at org.xfy.hotelpricecomparison.HotelPriceComparisonApplication.main(HotelPriceComparisonApplication.java:16)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
2025-10-21 00:42:44.548 [restartedMain] ERROR o.s.orm.jpa.LocalContainerEntityManagerFactoryBean - Failed to initialize JPA EntityManagerFactory: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment] due to: Unable to determine Dialect without JDBC metadata (please set 'jakarta.persistence.jdbc.url' for common cases or 'hibernate.dialect' when a custom Dialect implementation must be provided)
2025-10-21 00:42:44.550 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment] due to: Unable to determine Dialect without JDBC metadata (please set 'jakarta.persistence.jdbc.url' for common cases or 'hibernate.dialect' when a custom Dialect implementation must be provided)
2025-10-21 00:42:44.554 [restartedMain] INFO  org.apache.catalina.core.StandardService - Stopping service [Tomcat]
2025-10-21 00:42:44.575 [restartedMain] INFO  o.s.b.a.logging.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-10-21 00:42:44.601 [restartedMain] ERROR org.springframework.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment] due to: Unable to determine Dialect without JDBC metadata (please set 'jakarta.persistence.jdbc.url' for common cases or 'hibernate.dialect' when a custom Dialect implementation must be provided)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1786)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1234)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:952)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at org.xfy.hotelpricecomparison.HotelPriceComparisonApplication.main(HotelPriceComparisonApplication.java:16)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment] due to: Unable to determine Dialect without JDBC metadata (please set 'jakarta.persistence.jdbc.url' for common cases or 'hibernate.dialect' when a custom Dialect implementation must be provided)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:276)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:238)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:215)
	at org.hibernate.boot.model.relational.Database.<init>(Database.java:45)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.getDatabase(InFlightMetadataCollectorImpl.java:223)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.<init>(InFlightMetadataCollectorImpl.java:191)
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:170)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1432)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1503)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	... 19 common frames omitted
Caused by: org.hibernate.HibernateException: Unable to determine Dialect without JDBC metadata (please set 'jakarta.persistence.jdbc.url' for common cases or 'hibernate.dialect' when a custom Dialect implementation must be provided)
	at org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl.determineDialect(DialectFactoryImpl.java:191)
	at org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl.buildDialect(DialectFactoryImpl.java:87)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.getJdbcEnvironmentWithDefaults(JdbcEnvironmentInitiator.java:143)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.getJdbcEnvironmentUsingJdbcMetadata(JdbcEnvironmentInitiator.java:348)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:107)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:68)
	at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:130)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263)
	... 34 common frames omitted
2025-10-21 00:44:42.359 [restartedMain] INFO  o.x.h.HotelPriceComparisonApplication - Starting HotelPriceComparisonApplication using Java 21.0.8 with PID 9960 (C:\Hotel\HotelBack\build\classes\java\main started by wangz in C:\Hotel\HotelBack)
2025-10-21 00:44:42.367 [restartedMain] DEBUG o.x.h.HotelPriceComparisonApplication - Running with Spring Boot v3.2.5, Spring v6.1.6
2025-10-21 00:44:42.369 [restartedMain] INFO  o.x.h.HotelPriceComparisonApplication - No active profile set, falling back to 1 default profile: "default"
2025-10-21 00:44:42.564 [restartedMain] INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-10-21 00:44:42.564 [restartedMain] INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-10-21 00:44:47.541 [restartedMain] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-21 00:44:47.549 [restartedMain] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-21 00:44:47.682 [restartedMain] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 113 ms. Found 0 JPA repository interfaces.
2025-10-21 00:44:47.715 [restartedMain] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-21 00:44:47.718 [restartedMain] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-21 00:44:47.756 [restartedMain] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 20 ms. Found 0 Redis repository interfaces.
2025-10-21 00:44:51.551 [restartedMain] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-10-21 00:44:51.585 [restartedMain] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-10-21 00:44:51.586 [restartedMain] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.20]
2025-10-21 00:44:51.777 [restartedMain] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-10-21 00:44:51.781 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 9215 ms
2025-10-21 00:44:52.577 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-10-21 00:44:54.153 [restartedMain] ERROR com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Exception during pool initialization.
java.sql.SQLException: Access denied for user 'root'@'localhost' (using password: NO)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:815)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:438)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:241)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:189)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:100)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration.getConnectionUrl(H2ConsoleAutoConfiguration.java:94)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at java.base/java.util.stream.SortedOps$RefSortingSink.end(SortedOps.java:395)
	at java.base/java.util.stream.Sink$ChainedReference.end(Sink.java:261)
	at java.base/java.util.stream.Sink$ChainedReference.end(Sink.java:261)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:510)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration.logDataSources(H2ConsoleAutoConfiguration.java:86)
	at org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration.lambda$h2Console$0(H2ConsoleAutoConfiguration.java:69)
	at org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration.withThreadContextClassLoader(H2ConsoleAutoConfiguration.java:78)
	at org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration.h2Console(H2ConsoleAutoConfiguration.java:69)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:140)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:644)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:636)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1335)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1165)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:210)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:201)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addServletContextInitializerBeans(ServletContextInitializerBeans.java:96)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:85)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:266)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:240)
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:52)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4880)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:845)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:240)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:433)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:921)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:437)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:126)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:105)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:499)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:218)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:188)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:162)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:618)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at org.xfy.hotelpricecomparison.HotelPriceComparisonApplication.main(HotelPriceComparisonApplication.java:16)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
2025-10-21 00:44:55.025 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-10-21 00:44:56.033 [restartedMain] ERROR com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Exception during pool initialization.
java.sql.SQLException: Access denied for user 'root'@'localhost' (using password: NO)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:815)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:438)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:241)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:189)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:100)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:160)
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:118)
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:81)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:342)
	at org.springframework.boot.jdbc.EmbeddedDatabaseConnection.isEmbedded(EmbeddedDatabaseConnection.java:168)
	at org.springframework.boot.autoconfigure.orm.jpa.HibernateDefaultDdlAutoProvider.getDefaultDdlAuto(HibernateDefaultDdlAutoProvider.java:42)
	at org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration.lambda$getVendorProperties$1(HibernateJpaConfiguration.java:142)
	at org.springframework.boot.autoconfigure.orm.jpa.HibernateSettings.getDdlAuto(HibernateSettings.java:41)
	at org.springframework.boot.autoconfigure.orm.jpa.HibernateProperties.determineDdlAuto(HibernateProperties.java:118)
	at org.springframework.boot.autoconfigure.orm.jpa.HibernateProperties.getAdditionalProperties(HibernateProperties.java:87)
	at org.springframework.boot.autoconfigure.orm.jpa.HibernateProperties.determineHibernateProperties(HibernateProperties.java:80)
	at org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration.getVendorProperties(HibernateJpaConfiguration.java:143)
	at org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration.entityManagerFactory(JpaBaseConfiguration.java:132)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:140)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:644)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:636)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1335)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1165)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1234)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:952)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at org.xfy.hotelpricecomparison.HotelPriceComparisonApplication.main(HotelPriceComparisonApplication.java:16)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
2025-10-21 00:44:56.117 [restartedMain] INFO  org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-21 00:44:56.368 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.4.Final
2025-10-21 00:44:56.498 [restartedMain] INFO  o.hibernate.cache.internal.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-10-21 00:44:57.333 [restartedMain] INFO  o.s.o.j.persistenceunit.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-21 00:44:57.429 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-10-21 00:44:58.445 [restartedMain] ERROR com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Exception during pool initialization.
java.sql.SQLException: Access denied for user 'root'@'localhost' (using password: NO)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:815)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:438)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:241)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:189)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:100)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:428)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcIsolationDelegate.delegateWork(JdbcIsolationDelegate.java:61)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.getJdbcEnvironmentUsingJdbcMetadata(JdbcEnvironmentInitiator.java:276)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:107)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:68)
	at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:130)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:238)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:215)
	at org.hibernate.boot.model.relational.Database.<init>(Database.java:45)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.getDatabase(InFlightMetadataCollectorImpl.java:223)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.<init>(InFlightMetadataCollectorImpl.java:191)
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:170)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1432)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1503)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1234)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:952)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at org.xfy.hotelpricecomparison.HotelPriceComparisonApplication.main(HotelPriceComparisonApplication.java:16)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
2025-10-21 00:44:58.455 [restartedMain] WARN  o.h.e.jdbc.env.internal.JdbcEnvironmentInitiator - HHH000342: Could not obtain connection to query metadata
java.lang.NullPointerException: Cannot invoke "org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(java.sql.SQLException, String)" because the return value of "org.hibernate.resource.transaction.backend.jdbc.internal.JdbcIsolationDelegate.sqlExceptionHelper()" is null
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcIsolationDelegate.delegateWork(JdbcIsolationDelegate.java:116)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.getJdbcEnvironmentUsingJdbcMetadata(JdbcEnvironmentInitiator.java:276)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:107)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:68)
	at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:130)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:238)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:215)
	at org.hibernate.boot.model.relational.Database.<init>(Database.java:45)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.getDatabase(InFlightMetadataCollectorImpl.java:223)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.<init>(InFlightMetadataCollectorImpl.java:191)
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:170)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1432)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1503)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1234)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:952)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at org.xfy.hotelpricecomparison.HotelPriceComparisonApplication.main(HotelPriceComparisonApplication.java:16)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
2025-10-21 00:44:58.464 [restartedMain] ERROR o.s.orm.jpa.LocalContainerEntityManagerFactoryBean - Failed to initialize JPA EntityManagerFactory: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment] due to: Unable to determine Dialect without JDBC metadata (please set 'jakarta.persistence.jdbc.url' for common cases or 'hibernate.dialect' when a custom Dialect implementation must be provided)
2025-10-21 00:44:58.464 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment] due to: Unable to determine Dialect without JDBC metadata (please set 'jakarta.persistence.jdbc.url' for common cases or 'hibernate.dialect' when a custom Dialect implementation must be provided)
2025-10-21 00:44:58.480 [restartedMain] INFO  org.apache.catalina.core.StandardService - Stopping service [Tomcat]
2025-10-21 00:44:58.554 [restartedMain] INFO  o.s.b.a.logging.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-10-21 00:44:58.662 [restartedMain] ERROR org.springframework.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment] due to: Unable to determine Dialect without JDBC metadata (please set 'jakarta.persistence.jdbc.url' for common cases or 'hibernate.dialect' when a custom Dialect implementation must be provided)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1786)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1234)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:952)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at org.xfy.hotelpricecomparison.HotelPriceComparisonApplication.main(HotelPriceComparisonApplication.java:16)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment] due to: Unable to determine Dialect without JDBC metadata (please set 'jakarta.persistence.jdbc.url' for common cases or 'hibernate.dialect' when a custom Dialect implementation must be provided)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:276)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:238)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:215)
	at org.hibernate.boot.model.relational.Database.<init>(Database.java:45)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.getDatabase(InFlightMetadataCollectorImpl.java:223)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.<init>(InFlightMetadataCollectorImpl.java:191)
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:170)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1432)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1503)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	... 19 common frames omitted
Caused by: org.hibernate.HibernateException: Unable to determine Dialect without JDBC metadata (please set 'jakarta.persistence.jdbc.url' for common cases or 'hibernate.dialect' when a custom Dialect implementation must be provided)
	at org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl.determineDialect(DialectFactoryImpl.java:191)
	at org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl.buildDialect(DialectFactoryImpl.java:87)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.getJdbcEnvironmentWithDefaults(JdbcEnvironmentInitiator.java:143)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.getJdbcEnvironmentUsingJdbcMetadata(JdbcEnvironmentInitiator.java:348)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:107)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:68)
	at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:130)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263)
	... 34 common frames omitted
2025-10-21 00:45:49.228 [restartedMain] INFO  o.x.h.HotelPriceComparisonApplication - Starting HotelPriceComparisonApplication using Java 21.0.8 with PID 17936 (C:\Hotel\HotelBack\build\classes\java\main started by wangz in C:\Hotel\HotelBack)
2025-10-21 00:45:49.229 [restartedMain] DEBUG o.x.h.HotelPriceComparisonApplication - Running with Spring Boot v3.2.5, Spring v6.1.6
2025-10-21 00:45:49.230 [restartedMain] INFO  o.x.h.HotelPriceComparisonApplication - No active profile set, falling back to 1 default profile: "default"
2025-10-21 00:45:49.318 [restartedMain] INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-10-21 00:45:49.318 [restartedMain] INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-10-21 00:45:52.068 [restartedMain] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-21 00:45:52.070 [restartedMain] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-21 00:45:52.150 [restartedMain] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 70 ms. Found 0 JPA repository interfaces.
2025-10-21 00:45:52.176 [restartedMain] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-21 00:45:52.178 [restartedMain] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-21 00:45:52.214 [restartedMain] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 22 ms. Found 0 Redis repository interfaces.
2025-10-21 00:45:54.516 [restartedMain] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-10-21 00:45:54.547 [restartedMain] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-10-21 00:45:54.547 [restartedMain] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.20]
2025-10-21 00:45:54.666 [restartedMain] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-10-21 00:45:54.666 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 5347 ms
2025-10-21 00:45:55.107 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-10-21 00:45:56.384 [restartedMain] ERROR com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Exception during pool initialization.
java.sql.SQLException: Access denied for user 'root'@'localhost' (using password: NO)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:815)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:438)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:241)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:189)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:100)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration.getConnectionUrl(H2ConsoleAutoConfiguration.java:94)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at java.base/java.util.stream.SortedOps$RefSortingSink.end(SortedOps.java:395)
	at java.base/java.util.stream.Sink$ChainedReference.end(Sink.java:261)
	at java.base/java.util.stream.Sink$ChainedReference.end(Sink.java:261)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:510)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration.logDataSources(H2ConsoleAutoConfiguration.java:86)
	at org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration.lambda$h2Console$0(H2ConsoleAutoConfiguration.java:69)
	at org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration.withThreadContextClassLoader(H2ConsoleAutoConfiguration.java:78)
	at org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration.h2Console(H2ConsoleAutoConfiguration.java:69)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:140)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:644)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:636)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1335)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1165)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:210)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:201)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addServletContextInitializerBeans(ServletContextInitializerBeans.java:96)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:85)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:266)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:240)
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:52)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4880)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:845)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:240)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:433)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:921)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:437)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:126)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:105)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:499)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:218)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:188)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:162)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:618)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at org.xfy.hotelpricecomparison.HotelPriceComparisonApplication.main(HotelPriceComparisonApplication.java:16)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
2025-10-21 00:45:56.746 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-10-21 00:45:57.751 [restartedMain] ERROR com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Exception during pool initialization.
java.sql.SQLException: Access denied for user 'root'@'localhost' (using password: NO)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:815)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:438)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:241)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:189)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:100)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:160)
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:118)
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:81)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:342)
	at org.springframework.boot.jdbc.EmbeddedDatabaseConnection.isEmbedded(EmbeddedDatabaseConnection.java:168)
	at org.springframework.boot.autoconfigure.orm.jpa.HibernateDefaultDdlAutoProvider.getDefaultDdlAuto(HibernateDefaultDdlAutoProvider.java:42)
	at org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration.lambda$getVendorProperties$1(HibernateJpaConfiguration.java:142)
	at org.springframework.boot.autoconfigure.orm.jpa.HibernateSettings.getDdlAuto(HibernateSettings.java:41)
	at org.springframework.boot.autoconfigure.orm.jpa.HibernateProperties.determineDdlAuto(HibernateProperties.java:118)
	at org.springframework.boot.autoconfigure.orm.jpa.HibernateProperties.getAdditionalProperties(HibernateProperties.java:87)
	at org.springframework.boot.autoconfigure.orm.jpa.HibernateProperties.determineHibernateProperties(HibernateProperties.java:80)
	at org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration.getVendorProperties(HibernateJpaConfiguration.java:143)
	at org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration.entityManagerFactory(JpaBaseConfiguration.java:132)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:140)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:644)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:636)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1335)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1165)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1234)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:952)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at org.xfy.hotelpricecomparison.HotelPriceComparisonApplication.main(HotelPriceComparisonApplication.java:16)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
2025-10-21 00:45:57.787 [restartedMain] INFO  org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-21 00:45:57.864 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.4.Final
2025-10-21 00:45:57.928 [restartedMain] INFO  o.hibernate.cache.internal.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-10-21 00:45:58.330 [restartedMain] INFO  o.s.o.j.persistenceunit.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-21 00:45:58.387 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-10-21 00:45:59.405 [restartedMain] ERROR com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Exception during pool initialization.
java.sql.SQLException: Access denied for user 'root'@'localhost' (using password: NO)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:815)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:438)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:241)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:189)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:100)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:428)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcIsolationDelegate.delegateWork(JdbcIsolationDelegate.java:61)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.getJdbcEnvironmentUsingJdbcMetadata(JdbcEnvironmentInitiator.java:276)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:107)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:68)
	at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:130)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:238)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:215)
	at org.hibernate.boot.model.relational.Database.<init>(Database.java:45)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.getDatabase(InFlightMetadataCollectorImpl.java:223)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.<init>(InFlightMetadataCollectorImpl.java:191)
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:170)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1432)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1503)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1234)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:952)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at org.xfy.hotelpricecomparison.HotelPriceComparisonApplication.main(HotelPriceComparisonApplication.java:16)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
2025-10-21 00:45:59.409 [restartedMain] WARN  o.h.e.jdbc.env.internal.JdbcEnvironmentInitiator - HHH000342: Could not obtain connection to query metadata
java.lang.NullPointerException: Cannot invoke "org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(java.sql.SQLException, String)" because the return value of "org.hibernate.resource.transaction.backend.jdbc.internal.JdbcIsolationDelegate.sqlExceptionHelper()" is null
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcIsolationDelegate.delegateWork(JdbcIsolationDelegate.java:116)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.getJdbcEnvironmentUsingJdbcMetadata(JdbcEnvironmentInitiator.java:276)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:107)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:68)
	at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:130)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:238)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:215)
	at org.hibernate.boot.model.relational.Database.<init>(Database.java:45)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.getDatabase(InFlightMetadataCollectorImpl.java:223)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.<init>(InFlightMetadataCollectorImpl.java:191)
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:170)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1432)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1503)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1234)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:952)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at org.xfy.hotelpricecomparison.HotelPriceComparisonApplication.main(HotelPriceComparisonApplication.java:16)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
2025-10-21 00:45:59.409 [restartedMain] ERROR o.s.orm.jpa.LocalContainerEntityManagerFactoryBean - Failed to initialize JPA EntityManagerFactory: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment] due to: Unable to determine Dialect without JDBC metadata (please set 'jakarta.persistence.jdbc.url' for common cases or 'hibernate.dialect' when a custom Dialect implementation must be provided)
2025-10-21 00:45:59.409 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment] due to: Unable to determine Dialect without JDBC metadata (please set 'jakarta.persistence.jdbc.url' for common cases or 'hibernate.dialect' when a custom Dialect implementation must be provided)
2025-10-21 00:45:59.416 [restartedMain] INFO  org.apache.catalina.core.StandardService - Stopping service [Tomcat]
2025-10-21 00:45:59.445 [restartedMain] INFO  o.s.b.a.logging.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-10-21 00:45:59.481 [restartedMain] ERROR org.springframework.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment] due to: Unable to determine Dialect without JDBC metadata (please set 'jakarta.persistence.jdbc.url' for common cases or 'hibernate.dialect' when a custom Dialect implementation must be provided)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1786)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1234)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:952)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at org.xfy.hotelpricecomparison.HotelPriceComparisonApplication.main(HotelPriceComparisonApplication.java:16)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment] due to: Unable to determine Dialect without JDBC metadata (please set 'jakarta.persistence.jdbc.url' for common cases or 'hibernate.dialect' when a custom Dialect implementation must be provided)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:276)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:238)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:215)
	at org.hibernate.boot.model.relational.Database.<init>(Database.java:45)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.getDatabase(InFlightMetadataCollectorImpl.java:223)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.<init>(InFlightMetadataCollectorImpl.java:191)
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:170)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1432)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1503)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	... 19 common frames omitted
Caused by: org.hibernate.HibernateException: Unable to determine Dialect without JDBC metadata (please set 'jakarta.persistence.jdbc.url' for common cases or 'hibernate.dialect' when a custom Dialect implementation must be provided)
	at org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl.determineDialect(DialectFactoryImpl.java:191)
	at org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl.buildDialect(DialectFactoryImpl.java:87)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.getJdbcEnvironmentWithDefaults(JdbcEnvironmentInitiator.java:143)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.getJdbcEnvironmentUsingJdbcMetadata(JdbcEnvironmentInitiator.java:348)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:107)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:68)
	at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:130)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263)
	... 34 common frames omitted
2025-10-21 00:49:22.570 [restartedMain] INFO  o.x.h.HotelPriceComparisonApplication - Starting HotelPriceComparisonApplication using Java 21.0.8 with PID 9780 (C:\Hotel\HotelBack\build\classes\java\main started by wangz in C:\Hotel\HotelBack)
2025-10-21 00:49:22.573 [restartedMain] DEBUG o.x.h.HotelPriceComparisonApplication - Running with Spring Boot v3.2.5, Spring v6.1.6
2025-10-21 00:49:22.574 [restartedMain] INFO  o.x.h.HotelPriceComparisonApplication - No active profile set, falling back to 1 default profile: "default"
2025-10-21 00:49:22.686 [restartedMain] INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-10-21 00:49:22.687 [restartedMain] INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-10-21 00:49:26.494 [restartedMain] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-21 00:49:26.498 [restartedMain] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-21 00:49:26.616 [restartedMain] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 102 ms. Found 0 JPA repository interfaces.
2025-10-21 00:49:26.648 [restartedMain] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-21 00:49:26.650 [restartedMain] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-21 00:49:26.697 [restartedMain] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 21 ms. Found 0 Redis repository interfaces.
2025-10-21 00:49:29.612 [restartedMain] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-10-21 00:49:29.643 [restartedMain] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-10-21 00:49:29.644 [restartedMain] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.20]
2025-10-21 00:49:29.764 [restartedMain] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-10-21 00:49:29.764 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 7076 ms
2025-10-21 00:49:30.299 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-10-21 00:49:30.731 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@1aba632e
2025-10-21 00:49:30.734 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-10-21 00:49:30.751 [restartedMain] INFO  o.s.b.autoconfigure.h2.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:mysql://localhost:3306/hotel_price_comparison?useUnicode=true&characterEncoding=utf8&useSSL=false&serverTimezone=Asia/Shanghai&allowPublicKeyRetrieval=true'
2025-10-21 00:49:31.538 [restartedMain] INFO  org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-21 00:49:31.714 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.4.Final
2025-10-21 00:49:31.804 [restartedMain] INFO  o.hibernate.cache.internal.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-10-21 00:49:32.494 [restartedMain] INFO  o.s.o.j.persistenceunit.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-21 00:49:34.657 [restartedMain] INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-10-21 00:49:34.663 [restartedMain] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-21 00:49:36.145 [restartedMain] WARN  c.b.mybatisplus.core.injector.methods.Insert - [org.xfy.hotelpricecomparison.mapper.SysUserMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2025-10-21 00:49:36.162 [restartedMain] WARN  c.b.mybatisplus.core.injector.methods.SelectList - [org.xfy.hotelpricecomparison.mapper.SysUserMapper.selectList] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.SelectList]
2025-10-21 00:49:36.162 [restartedMain] WARN  c.b.mybatisplus.core.injector.methods.DeleteById - [org.xfy.hotelpricecomparison.mapper.SysUserMapper.deleteById] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.DeleteById]
2025-10-21 00:49:36.166 [restartedMain] WARN  c.b.mybatisplus.core.injector.methods.UpdateById - [org.xfy.hotelpricecomparison.mapper.SysUserMapper.updateById] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.UpdateById]
2025-10-21 00:49:36.167 [restartedMain] WARN  c.b.mybatisplus.core.injector.methods.SelectById - [org.xfy.hotelpricecomparison.mapper.SysUserMapper.selectById] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.SelectById]
2025-10-21 00:49:38.035 [restartedMain] INFO  o.x.h.service.impl.JinjiangApiServiceImpl - RestTemplate超时配置已设置 - 连接超时: 5000ms, 读取超时: 10000ms
2025-10-21 00:49:40.539 [restartedMain] INFO  o.xfy.hotelpricecomparison.config.SchedulingConfig - 定时任务线程池配置完成，线程池大小: 0
2025-10-21 00:49:40.794 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-10-21 00:49:42.876 [restartedMain] INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver - Exposing 2 endpoint(s) beneath base path '/actuator'
2025-10-21 00:49:43.083 [restartedMain] INFO  o.s.security.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5a71034c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@40b181ef, org.springframework.security.web.context.SecurityContextHolderFilter@52035d76, org.springframework.security.web.header.HeaderWriterFilter@3a0fddda, org.springframework.web.filter.CorsFilter@6773ad76, org.springframework.security.web.authentication.logout.LogoutFilter@14a2eaee, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@189f026b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@148d1e7e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@69449339, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@c3cdd38, org.springframework.security.web.session.SessionManagementFilter@dc9e40e, org.springframework.security.web.access.ExceptionTranslationFilter@738d2a48, org.springframework.security.web.access.intercept.AuthorizationFilter@30c7c0c5]
2025-10-21 00:49:46.874 [restartedMain] INFO  o.s.b.d.autoconfigure.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-10-21 00:49:47.113 [restartedMain] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2025-10-21 00:49:47.115 [restartedMain] INFO  o.s.m.simp.broker.SimpleBrokerMessageHandler - Starting...
2025-10-21 00:49:47.116 [restartedMain] INFO  o.s.m.simp.broker.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@62153005]]
2025-10-21 00:49:47.116 [restartedMain] INFO  o.s.m.simp.broker.SimpleBrokerMessageHandler - Started.
2025-10-21 00:49:47.148 [restartedMain] INFO  o.x.h.HotelPriceComparisonApplication - Started HotelPriceComparisonApplication in 25.577 seconds (process running for 26.681)
2025-10-21 00:49:47.161 [scheduled-2] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 开始同步去哪网订单...
2025-10-21 00:49:47.161 [scheduled-1] INFO  o.x.h.schedule.AutoStatusSyncScheduler - 开始执行定时自动状态同步任务
2025-10-21 00:49:47.161 [scheduled-3] INFO  o.x.h.schedule.HotelChangeNotificationScheduler - === 开始执行酒店变更通知定时任务 ===
2025-10-21 00:49:47.162 [scheduled-2] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 查询时间范围: fromDate=20251021003947, toDate=20251021004947
2025-10-21 00:49:47.162 [scheduled-2] INFO  o.x.h.service.impl.QunarOrderServiceImpl - 开始查询去哪网订单列表: fromDate=20251021003947, toDate=20251021004947, version=3.7
2025-10-21 00:49:47.163 [scheduled-2] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 生成HMAC签名: data=your_sign_key20251021003947202510210049473.7, hmac=01b3437b57ca743a9cdbd40d17ddb0ee
2025-10-21 00:49:47.181 [scheduled-2] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 构建请求URL: https://2402add9-4b1a-450b-9bed-701d6679a21b.mock.pstmn.io/api.qunar.com/api/ota/otaQueryOrder?fromDate=20251021003947&toDate=20251021004947&version=3.7&hmac=01b3437b57ca743a9cdbd40d17ddb0ee
2025-10-21 00:49:47.251 [scheduled-1] INFO  o.x.h.service.impl.AutoStatusSyncServiceImpl - 开始同步所有酒店状态
2025-10-21 00:49:47.251 [scheduled-3] INFO  o.x.h.service.impl.HotelChangeServiceImpl - 开始通知去哪网酒店变更...
2025-10-21 00:49:47.252 [scheduled-3] INFO  o.x.h.service.impl.HotelChangeServiceImpl - 获取有变化的酒店列表
2025-10-21 00:49:47.291 [scheduled-3] DEBUG o.x.h.mapper.HotelChangeMapper.getChangedHotels - ==>  Preparing: SELECT id, hotel_code, hotel_name, city_name, address, hotel_phone, description, is_changed, change_type, updated_at FROM hotels WHERE is_changed = 1 AND is_push_to_distributors = 1 ORDER BY updated_at DESC
2025-10-21 00:49:47.327 [scheduled-3] DEBUG o.x.h.mapper.HotelChangeMapper.getChangedHotels - ==> Parameters: 
2025-10-21 00:49:47.331 [scheduled-1] DEBUG o.x.h.mapper.HotelMapper.selectList - ==>  Preparing: SELECT id,hotel_code,hotel_name,hotel_name_en,address,city_code,city_name,district_code,district_name,country_code,hotel_phone,hotel_email,description,policy,guide,check_in_time,check_out_time,hotel_level,star_type,business_type,hotel_type,status,valid,is_request_supplier_data,is_push_to_distributors,open_date,close_date,decoration_date,allow_minors,pets,restaurant,support_foreign_guest,require_eng_name,certificate_type,settlement_currency,brand_code,missing_count,created_at,updated_at,is_changed,change_type FROM hotels WHERE (valid = ?)
2025-10-21 00:49:47.336 [scheduled-1] DEBUG o.x.h.mapper.HotelMapper.selectList - ==> Parameters: 1(Integer)
2025-10-21 00:49:47.356 [scheduled-3] DEBUG o.x.h.mapper.HotelChangeMapper.getChangedHotels - <==      Total: 0
2025-10-21 00:49:47.357 [scheduled-3] INFO  o.x.h.service.impl.HotelChangeServiceImpl - 找到 0 个有变化的酒店
2025-10-21 00:49:47.358 [scheduled-3] INFO  o.x.h.service.impl.HotelChangeServiceImpl - 没有发现酒店变更，跳过通知
2025-10-21 00:49:47.363 [scheduled-3] INFO  o.x.h.schedule.HotelChangeNotificationScheduler - === 酒店变更通知任务执行成功，耗时: 201ms ===
2025-10-21 00:49:47.366 [scheduled-1] DEBUG o.x.h.mapper.HotelMapper.selectList - <==      Total: 3
2025-10-21 00:49:47.366 [scheduled-1] INFO  o.x.h.service.impl.AutoStatusSyncServiceImpl - 开始同步酒店 1 的渠道状态
2025-10-21 00:49:47.369 [scheduled-1] DEBUG o.x.h.mapper.HotelMapper.selectById - ==>  Preparing: SELECT id,hotel_code,hotel_name,hotel_name_en,address,city_code,city_name,district_code,district_name,country_code,hotel_phone,hotel_email,description,policy,guide,check_in_time,check_out_time,hotel_level,star_type,business_type,hotel_type,status,valid,is_request_supplier_data,is_push_to_distributors,open_date,close_date,decoration_date,allow_minors,pets,restaurant,support_foreign_guest,require_eng_name,certificate_type,settlement_currency,brand_code,missing_count,created_at,updated_at,is_changed,change_type FROM hotels WHERE id=?
2025-10-21 00:49:47.372 [scheduled-1] DEBUG o.x.h.mapper.HotelMapper.selectById - ==> Parameters: 1(Long)
2025-10-21 00:49:47.376 [scheduled-1] DEBUG o.x.h.mapper.HotelMapper.selectById - <==      Total: 1
2025-10-21 00:49:47.378 [scheduled-1] DEBUG o.x.h.mapper.RoomTypeMapper.selectList - ==>  Preparing: SELECT id,hotel_id,room_type_name,room_type_code,room_type_name_en,max_occupancy,bed_type,bed_type_name,room_size,supplier_specific_data,distributor_specific_data,description,status,valid,created_at,updated_at FROM room_types WHERE (hotel_id = ? AND valid = ?)
2025-10-21 00:49:47.379 [scheduled-1] DEBUG o.x.h.mapper.RoomTypeMapper.selectList - ==> Parameters: 1(Long), 1(Integer)
2025-10-21 00:49:47.383 [scheduled-1] DEBUG o.x.h.mapper.RoomTypeMapper.selectList - <==      Total: 2
2025-10-21 00:49:47.388 [scheduled-1] DEBUG o.x.h.m.D.selectList - ==>  Preparing: SELECT id,room_type_id,distributor_id,distributor_room_type_id,distributor_room_type_name,mapping_status,created_at,updated_at FROM distributor_room_type_mappings WHERE (room_type_id IN (?,?))
2025-10-21 00:49:47.389 [scheduled-1] DEBUG o.x.h.m.D.selectList - ==> Parameters: 1(Long), 2(Long)
2025-10-21 00:49:47.393 [scheduled-1] DEBUG o.x.h.m.D.selectList - <==      Total: 6
2025-10-21 00:49:47.396 [scheduled-1] DEBUG o.x.h.mapper.RatePlanMapper.selectList - ==>  Preparing: SELECT id,room_type_id,product_code,product_name,price_type,currency,guests,has_effective_time,incremental_preferent,preferent_info,support_pay,status,valid,supplier_specific_data,distributor_specific_data,created_at,updated_at FROM rate_plans WHERE (room_type_id = ? AND valid = ?)
2025-10-21 00:49:47.396 [scheduled-1] DEBUG o.x.h.mapper.RatePlanMapper.selectList - ==> Parameters: 1(Long), 1(Integer)
2025-10-21 00:49:47.399 [scheduled-1] DEBUG o.x.h.mapper.RatePlanMapper.selectList - <==      Total: 2
2025-10-21 00:49:47.403 [scheduled-1] DEBUG o.x.h.mapper.DailyRateMapper.selectList - ==>  Preparing: SELECT id,rate_plan_id,business_date,advance_rate,spot_rate,rack_rate,local_rate,orig_advance_rate,orig_spot_rate,quota,advance_breakfast_count,spot_breakfast_count,advance_fee_rate,spot_fee_rate,start_time,end_time,free_cancel_time,availability,distributor_id,created_at,updated_at FROM daily_rates WHERE (rate_plan_id = ? AND distributor_id = ?)
2025-10-21 00:49:47.404 [scheduled-1] DEBUG o.x.h.mapper.DailyRateMapper.selectList - ==> Parameters: 1(Long), 1(Long)
2025-10-21 00:49:47.408 [scheduled-1] DEBUG o.x.h.mapper.DailyRateMapper.selectList - <==      Total: 5
2025-10-21 00:49:47.411 [scheduled-1] DEBUG o.x.h.mapper.DailyRateMapper.selectList - ==>  Preparing: SELECT id,rate_plan_id,business_date,advance_rate,spot_rate,rack_rate,local_rate,orig_advance_rate,orig_spot_rate,quota,advance_breakfast_count,spot_breakfast_count,advance_fee_rate,spot_fee_rate,start_time,end_time,free_cancel_time,availability,distributor_id,created_at,updated_at FROM daily_rates WHERE (rate_plan_id = ? AND distributor_id = ?)
2025-10-21 00:49:47.411 [scheduled-1] DEBUG o.x.h.mapper.DailyRateMapper.selectList - ==> Parameters: 1(Long), 2(Long)
2025-10-21 00:49:47.414 [scheduled-1] DEBUG o.x.h.mapper.DailyRateMapper.selectList - <==      Total: 5
2025-10-21 00:49:47.416 [scheduled-1] DEBUG o.x.h.mapper.DailyRateMapper.selectList - ==>  Preparing: SELECT id,rate_plan_id,business_date,advance_rate,spot_rate,rack_rate,local_rate,orig_advance_rate,orig_spot_rate,quota,advance_breakfast_count,spot_breakfast_count,advance_fee_rate,spot_fee_rate,start_time,end_time,free_cancel_time,availability,distributor_id,created_at,updated_at FROM daily_rates WHERE (rate_plan_id = ? AND distributor_id = ?)
2025-10-21 00:49:47.416 [scheduled-1] DEBUG o.x.h.mapper.DailyRateMapper.selectList - ==> Parameters: 1(Long), 3(Long)
2025-10-21 00:49:47.421 [scheduled-1] DEBUG o.x.h.mapper.DailyRateMapper.selectList - <==      Total: 5
2025-10-21 00:49:47.421 [scheduled-1] INFO  o.x.h.service.impl.AutoStatusSyncServiceImpl - 检查酒店状态: 1
2025-10-21 00:49:47.426 [scheduled-1] INFO  o.x.h.service.impl.AutoStatusSyncServiceImpl - 酒店 1 渠道状态同步完成: 同步完成: 检查了 3 个渠道，更新了 0 个渠道，酒店状态无需更新
2025-10-21 00:49:47.426 [scheduled-1] INFO  o.x.h.service.impl.AutoStatusSyncServiceImpl - 开始同步酒店 2 的渠道状态
2025-10-21 00:49:47.426 [scheduled-1] DEBUG o.x.h.mapper.HotelMapper.selectById - ==>  Preparing: SELECT id,hotel_code,hotel_name,hotel_name_en,address,city_code,city_name,district_code,district_name,country_code,hotel_phone,hotel_email,description,policy,guide,check_in_time,check_out_time,hotel_level,star_type,business_type,hotel_type,status,valid,is_request_supplier_data,is_push_to_distributors,open_date,close_date,decoration_date,allow_minors,pets,restaurant,support_foreign_guest,require_eng_name,certificate_type,settlement_currency,brand_code,missing_count,created_at,updated_at,is_changed,change_type FROM hotels WHERE id=?
2025-10-21 00:49:47.427 [scheduled-1] DEBUG o.x.h.mapper.HotelMapper.selectById - ==> Parameters: 2(Long)
2025-10-21 00:49:47.429 [scheduled-1] DEBUG o.x.h.mapper.HotelMapper.selectById - <==      Total: 1
2025-10-21 00:49:47.431 [scheduled-1] DEBUG o.x.h.mapper.RoomTypeMapper.selectList - ==>  Preparing: SELECT id,hotel_id,room_type_name,room_type_code,room_type_name_en,max_occupancy,bed_type,bed_type_name,room_size,supplier_specific_data,distributor_specific_data,description,status,valid,created_at,updated_at FROM room_types WHERE (hotel_id = ? AND valid = ?)
2025-10-21 00:49:47.432 [scheduled-1] DEBUG o.x.h.mapper.RoomTypeMapper.selectList - ==> Parameters: 2(Long), 1(Integer)
2025-10-21 00:49:47.435 [scheduled-1] DEBUG o.x.h.mapper.RoomTypeMapper.selectList - <==      Total: 2
2025-10-21 00:49:47.437 [scheduled-1] DEBUG o.x.h.m.D.selectList - ==>  Preparing: SELECT id,room_type_id,distributor_id,distributor_room_type_id,distributor_room_type_name,mapping_status,created_at,updated_at FROM distributor_room_type_mappings WHERE (room_type_id IN (?,?))
2025-10-21 00:49:47.438 [scheduled-1] DEBUG o.x.h.m.D.selectList - ==> Parameters: 3(Long), 4(Long)
2025-10-21 00:49:47.442 [scheduled-1] DEBUG o.x.h.m.D.selectList - <==      Total: 6
2025-10-21 00:49:47.443 [scheduled-1] DEBUG o.x.h.mapper.RatePlanMapper.selectList - ==>  Preparing: SELECT id,room_type_id,product_code,product_name,price_type,currency,guests,has_effective_time,incremental_preferent,preferent_info,support_pay,status,valid,supplier_specific_data,distributor_specific_data,created_at,updated_at FROM rate_plans WHERE (room_type_id = ? AND valid = ?)
2025-10-21 00:49:47.444 [scheduled-1] DEBUG o.x.h.mapper.RatePlanMapper.selectList - ==> Parameters: 3(Long), 1(Integer)
2025-10-21 00:49:47.447 [scheduled-1] DEBUG o.x.h.mapper.RatePlanMapper.selectList - <==      Total: 2
2025-10-21 00:49:47.449 [scheduled-1] DEBUG o.x.h.mapper.DailyRateMapper.selectList - ==>  Preparing: SELECT id,rate_plan_id,business_date,advance_rate,spot_rate,rack_rate,local_rate,orig_advance_rate,orig_spot_rate,quota,advance_breakfast_count,spot_breakfast_count,advance_fee_rate,spot_fee_rate,start_time,end_time,free_cancel_time,availability,distributor_id,created_at,updated_at FROM daily_rates WHERE (rate_plan_id = ? AND distributor_id = ?)
2025-10-21 00:49:47.449 [scheduled-1] DEBUG o.x.h.mapper.DailyRateMapper.selectList - ==> Parameters: 5(Long), 1(Long)
2025-10-21 00:49:47.456 [scheduled-1] DEBUG o.x.h.mapper.DailyRateMapper.selectList - <==      Total: 5
2025-10-21 00:49:47.459 [scheduled-1] DEBUG o.x.h.mapper.DailyRateMapper.selectList - ==>  Preparing: SELECT id,rate_plan_id,business_date,advance_rate,spot_rate,rack_rate,local_rate,orig_advance_rate,orig_spot_rate,quota,advance_breakfast_count,spot_breakfast_count,advance_fee_rate,spot_fee_rate,start_time,end_time,free_cancel_time,availability,distributor_id,created_at,updated_at FROM daily_rates WHERE (rate_plan_id = ? AND distributor_id = ?)
2025-10-21 00:49:47.459 [scheduled-1] DEBUG o.x.h.mapper.DailyRateMapper.selectList - ==> Parameters: 5(Long), 2(Long)
2025-10-21 00:49:47.463 [scheduled-1] DEBUG o.x.h.mapper.DailyRateMapper.selectList - <==      Total: 5
2025-10-21 00:49:47.465 [scheduled-1] DEBUG o.x.h.mapper.DailyRateMapper.selectList - ==>  Preparing: SELECT id,rate_plan_id,business_date,advance_rate,spot_rate,rack_rate,local_rate,orig_advance_rate,orig_spot_rate,quota,advance_breakfast_count,spot_breakfast_count,advance_fee_rate,spot_fee_rate,start_time,end_time,free_cancel_time,availability,distributor_id,created_at,updated_at FROM daily_rates WHERE (rate_plan_id = ? AND distributor_id = ?)
2025-10-21 00:49:47.465 [scheduled-1] DEBUG o.x.h.mapper.DailyRateMapper.selectList - ==> Parameters: 5(Long), 3(Long)
2025-10-21 00:49:47.470 [scheduled-1] DEBUG o.x.h.mapper.DailyRateMapper.selectList - <==      Total: 5
2025-10-21 00:49:47.470 [scheduled-1] INFO  o.x.h.service.impl.AutoStatusSyncServiceImpl - 检查酒店状态: 2
2025-10-21 00:49:47.473 [scheduled-1] INFO  o.x.h.service.impl.AutoStatusSyncServiceImpl - 酒店 2 渠道状态同步完成: 同步完成: 检查了 3 个渠道，更新了 0 个渠道，酒店状态无需更新
2025-10-21 00:49:47.474 [scheduled-1] INFO  o.x.h.service.impl.AutoStatusSyncServiceImpl - 开始同步酒店 3 的渠道状态
2025-10-21 00:49:47.474 [scheduled-1] DEBUG o.x.h.mapper.HotelMapper.selectById - ==>  Preparing: SELECT id,hotel_code,hotel_name,hotel_name_en,address,city_code,city_name,district_code,district_name,country_code,hotel_phone,hotel_email,description,policy,guide,check_in_time,check_out_time,hotel_level,star_type,business_type,hotel_type,status,valid,is_request_supplier_data,is_push_to_distributors,open_date,close_date,decoration_date,allow_minors,pets,restaurant,support_foreign_guest,require_eng_name,certificate_type,settlement_currency,brand_code,missing_count,created_at,updated_at,is_changed,change_type FROM hotels WHERE id=?
2025-10-21 00:49:47.475 [scheduled-1] DEBUG o.x.h.mapper.HotelMapper.selectById - ==> Parameters: 3(Long)
2025-10-21 00:49:47.478 [scheduled-1] DEBUG o.x.h.mapper.HotelMapper.selectById - <==      Total: 1
2025-10-21 00:49:47.479 [scheduled-1] DEBUG o.x.h.mapper.RoomTypeMapper.selectList - ==>  Preparing: SELECT id,hotel_id,room_type_name,room_type_code,room_type_name_en,max_occupancy,bed_type,bed_type_name,room_size,supplier_specific_data,distributor_specific_data,description,status,valid,created_at,updated_at FROM room_types WHERE (hotel_id = ? AND valid = ?)
2025-10-21 00:49:47.480 [scheduled-1] DEBUG o.x.h.mapper.RoomTypeMapper.selectList - ==> Parameters: 3(Long), 1(Integer)
2025-10-21 00:49:47.483 [scheduled-1] DEBUG o.x.h.mapper.RoomTypeMapper.selectList - <==      Total: 2
2025-10-21 00:49:47.485 [scheduled-1] DEBUG o.x.h.m.D.selectList - ==>  Preparing: SELECT id,room_type_id,distributor_id,distributor_room_type_id,distributor_room_type_name,mapping_status,created_at,updated_at FROM distributor_room_type_mappings WHERE (room_type_id IN (?,?))
2025-10-21 00:49:47.486 [scheduled-1] DEBUG o.x.h.m.D.selectList - ==> Parameters: 5(Long), 6(Long)
2025-10-21 00:49:47.489 [scheduled-1] DEBUG o.x.h.m.D.selectList - <==      Total: 6
2025-10-21 00:49:47.492 [scheduled-1] DEBUG o.x.h.mapper.RatePlanMapper.selectList - ==>  Preparing: SELECT id,room_type_id,product_code,product_name,price_type,currency,guests,has_effective_time,incremental_preferent,preferent_info,support_pay,status,valid,supplier_specific_data,distributor_specific_data,created_at,updated_at FROM rate_plans WHERE (room_type_id = ? AND valid = ?)
2025-10-21 00:49:47.492 [scheduled-1] DEBUG o.x.h.mapper.RatePlanMapper.selectList - ==> Parameters: 5(Long), 1(Integer)
2025-10-21 00:49:47.494 [scheduled-1] DEBUG o.x.h.mapper.RatePlanMapper.selectList - <==      Total: 2
2025-10-21 00:49:47.495 [scheduled-1] DEBUG o.x.h.mapper.DailyRateMapper.selectList - ==>  Preparing: SELECT id,rate_plan_id,business_date,advance_rate,spot_rate,rack_rate,local_rate,orig_advance_rate,orig_spot_rate,quota,advance_breakfast_count,spot_breakfast_count,advance_fee_rate,spot_fee_rate,start_time,end_time,free_cancel_time,availability,distributor_id,created_at,updated_at FROM daily_rates WHERE (rate_plan_id = ? AND distributor_id = ?)
2025-10-21 00:49:47.496 [scheduled-1] DEBUG o.x.h.mapper.DailyRateMapper.selectList - ==> Parameters: 9(Long), 1(Long)
2025-10-21 00:49:47.498 [scheduled-1] DEBUG o.x.h.mapper.DailyRateMapper.selectList - <==      Total: 5
2025-10-21 00:49:47.499 [scheduled-1] DEBUG o.x.h.mapper.DailyRateMapper.selectList - ==>  Preparing: SELECT id,rate_plan_id,business_date,advance_rate,spot_rate,rack_rate,local_rate,orig_advance_rate,orig_spot_rate,quota,advance_breakfast_count,spot_breakfast_count,advance_fee_rate,spot_fee_rate,start_time,end_time,free_cancel_time,availability,distributor_id,created_at,updated_at FROM daily_rates WHERE (rate_plan_id = ? AND distributor_id = ?)
2025-10-21 00:49:47.499 [scheduled-1] DEBUG o.x.h.mapper.DailyRateMapper.selectList - ==> Parameters: 10(Long), 1(Long)
2025-10-21 00:49:47.503 [scheduled-1] DEBUG o.x.h.mapper.DailyRateMapper.selectList - <==      Total: 5
2025-10-21 00:49:47.505 [scheduled-1] DEBUG o.x.h.mapper.RatePlanMapper.selectList - ==>  Preparing: SELECT id,room_type_id,product_code,product_name,price_type,currency,guests,has_effective_time,incremental_preferent,preferent_info,support_pay,status,valid,supplier_specific_data,distributor_specific_data,created_at,updated_at FROM rate_plans WHERE (room_type_id = ? AND valid = ?)
2025-10-21 00:49:47.506 [scheduled-1] DEBUG o.x.h.mapper.RatePlanMapper.selectList - ==> Parameters: 6(Long), 1(Integer)
2025-10-21 00:49:47.508 [scheduled-1] DEBUG o.x.h.mapper.RatePlanMapper.selectList - <==      Total: 2
2025-10-21 00:49:47.510 [scheduled-1] DEBUG o.x.h.mapper.DailyRateMapper.selectList - ==>  Preparing: SELECT id,rate_plan_id,business_date,advance_rate,spot_rate,rack_rate,local_rate,orig_advance_rate,orig_spot_rate,quota,advance_breakfast_count,spot_breakfast_count,advance_fee_rate,spot_fee_rate,start_time,end_time,free_cancel_time,availability,distributor_id,created_at,updated_at FROM daily_rates WHERE (rate_plan_id = ? AND distributor_id = ?)
2025-10-21 00:49:47.510 [scheduled-1] DEBUG o.x.h.mapper.DailyRateMapper.selectList - ==> Parameters: 11(Long), 1(Long)
2025-10-21 00:49:47.512 [scheduled-1] DEBUG o.x.h.mapper.DailyRateMapper.selectList - <==      Total: 5
2025-10-21 00:49:47.513 [scheduled-1] DEBUG o.x.h.mapper.DailyRateMapper.selectList - ==>  Preparing: SELECT id,rate_plan_id,business_date,advance_rate,spot_rate,rack_rate,local_rate,orig_advance_rate,orig_spot_rate,quota,advance_breakfast_count,spot_breakfast_count,advance_fee_rate,spot_fee_rate,start_time,end_time,free_cancel_time,availability,distributor_id,created_at,updated_at FROM daily_rates WHERE (rate_plan_id = ? AND distributor_id = ?)
2025-10-21 00:49:47.514 [scheduled-1] DEBUG o.x.h.mapper.DailyRateMapper.selectList - ==> Parameters: 12(Long), 1(Long)
2025-10-21 00:49:47.516 [scheduled-1] DEBUG o.x.h.mapper.DailyRateMapper.selectList - <==      Total: 5
2025-10-21 00:49:47.518 [scheduled-1] DEBUG o.x.h.mapper.DailyRateMapper.selectList - ==>  Preparing: SELECT id,rate_plan_id,business_date,advance_rate,spot_rate,rack_rate,local_rate,orig_advance_rate,orig_spot_rate,quota,advance_breakfast_count,spot_breakfast_count,advance_fee_rate,spot_fee_rate,start_time,end_time,free_cancel_time,availability,distributor_id,created_at,updated_at FROM daily_rates WHERE (rate_plan_id = ? AND distributor_id = ?)
2025-10-21 00:49:47.519 [scheduled-1] DEBUG o.x.h.mapper.DailyRateMapper.selectList - ==> Parameters: 9(Long), 2(Long)
2025-10-21 00:49:47.521 [scheduled-1] DEBUG o.x.h.mapper.DailyRateMapper.selectList - <==      Total: 5
2025-10-21 00:49:47.523 [scheduled-1] DEBUG o.x.h.mapper.DailyRateMapper.selectList - ==>  Preparing: SELECT id,rate_plan_id,business_date,advance_rate,spot_rate,rack_rate,local_rate,orig_advance_rate,orig_spot_rate,quota,advance_breakfast_count,spot_breakfast_count,advance_fee_rate,spot_fee_rate,start_time,end_time,free_cancel_time,availability,distributor_id,created_at,updated_at FROM daily_rates WHERE (rate_plan_id = ? AND distributor_id = ?)
2025-10-21 00:49:47.524 [scheduled-1] DEBUG o.x.h.mapper.DailyRateMapper.selectList - ==> Parameters: 9(Long), 3(Long)
2025-10-21 00:49:47.527 [scheduled-1] DEBUG o.x.h.mapper.DailyRateMapper.selectList - <==      Total: 5
2025-10-21 00:49:47.527 [scheduled-1] INFO  o.x.h.service.impl.AutoStatusSyncServiceImpl - 检查酒店状态: 3
2025-10-21 00:49:47.528 [scheduled-1] INFO  o.x.h.service.impl.AutoStatusSyncServiceImpl - 酒店 3 渠道状态同步完成: 同步完成: 检查了 3 个渠道，更新了 0 个渠道，酒店状态无需更新
2025-10-21 00:49:47.529 [scheduled-1] INFO  o.x.h.service.impl.AutoStatusSyncServiceImpl - 所有酒店状态同步完成，共处理 3 个酒店
2025-10-21 00:49:47.532 [scheduled-1] INFO  o.x.h.schedule.AutoStatusSyncScheduler - 定时自动状态同步完成 - 耗时: 368ms, 处理酒店: 3, 更新酒店: 0, 总渠道: 9, 更新渠道: 0
2025-10-21 00:49:49.239 [scheduled-2] ERROR o.x.h.service.impl.QunarOrderServiceImpl - 查询去哪网订单列表异常
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:431)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrderList(QunarOrderServiceImpl.java:53)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrdersByDateRange(QunarOrderServiceImpl.java:78)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl.syncOrdersFromQunar(QunarOrderSyncServiceImpl.java:66)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:716)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl$$SpringCGLIB$$0.syncOrdersFromQunar(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 00:49:49.246 [scheduled-2] ERROR o.x.h.service.impl.QunarOrderSyncServiceImpl - 去哪网订单查询失败: errCode=ERROR, errMsg=查询异常: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
2025-10-21 00:49:52.154 [scheduled-5] INFO  o.x.h.service.impl.ScheduledApiServiceImpl - 开始定时同步品牌数据...
2025-10-21 00:49:52.159 [scheduled-5] DEBUG o.x.h.service.impl.JinjiangApiServiceImpl - 开始调用供应商API获取品牌列表
2025-10-21 00:49:52.215 [scheduled-5] INFO  org.xfy.hotelpricecomparison.util.LogUtil - 调用API: https://dfd9fbc3-4bf3-4efc-90c8-60cc60d04ab6.mock.pstmn.io/brand/getBrandList, 请求参数: {"brandCode":null,"languageCode":0}
2025-10-21 00:49:52.217 [scheduled-5] DEBUG o.x.h.service.impl.JinjiangApiServiceImpl - 发送API请求到: https://dfd9fbc3-4bf3-4efc-90c8-60cc60d04ab6.mock.pstmn.io/brand/getBrandList
2025-10-21 00:49:53.307 [http-nio-8080-exec-1] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-21 00:49:53.307 [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-10-21 00:49:53.311 [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 4 ms
2025-10-21 00:49:53.452 [http-nio-8080-exec-1] INFO  o.x.hotelpricecomparison.controller.AuthController - 收到登录请求: username=wzx
2025-10-21 00:49:53.452 [http-nio-8080-exec-1] INFO  o.x.h.service.impl.SysUserServiceImpl - 开始查询用户: username=wzx
2025-10-21 00:49:53.453 [http-nio-8080-exec-1] INFO  o.x.h.service.impl.SysUserServiceImpl - 查询条件: (username = #{ew.paramNameValuePairs.MPGENVAL1})
2025-10-21 00:49:53.454 [http-nio-8080-exec-1] DEBUG o.x.h.mapper.SysUserMapper.selectList - ==>  Preparing: SELECT id, username, password, email, phone, role FROM sys_user
2025-10-21 00:49:53.455 [http-nio-8080-exec-1] DEBUG o.x.h.mapper.SysUserMapper.selectList - ==> Parameters: 
2025-10-21 00:49:53.457 [http-nio-8080-exec-1] DEBUG o.x.h.mapper.SysUserMapper.selectList - <==      Total: 3
2025-10-21 00:49:53.458 [http-nio-8080-exec-1] INFO  o.x.h.service.impl.SysUserServiceImpl - 查询结果数量: 3
2025-10-21 00:49:53.458 [http-nio-8080-exec-1] INFO  o.x.h.service.impl.SysUserServiceImpl - 查询到的用户: admin
2025-10-21 00:49:53.458 [http-nio-8080-exec-1] INFO  o.x.h.service.impl.SysUserServiceImpl - 查询到的用户: user
2025-10-21 00:49:53.458 [http-nio-8080-exec-1] INFO  o.x.h.service.impl.SysUserServiceImpl - 查询到的用户: wzx
2025-10-21 00:49:53.458 [http-nio-8080-exec-1] INFO  o.x.h.service.impl.SysUserServiceImpl - 找到匹配的用户: wzx
2025-10-21 00:49:53.459 [http-nio-8080-exec-1] INFO  o.x.hotelpricecomparison.controller.AuthController - 找到用户: wzx
2025-10-21 00:49:53.517 [scheduled-5] INFO  org.xfy.hotelpricecomparison.util.LogUtil - API响应: https://dfd9fbc3-4bf3-4efc-90c8-60cc60d04ab6.mock.pstmn.io/brand/getBrandList, 响应内容: {"errors":null,"message":"success","msgCode":0,"result":{"brand":[{"brandCode":"JJ001","brandName":"锦江之星","brandType":1,"description":"简约舒适的经济型酒店品牌，为商务和休闲旅客提供优质住宿体验"},{"brandCode":"JJ002","brandName":"维也纳酒店","brandType":2,"description":"精品优选酒店品牌，融合欧式风情与现代设计，提供高品质住宿服务"},{"brandCode":"JJ003","brandName":"锦江都城","brandType":3,"description":"豪华高端酒店品牌，提供奢华住宿体验和顶级服务"}]}}
2025-10-21 00:49:53.528 [scheduled-5] DEBUG o.x.h.service.impl.JinjiangApiServiceImpl - API调用成功: https://dfd9fbc3-4bf3-4efc-90c8-60cc60d04ab6.mock.pstmn.io/brand/getBrandList, 响应状态码: 0
2025-10-21 00:49:53.532 [scheduled-5] INFO  org.xfy.hotelpricecomparison.util.LogUtil - API响应: https://dfd9fbc3-4bf3-4efc-90c8-60cc60d04ab6.mock.pstmn.io/brand/getBrandList (解析后), 响应内容: {"errors":null,"message":"success","msgCode":0,"result":{"brand":[{"brandCode":"JJ001","brandName":"锦江之星","brandType":1,"description":"简约舒适的经济型酒店品牌，为商务和休闲旅客提供优质住宿体验"},{"brandCode":"JJ002","brandName":"维也纳酒店","brandType":2,"description":"精品优选酒店品牌，融合欧式风情与现代设计，提供高品质住宿服务"},{"brandCode":"JJ003","brandName":"锦江都城","brandType":3,"description":"豪华高端酒店品牌，提供奢华住宿体验和顶级服务"}]}}
2025-10-21 00:49:53.532 [scheduled-5] INFO  o.x.h.service.impl.ScheduledApiServiceImpl - 成功获取品牌数据，品牌数量: 3
2025-10-21 00:49:53.535 [scheduled-5] INFO  org.xfy.hotelpricecomparison.util.ValidationUtil - 品牌数据验证完成，有效数据: 3, 无效数据: 0
2025-10-21 00:49:53.536 [scheduled-5] INFO  o.x.h.service.impl.JinjiangBrandServiceImpl - 批量保存或更新品牌，数量: 3
2025-10-21 00:49:53.539 [scheduled-5] ERROR o.x.h.service.impl.JinjiangBrandServiceImpl - 批量保存或更新品牌失败
org.apache.ibatis.binding.BindingException: Invalid bound statement (not found): org.xfy.hotelpricecomparison.mapper.JinjiangBrandMapper.selectByBrandCodes
	at org.apache.ibatis.binding.MapperMethod$SqlCommand.<init>(MapperMethod.java:229)
	at com.baomidou.mybatisplus.core.override.MybatisMapperMethod.<init>(MybatisMapperMethod.java:50)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.lambda$cachedInvoker$0(MybatisMapperProxy.java:111)
	at java.base/java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1708)
	at com.baomidou.mybatisplus.core.toolkit.CollectionUtils.computeIfAbsent(CollectionUtils.java:157)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.cachedInvoker(MybatisMapperProxy.java:98)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.invoke(MybatisMapperProxy.java:89)
	at jdk.proxy4/jdk.proxy4.$Proxy162.selectByBrandCodes(Unknown Source)
	at org.xfy.hotelpricecomparison.service.impl.JinjiangBrandServiceImpl.saveOrUpdateBrands(JinjiangBrandServiceImpl.java:110)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:392)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at org.xfy.hotelpricecomparison.service.impl.JinjiangBrandServiceImpl$$SpringCGLIB$$0.saveOrUpdateBrands(<generated>)
	at org.xfy.hotelpricecomparison.service.impl.ScheduledApiServiceImpl.syncBrandData(ScheduledApiServiceImpl.java:145)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 00:49:53.546 [scheduled-5] ERROR o.x.h.service.impl.ScheduledApiServiceImpl - 定时同步品牌数据失败
java.lang.RuntimeException: 批量保存或更新品牌失败: Invalid bound statement (not found): org.xfy.hotelpricecomparison.mapper.JinjiangBrandMapper.selectByBrandCodes
	at org.xfy.hotelpricecomparison.service.impl.JinjiangBrandServiceImpl.saveOrUpdateBrands(JinjiangBrandServiceImpl.java:152)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:392)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at org.xfy.hotelpricecomparison.service.impl.JinjiangBrandServiceImpl$$SpringCGLIB$$0.saveOrUpdateBrands(<generated>)
	at org.xfy.hotelpricecomparison.service.impl.ScheduledApiServiceImpl.syncBrandData(ScheduledApiServiceImpl.java:145)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.apache.ibatis.binding.BindingException: Invalid bound statement (not found): org.xfy.hotelpricecomparison.mapper.JinjiangBrandMapper.selectByBrandCodes
	at org.apache.ibatis.binding.MapperMethod$SqlCommand.<init>(MapperMethod.java:229)
	at com.baomidou.mybatisplus.core.override.MybatisMapperMethod.<init>(MybatisMapperMethod.java:50)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.lambda$cachedInvoker$0(MybatisMapperProxy.java:111)
	at java.base/java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1708)
	at com.baomidou.mybatisplus.core.toolkit.CollectionUtils.computeIfAbsent(CollectionUtils.java:157)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.cachedInvoker(MybatisMapperProxy.java:98)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.invoke(MybatisMapperProxy.java:89)
	at jdk.proxy4/jdk.proxy4.$Proxy162.selectByBrandCodes(Unknown Source)
	at org.xfy.hotelpricecomparison.service.impl.JinjiangBrandServiceImpl.saveOrUpdateBrands(JinjiangBrandServiceImpl.java:110)
	... 27 common frames omitted
2025-10-21 00:49:54.215 [http-nio-8080-exec-1] INFO  o.x.hotelpricecomparison.controller.AuthController - 密码验证成功: wzx
2025-10-21 00:49:54.219 [http-nio-8080-exec-1] INFO  o.x.hotelpricecomparison.controller.AuthController - 用户登录成功: wzx
2025-10-21 00:49:55.154 [scheduled-4] INFO  o.x.h.service.impl.ScheduledApiServiceImpl - 开始定时同步酒店ID列表...
2025-10-21 00:49:55.154 [scheduled-4] INFO  o.x.h.service.impl.ScheduledApiServiceImpl - 正在获取第 1 页酒店ID列表，每页 100 条
2025-10-21 00:49:55.155 [scheduled-4] DEBUG o.x.h.service.impl.JinjiangApiServiceImpl - 开始调用供应商API获取酒店ID列表 - 页码: 1, 每页数量: 100
2025-10-21 00:49:55.158 [scheduled-4] INFO  org.xfy.hotelpricecomparison.util.LogUtil - 调用API: https://dfd9fbc3-4bf3-4efc-90c8-60cc60d04ab6.mock.pstmn.io/hotel/getHotelIds, 请求参数: {"brandCodes":null,"pageNum":1,"pageSize":100}
2025-10-21 00:49:55.160 [scheduled-4] DEBUG o.x.h.service.impl.JinjiangApiServiceImpl - 发送API请求到: https://dfd9fbc3-4bf3-4efc-90c8-60cc60d04ab6.mock.pstmn.io/hotel/getHotelIds
2025-10-21 00:49:55.679 [scheduled-4] ERROR o.x.h.service.impl.JinjiangApiServiceImpl - HTTP客户端错误 - URL: https://dfd9fbc3-4bf3-4efc-90c8-60cc60d04ab6.mock.pstmn.io/hotel/getHotelIds, 状态码: 404 NOT_FOUND, 错误信息: {"error":{"name":"mockRequestNotFoundError","message":"Double check your method and the request path and try again. Learn more here: https://learning.postman.com/docs/design-apis/mock-apis/matching-algorithm/","header":"No matching requests"}}
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockRequestNotFoundError","message":"Double check your method and the request path and try again. Learn more here: https://learning.postman.com/docs/design-apis/mock-apis/matching-algorithm/","header":"No matching requests"}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.postForEntity(RestTemplate.java:538)
	at org.xfy.hotelpricecomparison.service.impl.JinjiangApiServiceImpl.callSupplierApi(JinjiangApiServiceImpl.java:195)
	at org.xfy.hotelpricecomparison.service.impl.JinjiangApiServiceImpl.getHotelIds(JinjiangApiServiceImpl.java:94)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.retry.annotation.AnnotationAwareRetryOperationsInterceptor.invoke(AnnotationAwareRetryOperationsInterceptor.java:164)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at org.xfy.hotelpricecomparison.service.impl.JinjiangApiServiceImpl$$SpringCGLIB$$0.getHotelIds(<generated>)
	at org.xfy.hotelpricecomparison.service.impl.ScheduledApiServiceImpl.syncHotelIds(ScheduledApiServiceImpl.java:188)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 00:49:55.681 [scheduled-4] WARN  o.x.h.service.impl.ScheduledApiServiceImpl - 第 1 页获取酒店ID列表失败，响应为空
2025-10-21 00:49:55.681 [scheduled-4] INFO  o.x.h.service.impl.ScheduledApiServiceImpl - 酒店ID列表同步完成，共获取并保存 0 个酒店ID
2025-10-21 00:49:57.148 [scheduled-3] INFO  o.x.h.service.impl.ScheduledApiServiceImpl - 开始定时同步酒店数据...
2025-10-21 00:49:57.148 [scheduled-3] INFO  o.x.h.service.impl.HotelServiceImpl - 获取未同步的酒店列表，限制数量: 50
2025-10-21 00:49:57.157 [scheduled-3] DEBUG o.x.h.mapper.HotelMapper.selectList - ==>  Preparing: SELECT id,hotel_code,hotel_name,hotel_name_en,address,city_code,city_name,district_code,district_name,country_code,hotel_phone,hotel_email,description,policy,guide,check_in_time,check_out_time,hotel_level,star_type,business_type,hotel_type,status,valid,is_request_supplier_data,is_push_to_distributors,open_date,close_date,decoration_date,allow_minors,pets,restaurant,support_foreign_guest,require_eng_name,certificate_type,settlement_currency,brand_code,missing_count,created_at,updated_at,is_changed,change_type FROM hotels WHERE (is_request_supplier_data = ? AND valid = ? AND hotel_code IS NOT NULL) ORDER BY created_at ASC LIMIT 50
2025-10-21 00:49:57.158 [scheduled-3] DEBUG o.x.h.mapper.HotelMapper.selectList - ==> Parameters: 1(Integer), 1(Integer)
2025-10-21 00:49:57.163 [scheduled-3] DEBUG o.x.h.mapper.HotelMapper.selectList - <==      Total: 2
2025-10-21 00:49:57.164 [scheduled-3] INFO  o.x.h.service.impl.ScheduledApiServiceImpl - 从hotels表获取到 2 个未同步的酒店ID
2025-10-21 00:49:57.164 [scheduled-3] INFO  o.x.h.service.impl.ScheduledApiServiceImpl - 开始同步 2 个酒店的数据
2025-10-21 00:49:57.165 [scheduled-3] INFO  o.x.h.service.impl.ScheduledApiServiceImpl - 处理酒店批次，大小: 2
2025-10-21 00:49:57.171 [scheduled-3] DEBUG o.x.h.service.impl.JinjiangApiServiceImpl - 开始调用供应商API获取酒店信息 - 酒店ID: HOTEL002
2025-10-21 00:49:57.171 [ForkJoinPool.commonPool-worker-1] DEBUG o.x.h.service.impl.JinjiangApiServiceImpl - 开始调用供应商API获取酒店信息 - 酒店ID: HOTEL001
2025-10-21 00:49:57.174 [scheduled-3] INFO  org.xfy.hotelpricecomparison.util.LogUtil - 调用API: https://dfd9fbc3-4bf3-4efc-90c8-60cc60d04ab6.mock.pstmn.io/hotel/getHotelInfo, 请求参数: {"innId":"HOTEL002","languageCode":0}
2025-10-21 00:49:57.174 [ForkJoinPool.commonPool-worker-1] INFO  org.xfy.hotelpricecomparison.util.LogUtil - 调用API: https://dfd9fbc3-4bf3-4efc-90c8-60cc60d04ab6.mock.pstmn.io/hotel/getHotelInfo, 请求参数: {"innId":"HOTEL001","languageCode":0}
2025-10-21 00:49:57.175 [scheduled-3] DEBUG o.x.h.service.impl.JinjiangApiServiceImpl - 验证酒店信息请求参数
2025-10-21 00:49:57.175 [ForkJoinPool.commonPool-worker-1] DEBUG o.x.h.service.impl.JinjiangApiServiceImpl - 验证酒店信息请求参数
2025-10-21 00:49:57.177 [ForkJoinPool.commonPool-worker-1] DEBUG o.x.h.service.impl.JinjiangApiServiceImpl - 发送API请求到: https://dfd9fbc3-4bf3-4efc-90c8-60cc60d04ab6.mock.pstmn.io/hotel/getHotelInfo
2025-10-21 00:49:57.177 [scheduled-3] DEBUG o.x.h.service.impl.JinjiangApiServiceImpl - 发送API请求到: https://dfd9fbc3-4bf3-4efc-90c8-60cc60d04ab6.mock.pstmn.io/hotel/getHotelInfo
2025-10-21 00:49:57.724 [ForkJoinPool.commonPool-worker-1] ERROR o.x.h.service.impl.JinjiangApiServiceImpl - HTTP客户端错误 - URL: https://dfd9fbc3-4bf3-4efc-90c8-60cc60d04ab6.mock.pstmn.io/hotel/getHotelInfo, 状态码: 404 NOT_FOUND, 错误信息: {"error":{"name":"mockRequestNotFoundError","message":"Double check your method and the request path and try again. Learn more here: https://learning.postman.com/docs/design-apis/mock-apis/matching-algorithm/","header":"No matching requests"}}
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockRequestNotFoundError","message":"Double check your method and the request path and try again. Learn more here: https://learning.postman.com/docs/design-apis/mock-apis/matching-algorithm/","header":"No matching requests"}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.postForEntity(RestTemplate.java:538)
	at org.xfy.hotelpricecomparison.service.impl.JinjiangApiServiceImpl.callSupplierApi(JinjiangApiServiceImpl.java:195)
	at org.xfy.hotelpricecomparison.service.impl.JinjiangApiServiceImpl.getHotelInfo(JinjiangApiServiceImpl.java:101)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.retry.annotation.AnnotationAwareRetryOperationsInterceptor.invoke(AnnotationAwareRetryOperationsInterceptor.java:164)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at org.xfy.hotelpricecomparison.service.impl.JinjiangApiServiceImpl$$SpringCGLIB$$0.getHotelInfo(<generated>)
	at org.xfy.hotelpricecomparison.service.impl.ScheduledApiServiceImpl.lambda$syncHotelData$0(ScheduledApiServiceImpl.java:342)
	at org.xfy.hotelpricecomparison.util.RetryUtil.executeWithRetry(RetryUtil.java:54)
	at org.xfy.hotelpricecomparison.service.impl.ScheduledApiServiceImpl.lambda$syncHotelData$1(ScheduledApiServiceImpl.java:335)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ReduceOps$ReduceTask.doLeaf(ReduceOps.java:960)
	at java.base/java.util.stream.ReduceOps$ReduceTask.doLeaf(ReduceOps.java:934)
	at java.base/java.util.stream.AbstractTask.compute(AbstractTask.java:327)
	at java.base/java.util.concurrent.CountedCompleter.exec(CountedCompleter.java:754)
	at java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:387)
	at java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1310)
	at java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1841)
	at java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1806)
	at java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:188)
2025-10-21 00:49:57.730 [ForkJoinPool.commonPool-worker-1] WARN  o.x.h.service.impl.ScheduledApiServiceImpl - 获取酒店数据失败，酒店ID: HOTEL001
2025-10-21 00:49:58.737 [scheduled-3] ERROR o.x.h.service.impl.JinjiangApiServiceImpl - HTTP客户端错误 - URL: https://dfd9fbc3-4bf3-4efc-90c8-60cc60d04ab6.mock.pstmn.io/hotel/getHotelInfo, 状态码: 404 NOT_FOUND, 错误信息: {"error":{"name":"mockRequestNotFoundError","message":"Double check your method and the request path and try again. Learn more here: https://learning.postman.com/docs/design-apis/mock-apis/matching-algorithm/","header":"No matching requests"}}
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockRequestNotFoundError","message":"Double check your method and the request path and try again. Learn more here: https://learning.postman.com/docs/design-apis/mock-apis/matching-algorithm/","header":"No matching requests"}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.postForEntity(RestTemplate.java:538)
	at org.xfy.hotelpricecomparison.service.impl.JinjiangApiServiceImpl.callSupplierApi(JinjiangApiServiceImpl.java:195)
	at org.xfy.hotelpricecomparison.service.impl.JinjiangApiServiceImpl.getHotelInfo(JinjiangApiServiceImpl.java:101)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.retry.annotation.AnnotationAwareRetryOperationsInterceptor.invoke(AnnotationAwareRetryOperationsInterceptor.java:164)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at org.xfy.hotelpricecomparison.service.impl.JinjiangApiServiceImpl$$SpringCGLIB$$0.getHotelInfo(<generated>)
	at org.xfy.hotelpricecomparison.service.impl.ScheduledApiServiceImpl.lambda$syncHotelData$0(ScheduledApiServiceImpl.java:342)
	at org.xfy.hotelpricecomparison.util.RetryUtil.executeWithRetry(RetryUtil.java:54)
	at org.xfy.hotelpricecomparison.service.impl.ScheduledApiServiceImpl.lambda$syncHotelData$1(ScheduledApiServiceImpl.java:335)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ReduceOps$ReduceTask.doLeaf(ReduceOps.java:960)
	at java.base/java.util.stream.ReduceOps$ReduceTask.doLeaf(ReduceOps.java:934)
	at java.base/java.util.stream.AbstractTask.compute(AbstractTask.java:327)
	at java.base/java.util.concurrent.CountedCompleter.exec(CountedCompleter.java:754)
	at java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:387)
	at java.base/java.util.concurrent.ForkJoinTask.invoke(ForkJoinTask.java:667)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateParallel(ReduceOps.java:927)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:233)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682)
	at org.xfy.hotelpricecomparison.service.impl.ScheduledApiServiceImpl.syncHotelData(ScheduledApiServiceImpl.java:369)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 00:49:58.742 [scheduled-3] WARN  o.x.h.service.impl.ScheduledApiServiceImpl - 获取酒店数据失败，酒店ID: HOTEL002
2025-10-21 00:49:58.743 [scheduled-3] WARN  o.x.h.service.impl.ScheduledApiServiceImpl - 没有成功获取到任何酒店数据
2025-10-21 00:50:02.146 [scheduled-1] INFO  o.x.h.service.impl.ScheduledApiServiceImpl - 开始定时同步价格数据...
2025-10-21 00:50:02.147 [scheduled-1] INFO  o.x.h.service.impl.ScheduledApiServiceImpl - 价格数据同步完成
2025-10-21 00:50:07.146 [scheduled-2] INFO  o.x.h.service.impl.ScheduledApiServiceImpl - 开始定时同步订单数据...
2025-10-21 00:50:07.146 [scheduled-2] INFO  o.x.h.service.impl.ScheduledApiServiceImpl - 订单数据同步完成
2025-10-21 00:50:17.150 [scheduled-4] INFO  o.x.h.service.impl.ScheduledApiServiceImpl - 开始定时同步酒店房型信息...
2025-10-21 00:50:17.150 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 开始同步去哪网订单...
2025-10-21 00:50:17.151 [scheduled-4] INFO  o.x.h.service.impl.HotelServiceImpl - 获取未同步的酒店列表，限制数量: 10
2025-10-21 00:50:17.151 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 查询时间范围: fromDate=20251021004017, toDate=20251021005017
2025-10-21 00:50:17.151 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderServiceImpl - 开始查询去哪网订单列表: fromDate=20251021004017, toDate=20251021005017, version=3.7
2025-10-21 00:50:17.151 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 生成HMAC签名: data=your_sign_key20251021004017202510210050173.7, hmac=c58a5f69478e506678598b5a33cf2391
2025-10-21 00:50:17.151 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 构建请求URL: https://2402add9-4b1a-450b-9bed-701d6679a21b.mock.pstmn.io/api.qunar.com/api/ota/otaQueryOrder?fromDate=20251021004017&toDate=20251021005017&version=3.7&hmac=c58a5f69478e506678598b5a33cf2391
2025-10-21 00:50:17.151 [scheduled-4] DEBUG o.x.h.mapper.HotelMapper.selectList - ==>  Preparing: SELECT id,hotel_code,hotel_name,hotel_name_en,address,city_code,city_name,district_code,district_name,country_code,hotel_phone,hotel_email,description,policy,guide,check_in_time,check_out_time,hotel_level,star_type,business_type,hotel_type,status,valid,is_request_supplier_data,is_push_to_distributors,open_date,close_date,decoration_date,allow_minors,pets,restaurant,support_foreign_guest,require_eng_name,certificate_type,settlement_currency,brand_code,missing_count,created_at,updated_at,is_changed,change_type FROM hotels WHERE (is_request_supplier_data = ? AND valid = ? AND hotel_code IS NOT NULL) ORDER BY created_at ASC LIMIT 10
2025-10-21 00:50:17.155 [scheduled-4] DEBUG o.x.h.mapper.HotelMapper.selectList - ==> Parameters: 1(Integer), 1(Integer)
2025-10-21 00:50:17.158 [scheduled-4] DEBUG o.x.h.mapper.HotelMapper.selectList - <==      Total: 2
2025-10-21 00:50:17.159 [scheduled-4] INFO  o.x.h.service.impl.ScheduledApiServiceImpl - 开始同步 2 个酒店的房型数据
2025-10-21 00:50:17.159 [scheduled-4] DEBUG o.x.h.service.impl.JinjiangApiServiceImpl - 开始调用供应商API获取酒店房型信息 - 酒店ID: HOTEL001
2025-10-21 00:50:17.163 [scheduled-4] INFO  org.xfy.hotelpricecomparison.util.LogUtil - 调用API: https://dfd9fbc3-4bf3-4efc-90c8-60cc60d04ab6.mock.pstmn.io/hotel/getHotelRoomType, 请求参数: {"hotelId":"HOTEL001","roomTypeId":null,"checkInDate":null,"checkOutDate":null}
2025-10-21 00:50:17.164 [scheduled-4] DEBUG o.x.h.service.impl.JinjiangApiServiceImpl - 发送API请求到: https://dfd9fbc3-4bf3-4efc-90c8-60cc60d04ab6.mock.pstmn.io/hotel/getHotelRoomType
2025-10-21 00:50:18.357 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderServiceImpl - 查询去哪网订单列表异常
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:431)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrderList(QunarOrderServiceImpl.java:53)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrdersByDateRange(QunarOrderServiceImpl.java:78)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl.syncOrdersFromQunar(QunarOrderSyncServiceImpl.java:66)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:716)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl$$SpringCGLIB$$0.syncOrdersFromQunar(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 00:50:18.362 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderSyncServiceImpl - 去哪网订单查询失败: errCode=ERROR, errMsg=查询异常: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
2025-10-21 00:50:18.492 [scheduled-4] ERROR o.x.h.service.impl.JinjiangApiServiceImpl - HTTP客户端错误 - URL: https://dfd9fbc3-4bf3-4efc-90c8-60cc60d04ab6.mock.pstmn.io/hotel/getHotelRoomType, 状态码: 404 NOT_FOUND, 错误信息: {"error":{"name":"mockRequestNotFoundError","message":"Double check your method and the request path and try again. Learn more here: https://learning.postman.com/docs/design-apis/mock-apis/matching-algorithm/","header":"No matching requests"}}
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockRequestNotFoundError","message":"Double check your method and the request path and try again. Learn more here: https://learning.postman.com/docs/design-apis/mock-apis/matching-algorithm/","header":"No matching requests"}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.postForEntity(RestTemplate.java:538)
	at org.xfy.hotelpricecomparison.service.impl.JinjiangApiServiceImpl.callSupplierApi(JinjiangApiServiceImpl.java:195)
	at org.xfy.hotelpricecomparison.service.impl.JinjiangApiServiceImpl.getHotelRoomType(JinjiangApiServiceImpl.java:108)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.retry.annotation.AnnotationAwareRetryOperationsInterceptor.invoke(AnnotationAwareRetryOperationsInterceptor.java:164)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at org.xfy.hotelpricecomparison.service.impl.JinjiangApiServiceImpl$$SpringCGLIB$$0.getHotelRoomType(<generated>)
	at org.xfy.hotelpricecomparison.service.impl.ScheduledApiServiceImpl.lambda$syncHotelRoomTypes$2(ScheduledApiServiceImpl.java:461)
	at org.xfy.hotelpricecomparison.util.RetryUtil.executeWithRetry(RetryUtil.java:54)
	at org.xfy.hotelpricecomparison.service.impl.ScheduledApiServiceImpl.syncHotelRoomTypes(ScheduledApiServiceImpl.java:455)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 00:50:18.492 [scheduled-4] WARN  o.x.h.service.impl.ScheduledApiServiceImpl - 获取房型数据失败，酒店ID: HOTEL001
2025-10-21 00:50:18.717 [scheduled-4] DEBUG o.x.h.service.impl.JinjiangApiServiceImpl - 开始调用供应商API获取酒店房型信息 - 酒店ID: HOTEL002
2025-10-21 00:50:18.718 [scheduled-4] INFO  org.xfy.hotelpricecomparison.util.LogUtil - 调用API: https://dfd9fbc3-4bf3-4efc-90c8-60cc60d04ab6.mock.pstmn.io/hotel/getHotelRoomType, 请求参数: {"hotelId":"HOTEL002","roomTypeId":null,"checkInDate":null,"checkOutDate":null}
2025-10-21 00:50:18.719 [scheduled-4] DEBUG o.x.h.service.impl.JinjiangApiServiceImpl - 发送API请求到: https://dfd9fbc3-4bf3-4efc-90c8-60cc60d04ab6.mock.pstmn.io/hotel/getHotelRoomType
2025-10-21 00:50:19.254 [scheduled-4] ERROR o.x.h.service.impl.JinjiangApiServiceImpl - HTTP客户端错误 - URL: https://dfd9fbc3-4bf3-4efc-90c8-60cc60d04ab6.mock.pstmn.io/hotel/getHotelRoomType, 状态码: 404 NOT_FOUND, 错误信息: {"error":{"name":"mockRequestNotFoundError","message":"Double check your method and the request path and try again. Learn more here: https://learning.postman.com/docs/design-apis/mock-apis/matching-algorithm/","header":"No matching requests"}}
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockRequestNotFoundError","message":"Double check your method and the request path and try again. Learn more here: https://learning.postman.com/docs/design-apis/mock-apis/matching-algorithm/","header":"No matching requests"}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.postForEntity(RestTemplate.java:538)
	at org.xfy.hotelpricecomparison.service.impl.JinjiangApiServiceImpl.callSupplierApi(JinjiangApiServiceImpl.java:195)
	at org.xfy.hotelpricecomparison.service.impl.JinjiangApiServiceImpl.getHotelRoomType(JinjiangApiServiceImpl.java:108)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.retry.annotation.AnnotationAwareRetryOperationsInterceptor.invoke(AnnotationAwareRetryOperationsInterceptor.java:164)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at org.xfy.hotelpricecomparison.service.impl.JinjiangApiServiceImpl$$SpringCGLIB$$0.getHotelRoomType(<generated>)
	at org.xfy.hotelpricecomparison.service.impl.ScheduledApiServiceImpl.lambda$syncHotelRoomTypes$2(ScheduledApiServiceImpl.java:461)
	at org.xfy.hotelpricecomparison.util.RetryUtil.executeWithRetry(RetryUtil.java:54)
	at org.xfy.hotelpricecomparison.service.impl.ScheduledApiServiceImpl.syncHotelRoomTypes(ScheduledApiServiceImpl.java:455)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 00:50:19.256 [scheduled-4] WARN  o.x.h.service.impl.ScheduledApiServiceImpl - 获取房型数据失败，酒店ID: HOTEL002
2025-10-21 00:50:19.462 [scheduled-4] INFO  o.x.h.service.impl.ScheduledApiServiceImpl - 房型数据同步完成，成功: 0, 失败: 2
2025-10-21 00:51:43.318 [restartedMain] INFO  o.x.h.HotelPriceComparisonApplication - Starting HotelPriceComparisonApplication using Java 21.0.8 with PID 9332 (C:\Hotel\HotelBack\build\classes\java\main started by wangz in C:\Hotel\HotelBack)
2025-10-21 00:51:43.320 [restartedMain] DEBUG o.x.h.HotelPriceComparisonApplication - Running with Spring Boot v3.2.5, Spring v6.1.6
2025-10-21 00:51:43.321 [restartedMain] INFO  o.x.h.HotelPriceComparisonApplication - No active profile set, falling back to 1 default profile: "default"
2025-10-21 00:51:43.402 [restartedMain] INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-10-21 00:51:43.402 [restartedMain] INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-10-21 00:51:45.959 [restartedMain] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-21 00:51:45.961 [restartedMain] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-21 00:51:46.028 [restartedMain] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 57 ms. Found 0 JPA repository interfaces.
2025-10-21 00:51:46.045 [restartedMain] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-21 00:51:46.046 [restartedMain] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-21 00:51:46.069 [restartedMain] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 12 ms. Found 0 Redis repository interfaces.
2025-10-21 00:51:48.434 [restartedMain] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-10-21 00:51:48.448 [restartedMain] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-10-21 00:51:48.449 [restartedMain] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.20]
2025-10-21 00:51:48.532 [restartedMain] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-10-21 00:51:48.533 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 5129 ms
2025-10-21 00:51:48.858 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-10-21 00:51:49.121 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@760e8f82
2025-10-21 00:51:49.125 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-10-21 00:51:49.143 [restartedMain] INFO  o.s.b.autoconfigure.h2.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:mysql://localhost:3306/hotel_price_comparison?useUnicode=true&characterEncoding=utf8&useSSL=false&serverTimezone=Asia/Shanghai&allowPublicKeyRetrieval=true'
2025-10-21 00:51:49.591 [restartedMain] INFO  org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-21 00:51:49.688 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.4.Final
2025-10-21 00:51:49.742 [restartedMain] INFO  o.hibernate.cache.internal.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-10-21 00:51:50.106 [restartedMain] INFO  o.s.o.j.persistenceunit.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-21 00:51:51.784 [restartedMain] INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-10-21 00:51:51.784 [restartedMain] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-21 00:51:52.692 [restartedMain] WARN  c.b.mybatisplus.core.injector.methods.Insert - [org.xfy.hotelpricecomparison.mapper.SysUserMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2025-10-21 00:51:52.711 [restartedMain] WARN  c.b.mybatisplus.core.injector.methods.SelectList - [org.xfy.hotelpricecomparison.mapper.SysUserMapper.selectList] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.SelectList]
2025-10-21 00:51:52.711 [restartedMain] WARN  c.b.mybatisplus.core.injector.methods.DeleteById - [org.xfy.hotelpricecomparison.mapper.SysUserMapper.deleteById] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.DeleteById]
2025-10-21 00:51:52.711 [restartedMain] WARN  c.b.mybatisplus.core.injector.methods.UpdateById - [org.xfy.hotelpricecomparison.mapper.SysUserMapper.updateById] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.UpdateById]
2025-10-21 00:51:52.711 [restartedMain] WARN  c.b.mybatisplus.core.injector.methods.SelectById - [org.xfy.hotelpricecomparison.mapper.SysUserMapper.selectById] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.SelectById]
2025-10-21 00:51:54.059 [restartedMain] INFO  o.x.h.service.impl.JinjiangApiServiceImpl - RestTemplate超时配置已设置 - 连接超时: 5000ms, 读取超时: 10000ms
2025-10-21 00:51:55.805 [restartedMain] INFO  o.xfy.hotelpricecomparison.config.SchedulingConfig - 定时任务线程池配置完成，线程池大小: 0
2025-10-21 00:51:55.982 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-10-21 00:51:57.694 [restartedMain] INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver - Exposing 2 endpoint(s) beneath base path '/actuator'
2025-10-21 00:51:58.054 [restartedMain] INFO  o.s.security.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4ff59829, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7ba4d329, org.springframework.security.web.context.SecurityContextHolderFilter@21c50b06, org.springframework.security.web.header.HeaderWriterFilter@5c1c50ba, org.springframework.web.filter.CorsFilter@b7de3e8, org.springframework.security.web.authentication.logout.LogoutFilter@5bcd0a76, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@5def9c81, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@39613dcc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3f998e8d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@589589b4, org.springframework.security.web.session.SessionManagementFilter@42baf796, org.springframework.security.web.access.ExceptionTranslationFilter@37486607, org.springframework.security.web.access.intercept.AuthorizationFilter@427a6c2a]
2025-10-21 00:52:00.527 [restartedMain] INFO  o.s.b.d.autoconfigure.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-10-21 00:52:00.788 [restartedMain] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2025-10-21 00:52:00.791 [restartedMain] INFO  o.s.m.simp.broker.SimpleBrokerMessageHandler - Starting...
2025-10-21 00:52:00.791 [restartedMain] INFO  o.s.m.simp.broker.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@6ad43edc]]
2025-10-21 00:52:00.792 [restartedMain] INFO  o.s.m.simp.broker.SimpleBrokerMessageHandler - Started.
2025-10-21 00:52:00.819 [restartedMain] INFO  o.x.h.HotelPriceComparisonApplication - Started HotelPriceComparisonApplication in 18.147 seconds (process running for 18.896)
2025-10-21 00:52:00.826 [scheduled-1] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 开始同步去哪网订单...
2025-10-21 00:52:00.826 [scheduled-3] INFO  o.x.h.schedule.HotelChangeNotificationScheduler - === 开始执行酒店变更通知定时任务 ===
2025-10-21 00:52:00.827 [scheduled-2] INFO  o.x.h.schedule.AutoStatusSyncScheduler - 开始执行定时自动状态同步任务
2025-10-21 00:52:00.827 [scheduled-1] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 查询时间范围: fromDate=20251021004200, toDate=20251021005200
2025-10-21 00:52:00.828 [scheduled-1] INFO  o.x.h.service.impl.QunarOrderServiceImpl - 开始查询去哪网订单列表: fromDate=20251021004200, toDate=20251021005200, version=3.7
2025-10-21 00:52:00.828 [scheduled-1] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 生成HMAC签名: data=your_sign_key20251021004200202510210052003.7, hmac=fce335089cecd95fa5a8149c0654390e
2025-10-21 00:52:00.853 [scheduled-1] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 构建请求URL: https://2402add9-4b1a-450b-9bed-701d6679a21b.mock.pstmn.io/api.qunar.com/api/ota/otaQueryOrder?fromDate=20251021004200&toDate=20251021005200&version=3.7&hmac=fce335089cecd95fa5a8149c0654390e
2025-10-21 00:52:00.938 [scheduled-2] INFO  o.x.h.service.impl.AutoStatusSyncServiceImpl - 开始同步所有酒店状态
2025-10-21 00:52:00.938 [scheduled-3] INFO  o.x.h.service.impl.HotelChangeServiceImpl - 开始通知去哪网酒店变更...
2025-10-21 00:52:00.939 [scheduled-3] INFO  o.x.h.service.impl.HotelChangeServiceImpl - 获取有变化的酒店列表
2025-10-21 00:52:00.998 [scheduled-3] DEBUG o.x.h.mapper.HotelChangeMapper.getChangedHotels - ==>  Preparing: SELECT id, hotel_code, hotel_name, city_name, address, hotel_phone, description, is_changed, change_type, updated_at FROM hotels WHERE is_changed = 1 AND is_push_to_distributors = 1 ORDER BY updated_at DESC
2025-10-21 00:52:01.056 [scheduled-3] DEBUG o.x.h.mapper.HotelChangeMapper.getChangedHotels - ==> Parameters: 
2025-10-21 00:52:01.067 [scheduled-2] DEBUG o.x.h.mapper.HotelMapper.selectList - ==>  Preparing: SELECT id,hotel_code,hotel_name,hotel_name_en,address,city_code,city_name,district_code,district_name,country_code,hotel_phone,hotel_email,description,policy,guide,check_in_time,check_out_time,hotel_level,star_type,business_type,hotel_type,status,valid,is_request_supplier_data,is_push_to_distributors,open_date,close_date,decoration_date,allow_minors,pets,restaurant,support_foreign_guest,require_eng_name,certificate_type,settlement_currency,brand_code,missing_count,created_at,updated_at,is_changed,change_type FROM hotels WHERE (valid = ?)
2025-10-21 00:52:01.072 [scheduled-2] DEBUG o.x.h.mapper.HotelMapper.selectList - ==> Parameters: 1(Integer)
2025-10-21 00:52:01.092 [scheduled-3] DEBUG o.x.h.mapper.HotelChangeMapper.getChangedHotels - <==      Total: 0
2025-10-21 00:52:01.099 [scheduled-3] INFO  o.x.h.service.impl.HotelChangeServiceImpl - 找到 0 个有变化的酒店
2025-10-21 00:52:01.100 [scheduled-3] INFO  o.x.h.service.impl.HotelChangeServiceImpl - 没有发现酒店变更，跳过通知
2025-10-21 00:52:01.106 [scheduled-3] INFO  o.x.h.schedule.HotelChangeNotificationScheduler - === 酒店变更通知任务执行成功，耗时: 279ms ===
2025-10-21 00:52:01.115 [scheduled-2] DEBUG o.x.h.mapper.HotelMapper.selectList - <==      Total: 3
2025-10-21 00:52:01.115 [scheduled-2] INFO  o.x.h.service.impl.AutoStatusSyncServiceImpl - 开始同步酒店 1 的渠道状态
2025-10-21 00:52:01.116 [scheduled-2] DEBUG o.x.h.mapper.HotelMapper.selectById - ==>  Preparing: SELECT id,hotel_code,hotel_name,hotel_name_en,address,city_code,city_name,district_code,district_name,country_code,hotel_phone,hotel_email,description,policy,guide,check_in_time,check_out_time,hotel_level,star_type,business_type,hotel_type,status,valid,is_request_supplier_data,is_push_to_distributors,open_date,close_date,decoration_date,allow_minors,pets,restaurant,support_foreign_guest,require_eng_name,certificate_type,settlement_currency,brand_code,missing_count,created_at,updated_at,is_changed,change_type FROM hotels WHERE id=?
2025-10-21 00:52:01.121 [scheduled-2] DEBUG o.x.h.mapper.HotelMapper.selectById - ==> Parameters: 1(Long)
2025-10-21 00:52:01.129 [scheduled-2] DEBUG o.x.h.mapper.HotelMapper.selectById - <==      Total: 1
2025-10-21 00:52:01.132 [scheduled-2] DEBUG o.x.h.mapper.RoomTypeMapper.selectList - ==>  Preparing: SELECT id,hotel_id,room_type_name,room_type_code,room_type_name_en,max_occupancy,bed_type,bed_type_name,room_size,supplier_specific_data,distributor_specific_data,description,status,valid,created_at,updated_at FROM room_types WHERE (hotel_id = ? AND valid = ?)
2025-10-21 00:52:01.133 [scheduled-2] DEBUG o.x.h.mapper.RoomTypeMapper.selectList - ==> Parameters: 1(Long), 1(Integer)
2025-10-21 00:52:01.135 [scheduled-2] DEBUG o.x.h.mapper.RoomTypeMapper.selectList - <==      Total: 2
2025-10-21 00:52:01.135 [scheduled-2] DEBUG o.x.h.m.D.selectList - ==>  Preparing: SELECT id,room_type_id,distributor_id,distributor_room_type_id,distributor_room_type_name,mapping_status,created_at,updated_at FROM distributor_room_type_mappings WHERE (room_type_id IN (?,?))
2025-10-21 00:52:01.135 [scheduled-2] DEBUG o.x.h.m.D.selectList - ==> Parameters: 1(Long), 2(Long)
2025-10-21 00:52:01.150 [scheduled-2] DEBUG o.x.h.m.D.selectList - <==      Total: 6
2025-10-21 00:52:01.157 [scheduled-2] DEBUG o.x.h.mapper.RatePlanMapper.selectList - ==>  Preparing: SELECT id,room_type_id,product_code,product_name,price_type,currency,guests,has_effective_time,incremental_preferent,preferent_info,support_pay,status,valid,supplier_specific_data,distributor_specific_data,created_at,updated_at FROM rate_plans WHERE (room_type_id = ? AND valid = ?)
2025-10-21 00:52:01.158 [scheduled-2] DEBUG o.x.h.mapper.RatePlanMapper.selectList - ==> Parameters: 1(Long), 1(Integer)
2025-10-21 00:52:01.165 [scheduled-2] DEBUG o.x.h.mapper.RatePlanMapper.selectList - <==      Total: 2
2025-10-21 00:52:01.169 [scheduled-2] DEBUG o.x.h.mapper.DailyRateMapper.selectList - ==>  Preparing: SELECT id,rate_plan_id,business_date,advance_rate,spot_rate,rack_rate,local_rate,orig_advance_rate,orig_spot_rate,quota,advance_breakfast_count,spot_breakfast_count,advance_fee_rate,spot_fee_rate,start_time,end_time,free_cancel_time,availability,distributor_id,created_at,updated_at FROM daily_rates WHERE (rate_plan_id = ? AND distributor_id = ?)
2025-10-21 00:52:01.171 [scheduled-2] DEBUG o.x.h.mapper.DailyRateMapper.selectList - ==> Parameters: 1(Long), 1(Long)
2025-10-21 00:52:01.180 [scheduled-2] DEBUG o.x.h.mapper.DailyRateMapper.selectList - <==      Total: 5
2025-10-21 00:52:01.185 [scheduled-2] DEBUG o.x.h.mapper.DailyRateMapper.selectList - ==>  Preparing: SELECT id,rate_plan_id,business_date,advance_rate,spot_rate,rack_rate,local_rate,orig_advance_rate,orig_spot_rate,quota,advance_breakfast_count,spot_breakfast_count,advance_fee_rate,spot_fee_rate,start_time,end_time,free_cancel_time,availability,distributor_id,created_at,updated_at FROM daily_rates WHERE (rate_plan_id = ? AND distributor_id = ?)
2025-10-21 00:52:01.186 [scheduled-2] DEBUG o.x.h.mapper.DailyRateMapper.selectList - ==> Parameters: 1(Long), 2(Long)
2025-10-21 00:52:01.193 [scheduled-2] DEBUG o.x.h.mapper.DailyRateMapper.selectList - <==      Total: 5
2025-10-21 00:52:01.198 [scheduled-2] DEBUG o.x.h.mapper.DailyRateMapper.selectList - ==>  Preparing: SELECT id,rate_plan_id,business_date,advance_rate,spot_rate,rack_rate,local_rate,orig_advance_rate,orig_spot_rate,quota,advance_breakfast_count,spot_breakfast_count,advance_fee_rate,spot_fee_rate,start_time,end_time,free_cancel_time,availability,distributor_id,created_at,updated_at FROM daily_rates WHERE (rate_plan_id = ? AND distributor_id = ?)
2025-10-21 00:52:01.200 [scheduled-2] DEBUG o.x.h.mapper.DailyRateMapper.selectList - ==> Parameters: 1(Long), 3(Long)
2025-10-21 00:52:01.208 [scheduled-2] DEBUG o.x.h.mapper.DailyRateMapper.selectList - <==      Total: 5
2025-10-21 00:52:01.209 [scheduled-2] INFO  o.x.h.service.impl.AutoStatusSyncServiceImpl - 检查酒店状态: 1
2025-10-21 00:52:01.215 [scheduled-2] INFO  o.x.h.service.impl.AutoStatusSyncServiceImpl - 酒店 1 渠道状态同步完成: 同步完成: 检查了 3 个渠道，更新了 0 个渠道，酒店状态无需更新
2025-10-21 00:52:01.215 [scheduled-2] INFO  o.x.h.service.impl.AutoStatusSyncServiceImpl - 开始同步酒店 2 的渠道状态
2025-10-21 00:52:01.217 [scheduled-2] DEBUG o.x.h.mapper.HotelMapper.selectById - ==>  Preparing: SELECT id,hotel_code,hotel_name,hotel_name_en,address,city_code,city_name,district_code,district_name,country_code,hotel_phone,hotel_email,description,policy,guide,check_in_time,check_out_time,hotel_level,star_type,business_type,hotel_type,status,valid,is_request_supplier_data,is_push_to_distributors,open_date,close_date,decoration_date,allow_minors,pets,restaurant,support_foreign_guest,require_eng_name,certificate_type,settlement_currency,brand_code,missing_count,created_at,updated_at,is_changed,change_type FROM hotels WHERE id=?
2025-10-21 00:52:01.218 [scheduled-2] DEBUG o.x.h.mapper.HotelMapper.selectById - ==> Parameters: 2(Long)
2025-10-21 00:52:01.224 [scheduled-2] DEBUG o.x.h.mapper.HotelMapper.selectById - <==      Total: 1
2025-10-21 00:52:01.227 [scheduled-2] DEBUG o.x.h.mapper.RoomTypeMapper.selectList - ==>  Preparing: SELECT id,hotel_id,room_type_name,room_type_code,room_type_name_en,max_occupancy,bed_type,bed_type_name,room_size,supplier_specific_data,distributor_specific_data,description,status,valid,created_at,updated_at FROM room_types WHERE (hotel_id = ? AND valid = ?)
2025-10-21 00:52:01.228 [scheduled-2] DEBUG o.x.h.mapper.RoomTypeMapper.selectList - ==> Parameters: 2(Long), 1(Integer)
2025-10-21 00:52:01.234 [scheduled-2] DEBUG o.x.h.mapper.RoomTypeMapper.selectList - <==      Total: 2
2025-10-21 00:52:01.236 [scheduled-2] DEBUG o.x.h.m.D.selectList - ==>  Preparing: SELECT id,room_type_id,distributor_id,distributor_room_type_id,distributor_room_type_name,mapping_status,created_at,updated_at FROM distributor_room_type_mappings WHERE (room_type_id IN (?,?))
2025-10-21 00:52:01.237 [scheduled-2] DEBUG o.x.h.m.D.selectList - ==> Parameters: 3(Long), 4(Long)
2025-10-21 00:52:01.241 [scheduled-2] DEBUG o.x.h.m.D.selectList - <==      Total: 6
2025-10-21 00:52:01.241 [scheduled-2] DEBUG o.x.h.mapper.RatePlanMapper.selectList - ==>  Preparing: SELECT id,room_type_id,product_code,product_name,price_type,currency,guests,has_effective_time,incremental_preferent,preferent_info,support_pay,status,valid,supplier_specific_data,distributor_specific_data,created_at,updated_at FROM rate_plans WHERE (room_type_id = ? AND valid = ?)
2025-10-21 00:52:01.245 [scheduled-2] DEBUG o.x.h.mapper.RatePlanMapper.selectList - ==> Parameters: 3(Long), 1(Integer)
2025-10-21 00:52:01.248 [scheduled-2] DEBUG o.x.h.mapper.RatePlanMapper.selectList - <==      Total: 2
2025-10-21 00:52:01.250 [scheduled-2] DEBUG o.x.h.mapper.DailyRateMapper.selectList - ==>  Preparing: SELECT id,rate_plan_id,business_date,advance_rate,spot_rate,rack_rate,local_rate,orig_advance_rate,orig_spot_rate,quota,advance_breakfast_count,spot_breakfast_count,advance_fee_rate,spot_fee_rate,start_time,end_time,free_cancel_time,availability,distributor_id,created_at,updated_at FROM daily_rates WHERE (rate_plan_id = ? AND distributor_id = ?)
2025-10-21 00:52:01.252 [scheduled-2] DEBUG o.x.h.mapper.DailyRateMapper.selectList - ==> Parameters: 5(Long), 1(Long)
2025-10-21 00:52:01.261 [scheduled-2] DEBUG o.x.h.mapper.DailyRateMapper.selectList - <==      Total: 5
2025-10-21 00:52:01.265 [scheduled-2] DEBUG o.x.h.mapper.DailyRateMapper.selectList - ==>  Preparing: SELECT id,rate_plan_id,business_date,advance_rate,spot_rate,rack_rate,local_rate,orig_advance_rate,orig_spot_rate,quota,advance_breakfast_count,spot_breakfast_count,advance_fee_rate,spot_fee_rate,start_time,end_time,free_cancel_time,availability,distributor_id,created_at,updated_at FROM daily_rates WHERE (rate_plan_id = ? AND distributor_id = ?)
2025-10-21 00:52:01.265 [scheduled-2] DEBUG o.x.h.mapper.DailyRateMapper.selectList - ==> Parameters: 5(Long), 2(Long)
2025-10-21 00:52:01.270 [scheduled-2] DEBUG o.x.h.mapper.DailyRateMapper.selectList - <==      Total: 5
2025-10-21 00:52:01.274 [scheduled-2] DEBUG o.x.h.mapper.DailyRateMapper.selectList - ==>  Preparing: SELECT id,rate_plan_id,business_date,advance_rate,spot_rate,rack_rate,local_rate,orig_advance_rate,orig_spot_rate,quota,advance_breakfast_count,spot_breakfast_count,advance_fee_rate,spot_fee_rate,start_time,end_time,free_cancel_time,availability,distributor_id,created_at,updated_at FROM daily_rates WHERE (rate_plan_id = ? AND distributor_id = ?)
2025-10-21 00:52:01.275 [scheduled-2] DEBUG o.x.h.mapper.DailyRateMapper.selectList - ==> Parameters: 5(Long), 3(Long)
2025-10-21 00:52:01.281 [scheduled-2] DEBUG o.x.h.mapper.DailyRateMapper.selectList - <==      Total: 5
2025-10-21 00:52:01.282 [scheduled-2] INFO  o.x.h.service.impl.AutoStatusSyncServiceImpl - 检查酒店状态: 2
2025-10-21 00:52:01.282 [scheduled-2] INFO  o.x.h.service.impl.AutoStatusSyncServiceImpl - 酒店 2 渠道状态同步完成: 同步完成: 检查了 3 个渠道，更新了 0 个渠道，酒店状态无需更新
2025-10-21 00:52:01.282 [scheduled-2] INFO  o.x.h.service.impl.AutoStatusSyncServiceImpl - 开始同步酒店 3 的渠道状态
2025-10-21 00:52:01.282 [scheduled-2] DEBUG o.x.h.mapper.HotelMapper.selectById - ==>  Preparing: SELECT id,hotel_code,hotel_name,hotel_name_en,address,city_code,city_name,district_code,district_name,country_code,hotel_phone,hotel_email,description,policy,guide,check_in_time,check_out_time,hotel_level,star_type,business_type,hotel_type,status,valid,is_request_supplier_data,is_push_to_distributors,open_date,close_date,decoration_date,allow_minors,pets,restaurant,support_foreign_guest,require_eng_name,certificate_type,settlement_currency,brand_code,missing_count,created_at,updated_at,is_changed,change_type FROM hotels WHERE id=?
2025-10-21 00:52:01.282 [scheduled-2] DEBUG o.x.h.mapper.HotelMapper.selectById - ==> Parameters: 3(Long)
2025-10-21 00:52:01.288 [scheduled-2] DEBUG o.x.h.mapper.HotelMapper.selectById - <==      Total: 1
2025-10-21 00:52:01.288 [scheduled-2] DEBUG o.x.h.mapper.RoomTypeMapper.selectList - ==>  Preparing: SELECT id,hotel_id,room_type_name,room_type_code,room_type_name_en,max_occupancy,bed_type,bed_type_name,room_size,supplier_specific_data,distributor_specific_data,description,status,valid,created_at,updated_at FROM room_types WHERE (hotel_id = ? AND valid = ?)
2025-10-21 00:52:01.288 [scheduled-2] DEBUG o.x.h.mapper.RoomTypeMapper.selectList - ==> Parameters: 3(Long), 1(Integer)
2025-10-21 00:52:01.295 [scheduled-2] DEBUG o.x.h.mapper.RoomTypeMapper.selectList - <==      Total: 2
2025-10-21 00:52:01.298 [scheduled-2] DEBUG o.x.h.m.D.selectList - ==>  Preparing: SELECT id,room_type_id,distributor_id,distributor_room_type_id,distributor_room_type_name,mapping_status,created_at,updated_at FROM distributor_room_type_mappings WHERE (room_type_id IN (?,?))
2025-10-21 00:52:01.299 [scheduled-2] DEBUG o.x.h.m.D.selectList - ==> Parameters: 5(Long), 6(Long)
2025-10-21 00:52:01.301 [scheduled-2] DEBUG o.x.h.m.D.selectList - <==      Total: 6
2025-10-21 00:52:01.301 [scheduled-2] DEBUG o.x.h.mapper.RatePlanMapper.selectList - ==>  Preparing: SELECT id,room_type_id,product_code,product_name,price_type,currency,guests,has_effective_time,incremental_preferent,preferent_info,support_pay,status,valid,supplier_specific_data,distributor_specific_data,created_at,updated_at FROM rate_plans WHERE (room_type_id = ? AND valid = ?)
2025-10-21 00:52:01.301 [scheduled-2] DEBUG o.x.h.mapper.RatePlanMapper.selectList - ==> Parameters: 5(Long), 1(Integer)
2025-10-21 00:52:01.311 [scheduled-2] DEBUG o.x.h.mapper.RatePlanMapper.selectList - <==      Total: 2
2025-10-21 00:52:01.312 [scheduled-2] DEBUG o.x.h.mapper.DailyRateMapper.selectList - ==>  Preparing: SELECT id,rate_plan_id,business_date,advance_rate,spot_rate,rack_rate,local_rate,orig_advance_rate,orig_spot_rate,quota,advance_breakfast_count,spot_breakfast_count,advance_fee_rate,spot_fee_rate,start_time,end_time,free_cancel_time,availability,distributor_id,created_at,updated_at FROM daily_rates WHERE (rate_plan_id = ? AND distributor_id = ?)
2025-10-21 00:52:01.314 [scheduled-2] DEBUG o.x.h.mapper.DailyRateMapper.selectList - ==> Parameters: 9(Long), 1(Long)
2025-10-21 00:52:01.317 [scheduled-2] DEBUG o.x.h.mapper.DailyRateMapper.selectList - <==      Total: 5
2025-10-21 00:52:01.317 [scheduled-2] DEBUG o.x.h.mapper.DailyRateMapper.selectList - ==>  Preparing: SELECT id,rate_plan_id,business_date,advance_rate,spot_rate,rack_rate,local_rate,orig_advance_rate,orig_spot_rate,quota,advance_breakfast_count,spot_breakfast_count,advance_fee_rate,spot_fee_rate,start_time,end_time,free_cancel_time,availability,distributor_id,created_at,updated_at FROM daily_rates WHERE (rate_plan_id = ? AND distributor_id = ?)
2025-10-21 00:52:01.317 [scheduled-2] DEBUG o.x.h.mapper.DailyRateMapper.selectList - ==> Parameters: 10(Long), 1(Long)
2025-10-21 00:52:01.326 [scheduled-2] DEBUG o.x.h.mapper.DailyRateMapper.selectList - <==      Total: 5
2025-10-21 00:52:01.326 [scheduled-2] DEBUG o.x.h.mapper.RatePlanMapper.selectList - ==>  Preparing: SELECT id,room_type_id,product_code,product_name,price_type,currency,guests,has_effective_time,incremental_preferent,preferent_info,support_pay,status,valid,supplier_specific_data,distributor_specific_data,created_at,updated_at FROM rate_plans WHERE (room_type_id = ? AND valid = ?)
2025-10-21 00:52:01.331 [scheduled-2] DEBUG o.x.h.mapper.RatePlanMapper.selectList - ==> Parameters: 6(Long), 1(Integer)
2025-10-21 00:52:01.331 [scheduled-2] DEBUG o.x.h.mapper.RatePlanMapper.selectList - <==      Total: 2
2025-10-21 00:52:01.336 [scheduled-2] DEBUG o.x.h.mapper.DailyRateMapper.selectList - ==>  Preparing: SELECT id,rate_plan_id,business_date,advance_rate,spot_rate,rack_rate,local_rate,orig_advance_rate,orig_spot_rate,quota,advance_breakfast_count,spot_breakfast_count,advance_fee_rate,spot_fee_rate,start_time,end_time,free_cancel_time,availability,distributor_id,created_at,updated_at FROM daily_rates WHERE (rate_plan_id = ? AND distributor_id = ?)
2025-10-21 00:52:01.336 [scheduled-2] DEBUG o.x.h.mapper.DailyRateMapper.selectList - ==> Parameters: 11(Long), 1(Long)
2025-10-21 00:52:01.336 [scheduled-2] DEBUG o.x.h.mapper.DailyRateMapper.selectList - <==      Total: 5
2025-10-21 00:52:01.336 [scheduled-2] DEBUG o.x.h.mapper.DailyRateMapper.selectList - ==>  Preparing: SELECT id,rate_plan_id,business_date,advance_rate,spot_rate,rack_rate,local_rate,orig_advance_rate,orig_spot_rate,quota,advance_breakfast_count,spot_breakfast_count,advance_fee_rate,spot_fee_rate,start_time,end_time,free_cancel_time,availability,distributor_id,created_at,updated_at FROM daily_rates WHERE (rate_plan_id = ? AND distributor_id = ?)
2025-10-21 00:52:01.336 [scheduled-2] DEBUG o.x.h.mapper.DailyRateMapper.selectList - ==> Parameters: 12(Long), 1(Long)
2025-10-21 00:52:01.350 [scheduled-2] DEBUG o.x.h.mapper.DailyRateMapper.selectList - <==      Total: 5
2025-10-21 00:52:01.351 [scheduled-2] DEBUG o.x.h.mapper.DailyRateMapper.selectList - ==>  Preparing: SELECT id,rate_plan_id,business_date,advance_rate,spot_rate,rack_rate,local_rate,orig_advance_rate,orig_spot_rate,quota,advance_breakfast_count,spot_breakfast_count,advance_fee_rate,spot_fee_rate,start_time,end_time,free_cancel_time,availability,distributor_id,created_at,updated_at FROM daily_rates WHERE (rate_plan_id = ? AND distributor_id = ?)
2025-10-21 00:52:01.351 [scheduled-2] DEBUG o.x.h.mapper.DailyRateMapper.selectList - ==> Parameters: 9(Long), 2(Long)
2025-10-21 00:52:01.351 [scheduled-2] DEBUG o.x.h.mapper.DailyRateMapper.selectList - <==      Total: 5
2025-10-21 00:52:01.359 [scheduled-2] DEBUG o.x.h.mapper.DailyRateMapper.selectList - ==>  Preparing: SELECT id,rate_plan_id,business_date,advance_rate,spot_rate,rack_rate,local_rate,orig_advance_rate,orig_spot_rate,quota,advance_breakfast_count,spot_breakfast_count,advance_fee_rate,spot_fee_rate,start_time,end_time,free_cancel_time,availability,distributor_id,created_at,updated_at FROM daily_rates WHERE (rate_plan_id = ? AND distributor_id = ?)
2025-10-21 00:52:01.360 [scheduled-2] DEBUG o.x.h.mapper.DailyRateMapper.selectList - ==> Parameters: 9(Long), 3(Long)
2025-10-21 00:52:01.363 [scheduled-2] DEBUG o.x.h.mapper.DailyRateMapper.selectList - <==      Total: 5
2025-10-21 00:52:01.364 [scheduled-2] INFO  o.x.h.service.impl.AutoStatusSyncServiceImpl - 检查酒店状态: 3
2025-10-21 00:52:01.367 [scheduled-2] INFO  o.x.h.service.impl.AutoStatusSyncServiceImpl - 酒店 3 渠道状态同步完成: 同步完成: 检查了 3 个渠道，更新了 0 个渠道，酒店状态无需更新
2025-10-21 00:52:01.367 [scheduled-2] INFO  o.x.h.service.impl.AutoStatusSyncServiceImpl - 所有酒店状态同步完成，共处理 3 个酒店
2025-10-21 00:52:01.373 [scheduled-2] INFO  o.x.h.schedule.AutoStatusSyncScheduler - 定时自动状态同步完成 - 耗时: 542ms, 处理酒店: 3, 更新酒店: 0, 总渠道: 9, 更新渠道: 0
2025-10-21 00:52:02.845 [scheduled-1] ERROR o.x.h.service.impl.QunarOrderServiceImpl - 查询去哪网订单列表异常
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:431)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrderList(QunarOrderServiceImpl.java:53)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrdersByDateRange(QunarOrderServiceImpl.java:78)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl.syncOrdersFromQunar(QunarOrderSyncServiceImpl.java:66)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:716)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl$$SpringCGLIB$$0.syncOrdersFromQunar(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 00:52:02.862 [scheduled-1] ERROR o.x.h.service.impl.QunarOrderSyncServiceImpl - 去哪网订单查询失败: errCode=ERROR, errMsg=查询异常: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
2025-10-21 00:52:03.640 [http-nio-8080-exec-1] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-21 00:52:03.640 [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-10-21 00:52:03.644 [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 3 ms
2025-10-21 00:52:03.807 [http-nio-8080-exec-1] INFO  o.x.hotelpricecomparison.controller.AuthController - 收到登录请求: username=wzx
2025-10-21 00:52:03.807 [http-nio-8080-exec-1] INFO  o.x.h.service.impl.SysUserServiceImpl - 开始查询用户: username=wzx
2025-10-21 00:52:03.808 [http-nio-8080-exec-1] INFO  o.x.h.service.impl.SysUserServiceImpl - 查询条件: (username = #{ew.paramNameValuePairs.MPGENVAL1})
2025-10-21 00:52:03.809 [http-nio-8080-exec-1] DEBUG o.x.h.mapper.SysUserMapper.selectList - ==>  Preparing: SELECT id, username, password, email, phone, role FROM sys_user
2025-10-21 00:52:03.809 [http-nio-8080-exec-1] DEBUG o.x.h.mapper.SysUserMapper.selectList - ==> Parameters: 
2025-10-21 00:52:03.812 [http-nio-8080-exec-1] DEBUG o.x.h.mapper.SysUserMapper.selectList - <==      Total: 3
2025-10-21 00:52:03.813 [http-nio-8080-exec-1] INFO  o.x.h.service.impl.SysUserServiceImpl - 查询结果数量: 3
2025-10-21 00:52:03.813 [http-nio-8080-exec-1] INFO  o.x.h.service.impl.SysUserServiceImpl - 查询到的用户: admin
2025-10-21 00:52:03.813 [http-nio-8080-exec-1] INFO  o.x.h.service.impl.SysUserServiceImpl - 查询到的用户: user
2025-10-21 00:52:03.813 [http-nio-8080-exec-1] INFO  o.x.h.service.impl.SysUserServiceImpl - 查询到的用户: wzx
2025-10-21 00:52:03.813 [http-nio-8080-exec-1] INFO  o.x.h.service.impl.SysUserServiceImpl - 找到匹配的用户: wzx
2025-10-21 00:52:03.813 [http-nio-8080-exec-1] INFO  o.x.hotelpricecomparison.controller.AuthController - 找到用户: wzx
2025-10-21 00:52:04.368 [http-nio-8080-exec-1] INFO  o.x.hotelpricecomparison.controller.AuthController - 密码验证成功: wzx
2025-10-21 00:52:04.370 [http-nio-8080-exec-1] INFO  o.x.hotelpricecomparison.controller.AuthController - 用户登录成功: wzx
2025-10-21 00:52:05.820 [scheduled-5] INFO  o.x.h.service.impl.ScheduledApiServiceImpl - 开始定时同步品牌数据...
2025-10-21 00:52:05.821 [scheduled-5] DEBUG o.x.h.service.impl.JinjiangApiServiceImpl - 开始调用供应商API获取品牌列表
2025-10-21 00:52:05.837 [scheduled-5] INFO  org.xfy.hotelpricecomparison.util.LogUtil - 调用API: https://dfd9fbc3-4bf3-4efc-90c8-60cc60d04ab6.mock.pstmn.io/brand/getBrandList, 请求参数: {"brandCode":null,"languageCode":0}
2025-10-21 00:52:05.840 [scheduled-5] DEBUG o.x.h.service.impl.JinjiangApiServiceImpl - 发送API请求到: https://dfd9fbc3-4bf3-4efc-90c8-60cc60d04ab6.mock.pstmn.io/brand/getBrandList
2025-10-21 00:52:07.690 [scheduled-5] INFO  org.xfy.hotelpricecomparison.util.LogUtil - API响应: https://dfd9fbc3-4bf3-4efc-90c8-60cc60d04ab6.mock.pstmn.io/brand/getBrandList, 响应内容: {"errors":null,"message":"success","msgCode":0,"result":{"brand":[{"brandCode":"JJ001","brandName":"锦江之星","brandType":1,"description":"简约舒适的经济型酒店品牌，为商务和休闲旅客提供优质住宿体验"},{"brandCode":"JJ002","brandName":"维也纳酒店","brandType":2,"description":"精品优选酒店品牌，融合欧式风情与现代设计，提供高品质住宿服务"},{"brandCode":"JJ003","brandName":"锦江都城","brandType":3,"description":"豪华高端酒店品牌，提供奢华住宿体验和顶级服务"}]}}
2025-10-21 00:52:07.706 [scheduled-5] DEBUG o.x.h.service.impl.JinjiangApiServiceImpl - API调用成功: https://dfd9fbc3-4bf3-4efc-90c8-60cc60d04ab6.mock.pstmn.io/brand/getBrandList, 响应状态码: 0
2025-10-21 00:52:07.711 [scheduled-5] INFO  org.xfy.hotelpricecomparison.util.LogUtil - API响应: https://dfd9fbc3-4bf3-4efc-90c8-60cc60d04ab6.mock.pstmn.io/brand/getBrandList (解析后), 响应内容: {"errors":null,"message":"success","msgCode":0,"result":{"brand":[{"brandCode":"JJ001","brandName":"锦江之星","brandType":1,"description":"简约舒适的经济型酒店品牌，为商务和休闲旅客提供优质住宿体验"},{"brandCode":"JJ002","brandName":"维也纳酒店","brandType":2,"description":"精品优选酒店品牌，融合欧式风情与现代设计，提供高品质住宿服务"},{"brandCode":"JJ003","brandName":"锦江都城","brandType":3,"description":"豪华高端酒店品牌，提供奢华住宿体验和顶级服务"}]}}
2025-10-21 00:52:07.712 [scheduled-5] INFO  o.x.h.service.impl.ScheduledApiServiceImpl - 成功获取品牌数据，品牌数量: 3
2025-10-21 00:52:07.715 [scheduled-5] INFO  org.xfy.hotelpricecomparison.util.ValidationUtil - 品牌数据验证完成，有效数据: 3, 无效数据: 0
2025-10-21 00:52:07.717 [scheduled-5] INFO  o.x.h.service.impl.JinjiangBrandServiceImpl - 批量保存或更新品牌，数量: 3
2025-10-21 00:52:07.719 [scheduled-5] ERROR o.x.h.service.impl.JinjiangBrandServiceImpl - 批量保存或更新品牌失败
org.apache.ibatis.binding.BindingException: Invalid bound statement (not found): org.xfy.hotelpricecomparison.mapper.JinjiangBrandMapper.selectByBrandCodes
	at org.apache.ibatis.binding.MapperMethod$SqlCommand.<init>(MapperMethod.java:229)
	at com.baomidou.mybatisplus.core.override.MybatisMapperMethod.<init>(MybatisMapperMethod.java:50)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.lambda$cachedInvoker$0(MybatisMapperProxy.java:111)
	at java.base/java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1708)
	at com.baomidou.mybatisplus.core.toolkit.CollectionUtils.computeIfAbsent(CollectionUtils.java:157)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.cachedInvoker(MybatisMapperProxy.java:98)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.invoke(MybatisMapperProxy.java:89)
	at jdk.proxy4/jdk.proxy4.$Proxy162.selectByBrandCodes(Unknown Source)
	at org.xfy.hotelpricecomparison.service.impl.JinjiangBrandServiceImpl.saveOrUpdateBrands(JinjiangBrandServiceImpl.java:110)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:392)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at org.xfy.hotelpricecomparison.service.impl.JinjiangBrandServiceImpl$$SpringCGLIB$$0.saveOrUpdateBrands(<generated>)
	at org.xfy.hotelpricecomparison.service.impl.ScheduledApiServiceImpl.syncBrandData(ScheduledApiServiceImpl.java:145)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 00:52:07.729 [scheduled-5] ERROR o.x.h.service.impl.ScheduledApiServiceImpl - 定时同步品牌数据失败
java.lang.RuntimeException: 批量保存或更新品牌失败: Invalid bound statement (not found): org.xfy.hotelpricecomparison.mapper.JinjiangBrandMapper.selectByBrandCodes
	at org.xfy.hotelpricecomparison.service.impl.JinjiangBrandServiceImpl.saveOrUpdateBrands(JinjiangBrandServiceImpl.java:152)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:392)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at org.xfy.hotelpricecomparison.service.impl.JinjiangBrandServiceImpl$$SpringCGLIB$$0.saveOrUpdateBrands(<generated>)
	at org.xfy.hotelpricecomparison.service.impl.ScheduledApiServiceImpl.syncBrandData(ScheduledApiServiceImpl.java:145)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.apache.ibatis.binding.BindingException: Invalid bound statement (not found): org.xfy.hotelpricecomparison.mapper.JinjiangBrandMapper.selectByBrandCodes
	at org.apache.ibatis.binding.MapperMethod$SqlCommand.<init>(MapperMethod.java:229)
	at com.baomidou.mybatisplus.core.override.MybatisMapperMethod.<init>(MybatisMapperMethod.java:50)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.lambda$cachedInvoker$0(MybatisMapperProxy.java:111)
	at java.base/java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1708)
	at com.baomidou.mybatisplus.core.toolkit.CollectionUtils.computeIfAbsent(CollectionUtils.java:157)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.cachedInvoker(MybatisMapperProxy.java:98)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.invoke(MybatisMapperProxy.java:89)
	at jdk.proxy4/jdk.proxy4.$Proxy162.selectByBrandCodes(Unknown Source)
	at org.xfy.hotelpricecomparison.service.impl.JinjiangBrandServiceImpl.saveOrUpdateBrands(JinjiangBrandServiceImpl.java:110)
	... 27 common frames omitted
2025-10-21 00:52:08.826 [scheduled-4] INFO  o.x.h.service.impl.ScheduledApiServiceImpl - 开始定时同步酒店ID列表...
2025-10-21 00:52:08.826 [scheduled-4] INFO  o.x.h.service.impl.ScheduledApiServiceImpl - 正在获取第 1 页酒店ID列表，每页 100 条
2025-10-21 00:52:08.826 [scheduled-4] DEBUG o.x.h.service.impl.JinjiangApiServiceImpl - 开始调用供应商API获取酒店ID列表 - 页码: 1, 每页数量: 100
2025-10-21 00:52:08.829 [scheduled-4] INFO  org.xfy.hotelpricecomparison.util.LogUtil - 调用API: https://dfd9fbc3-4bf3-4efc-90c8-60cc60d04ab6.mock.pstmn.io/hotel/getHotelIds, 请求参数: {"brandCodes":null,"pageNum":1,"pageSize":100}
2025-10-21 00:52:08.830 [scheduled-4] DEBUG o.x.h.service.impl.JinjiangApiServiceImpl - 发送API请求到: https://dfd9fbc3-4bf3-4efc-90c8-60cc60d04ab6.mock.pstmn.io/hotel/getHotelIds
2025-10-21 00:52:09.811 [scheduled-4] ERROR o.x.h.service.impl.JinjiangApiServiceImpl - HTTP客户端错误 - URL: https://dfd9fbc3-4bf3-4efc-90c8-60cc60d04ab6.mock.pstmn.io/hotel/getHotelIds, 状态码: 404 NOT_FOUND, 错误信息: {"error":{"name":"mockRequestNotFoundError","message":"Double check your method and the request path and try again. Learn more here: https://learning.postman.com/docs/design-apis/mock-apis/matching-algorithm/","header":"No matching requests"}}
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockRequestNotFoundError","message":"Double check your method and the request path and try again. Learn more here: https://learning.postman.com/docs/design-apis/mock-apis/matching-algorithm/","header":"No matching requests"}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.postForEntity(RestTemplate.java:538)
	at org.xfy.hotelpricecomparison.service.impl.JinjiangApiServiceImpl.callSupplierApi(JinjiangApiServiceImpl.java:195)
	at org.xfy.hotelpricecomparison.service.impl.JinjiangApiServiceImpl.getHotelIds(JinjiangApiServiceImpl.java:94)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.retry.annotation.AnnotationAwareRetryOperationsInterceptor.invoke(AnnotationAwareRetryOperationsInterceptor.java:164)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at org.xfy.hotelpricecomparison.service.impl.JinjiangApiServiceImpl$$SpringCGLIB$$0.getHotelIds(<generated>)
	at org.xfy.hotelpricecomparison.service.impl.ScheduledApiServiceImpl.syncHotelIds(ScheduledApiServiceImpl.java:188)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 00:52:09.814 [scheduled-4] WARN  o.x.h.service.impl.ScheduledApiServiceImpl - 第 1 页获取酒店ID列表失败，响应为空
2025-10-21 00:52:09.814 [scheduled-4] INFO  o.x.h.service.impl.ScheduledApiServiceImpl - 酒店ID列表同步完成，共获取并保存 0 个酒店ID
2025-10-21 00:52:10.819 [scheduled-3] INFO  o.x.h.service.impl.ScheduledApiServiceImpl - 开始定时同步酒店数据...
2025-10-21 00:52:10.819 [scheduled-3] INFO  o.x.h.service.impl.HotelServiceImpl - 获取未同步的酒店列表，限制数量: 50
2025-10-21 00:52:10.827 [scheduled-3] DEBUG o.x.h.mapper.HotelMapper.selectList - ==>  Preparing: SELECT id,hotel_code,hotel_name,hotel_name_en,address,city_code,city_name,district_code,district_name,country_code,hotel_phone,hotel_email,description,policy,guide,check_in_time,check_out_time,hotel_level,star_type,business_type,hotel_type,status,valid,is_request_supplier_data,is_push_to_distributors,open_date,close_date,decoration_date,allow_minors,pets,restaurant,support_foreign_guest,require_eng_name,certificate_type,settlement_currency,brand_code,missing_count,created_at,updated_at,is_changed,change_type FROM hotels WHERE (is_request_supplier_data = ? AND valid = ? AND hotel_code IS NOT NULL) ORDER BY created_at ASC LIMIT 50
2025-10-21 00:52:10.828 [scheduled-3] DEBUG o.x.h.mapper.HotelMapper.selectList - ==> Parameters: 1(Integer), 1(Integer)
2025-10-21 00:52:10.832 [scheduled-3] DEBUG o.x.h.mapper.HotelMapper.selectList - <==      Total: 2
2025-10-21 00:52:10.833 [scheduled-3] INFO  o.x.h.service.impl.ScheduledApiServiceImpl - 从hotels表获取到 2 个未同步的酒店ID
2025-10-21 00:52:10.833 [scheduled-3] INFO  o.x.h.service.impl.ScheduledApiServiceImpl - 开始同步 2 个酒店的数据
2025-10-21 00:52:10.834 [scheduled-3] INFO  o.x.h.service.impl.ScheduledApiServiceImpl - 处理酒店批次，大小: 2
2025-10-21 00:52:10.840 [ForkJoinPool.commonPool-worker-1] DEBUG o.x.h.service.impl.JinjiangApiServiceImpl - 开始调用供应商API获取酒店信息 - 酒店ID: HOTEL001
2025-10-21 00:52:10.840 [scheduled-3] DEBUG o.x.h.service.impl.JinjiangApiServiceImpl - 开始调用供应商API获取酒店信息 - 酒店ID: HOTEL002
2025-10-21 00:52:10.842 [ForkJoinPool.commonPool-worker-1] INFO  org.xfy.hotelpricecomparison.util.LogUtil - 调用API: https://dfd9fbc3-4bf3-4efc-90c8-60cc60d04ab6.mock.pstmn.io/hotel/getHotelInfo, 请求参数: {"innId":"HOTEL001","languageCode":0}
2025-10-21 00:52:10.842 [scheduled-3] INFO  org.xfy.hotelpricecomparison.util.LogUtil - 调用API: https://dfd9fbc3-4bf3-4efc-90c8-60cc60d04ab6.mock.pstmn.io/hotel/getHotelInfo, 请求参数: {"innId":"HOTEL002","languageCode":0}
2025-10-21 00:52:10.842 [ForkJoinPool.commonPool-worker-1] DEBUG o.x.h.service.impl.JinjiangApiServiceImpl - 验证酒店信息请求参数
2025-10-21 00:52:10.843 [scheduled-3] DEBUG o.x.h.service.impl.JinjiangApiServiceImpl - 验证酒店信息请求参数
2025-10-21 00:52:10.844 [ForkJoinPool.commonPool-worker-1] DEBUG o.x.h.service.impl.JinjiangApiServiceImpl - 发送API请求到: https://dfd9fbc3-4bf3-4efc-90c8-60cc60d04ab6.mock.pstmn.io/hotel/getHotelInfo
2025-10-21 00:52:10.845 [scheduled-3] DEBUG o.x.h.service.impl.JinjiangApiServiceImpl - 发送API请求到: https://dfd9fbc3-4bf3-4efc-90c8-60cc60d04ab6.mock.pstmn.io/hotel/getHotelInfo
2025-10-21 00:52:11.910 [ForkJoinPool.commonPool-worker-1] ERROR o.x.h.service.impl.JinjiangApiServiceImpl - HTTP客户端错误 - URL: https://dfd9fbc3-4bf3-4efc-90c8-60cc60d04ab6.mock.pstmn.io/hotel/getHotelInfo, 状态码: 404 NOT_FOUND, 错误信息: {"error":{"name":"mockRequestNotFoundError","message":"Double check your method and the request path and try again. Learn more here: https://learning.postman.com/docs/design-apis/mock-apis/matching-algorithm/","header":"No matching requests"}}
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockRequestNotFoundError","message":"Double check your method and the request path and try again. Learn more here: https://learning.postman.com/docs/design-apis/mock-apis/matching-algorithm/","header":"No matching requests"}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.postForEntity(RestTemplate.java:538)
	at org.xfy.hotelpricecomparison.service.impl.JinjiangApiServiceImpl.callSupplierApi(JinjiangApiServiceImpl.java:195)
	at org.xfy.hotelpricecomparison.service.impl.JinjiangApiServiceImpl.getHotelInfo(JinjiangApiServiceImpl.java:101)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.retry.annotation.AnnotationAwareRetryOperationsInterceptor.invoke(AnnotationAwareRetryOperationsInterceptor.java:164)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at org.xfy.hotelpricecomparison.service.impl.JinjiangApiServiceImpl$$SpringCGLIB$$0.getHotelInfo(<generated>)
	at org.xfy.hotelpricecomparison.service.impl.ScheduledApiServiceImpl.lambda$syncHotelData$0(ScheduledApiServiceImpl.java:342)
	at org.xfy.hotelpricecomparison.util.RetryUtil.executeWithRetry(RetryUtil.java:54)
	at org.xfy.hotelpricecomparison.service.impl.ScheduledApiServiceImpl.lambda$syncHotelData$1(ScheduledApiServiceImpl.java:335)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ReduceOps$ReduceTask.doLeaf(ReduceOps.java:960)
	at java.base/java.util.stream.ReduceOps$ReduceTask.doLeaf(ReduceOps.java:934)
	at java.base/java.util.stream.AbstractTask.compute(AbstractTask.java:327)
	at java.base/java.util.concurrent.CountedCompleter.exec(CountedCompleter.java:754)
	at java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:387)
	at java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1310)
	at java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1841)
	at java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1806)
	at java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:188)
2025-10-21 00:52:11.916 [ForkJoinPool.commonPool-worker-1] WARN  o.x.h.service.impl.ScheduledApiServiceImpl - 获取酒店数据失败，酒店ID: HOTEL001
2025-10-21 00:52:12.371 [scheduled-3] ERROR o.x.h.service.impl.JinjiangApiServiceImpl - HTTP客户端错误 - URL: https://dfd9fbc3-4bf3-4efc-90c8-60cc60d04ab6.mock.pstmn.io/hotel/getHotelInfo, 状态码: 404 NOT_FOUND, 错误信息: {"error":{"name":"mockRequestNotFoundError","message":"Double check your method and the request path and try again. Learn more here: https://learning.postman.com/docs/design-apis/mock-apis/matching-algorithm/","header":"No matching requests"}}
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockRequestNotFoundError","message":"Double check your method and the request path and try again. Learn more here: https://learning.postman.com/docs/design-apis/mock-apis/matching-algorithm/","header":"No matching requests"}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.postForEntity(RestTemplate.java:538)
	at org.xfy.hotelpricecomparison.service.impl.JinjiangApiServiceImpl.callSupplierApi(JinjiangApiServiceImpl.java:195)
	at org.xfy.hotelpricecomparison.service.impl.JinjiangApiServiceImpl.getHotelInfo(JinjiangApiServiceImpl.java:101)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.retry.annotation.AnnotationAwareRetryOperationsInterceptor.invoke(AnnotationAwareRetryOperationsInterceptor.java:164)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at org.xfy.hotelpricecomparison.service.impl.JinjiangApiServiceImpl$$SpringCGLIB$$0.getHotelInfo(<generated>)
	at org.xfy.hotelpricecomparison.service.impl.ScheduledApiServiceImpl.lambda$syncHotelData$0(ScheduledApiServiceImpl.java:342)
	at org.xfy.hotelpricecomparison.util.RetryUtil.executeWithRetry(RetryUtil.java:54)
	at org.xfy.hotelpricecomparison.service.impl.ScheduledApiServiceImpl.lambda$syncHotelData$1(ScheduledApiServiceImpl.java:335)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ReduceOps$ReduceTask.doLeaf(ReduceOps.java:960)
	at java.base/java.util.stream.ReduceOps$ReduceTask.doLeaf(ReduceOps.java:934)
	at java.base/java.util.stream.AbstractTask.compute(AbstractTask.java:327)
	at java.base/java.util.concurrent.CountedCompleter.exec(CountedCompleter.java:754)
	at java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:387)
	at java.base/java.util.concurrent.ForkJoinTask.invoke(ForkJoinTask.java:667)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateParallel(ReduceOps.java:927)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:233)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682)
	at org.xfy.hotelpricecomparison.service.impl.ScheduledApiServiceImpl.syncHotelData(ScheduledApiServiceImpl.java:369)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 00:52:12.374 [scheduled-3] WARN  o.x.h.service.impl.ScheduledApiServiceImpl - 获取酒店数据失败，酒店ID: HOTEL002
2025-10-21 00:52:12.374 [scheduled-3] WARN  o.x.h.service.impl.ScheduledApiServiceImpl - 没有成功获取到任何酒店数据
2025-10-21 00:52:15.819 [scheduled-2] INFO  o.x.h.service.impl.ScheduledApiServiceImpl - 开始定时同步价格数据...
2025-10-21 00:52:15.819 [scheduled-2] INFO  o.x.h.service.impl.ScheduledApiServiceImpl - 价格数据同步完成
2025-10-21 00:52:20.821 [scheduled-1] INFO  o.x.h.service.impl.ScheduledApiServiceImpl - 开始定时同步订单数据...
2025-10-21 00:52:20.821 [scheduled-1] INFO  o.x.h.service.impl.ScheduledApiServiceImpl - 订单数据同步完成
2025-10-21 00:52:30.828 [scheduled-4] INFO  o.x.h.service.impl.ScheduledApiServiceImpl - 开始定时同步酒店房型信息...
2025-10-21 00:52:30.828 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 开始同步去哪网订单...
2025-10-21 00:52:30.828 [scheduled-4] INFO  o.x.h.service.impl.HotelServiceImpl - 获取未同步的酒店列表，限制数量: 10
2025-10-21 00:52:30.828 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 查询时间范围: fromDate=20251021004230, toDate=20251021005230
2025-10-21 00:52:30.828 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderServiceImpl - 开始查询去哪网订单列表: fromDate=20251021004230, toDate=20251021005230, version=3.7
2025-10-21 00:52:30.828 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 生成HMAC签名: data=your_sign_key20251021004230202510210052303.7, hmac=e85e604325bedeeee36983c1d672fdce
2025-10-21 00:52:30.829 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 构建请求URL: https://2402add9-4b1a-450b-9bed-701d6679a21b.mock.pstmn.io/api.qunar.com/api/ota/otaQueryOrder?fromDate=20251021004230&toDate=20251021005230&version=3.7&hmac=e85e604325bedeeee36983c1d672fdce
2025-10-21 00:52:30.830 [scheduled-4] DEBUG o.x.h.mapper.HotelMapper.selectList - ==>  Preparing: SELECT id,hotel_code,hotel_name,hotel_name_en,address,city_code,city_name,district_code,district_name,country_code,hotel_phone,hotel_email,description,policy,guide,check_in_time,check_out_time,hotel_level,star_type,business_type,hotel_type,status,valid,is_request_supplier_data,is_push_to_distributors,open_date,close_date,decoration_date,allow_minors,pets,restaurant,support_foreign_guest,require_eng_name,certificate_type,settlement_currency,brand_code,missing_count,created_at,updated_at,is_changed,change_type FROM hotels WHERE (is_request_supplier_data = ? AND valid = ? AND hotel_code IS NOT NULL) ORDER BY created_at ASC LIMIT 10
2025-10-21 00:52:30.830 [scheduled-4] DEBUG o.x.h.mapper.HotelMapper.selectList - ==> Parameters: 1(Integer), 1(Integer)
2025-10-21 00:52:30.832 [scheduled-4] DEBUG o.x.h.mapper.HotelMapper.selectList - <==      Total: 2
2025-10-21 00:52:30.832 [scheduled-4] INFO  o.x.h.service.impl.ScheduledApiServiceImpl - 开始同步 2 个酒店的房型数据
2025-10-21 00:52:30.833 [scheduled-4] DEBUG o.x.h.service.impl.JinjiangApiServiceImpl - 开始调用供应商API获取酒店房型信息 - 酒店ID: HOTEL001
2025-10-21 00:52:30.834 [scheduled-4] INFO  org.xfy.hotelpricecomparison.util.LogUtil - 调用API: https://dfd9fbc3-4bf3-4efc-90c8-60cc60d04ab6.mock.pstmn.io/hotel/getHotelRoomType, 请求参数: {"hotelId":"HOTEL001","roomTypeId":null,"checkInDate":null,"checkOutDate":null}
2025-10-21 00:52:30.835 [scheduled-4] DEBUG o.x.h.service.impl.JinjiangApiServiceImpl - 发送API请求到: https://dfd9fbc3-4bf3-4efc-90c8-60cc60d04ab6.mock.pstmn.io/hotel/getHotelRoomType
2025-10-21 00:52:31.877 [scheduled-4] ERROR o.x.h.service.impl.JinjiangApiServiceImpl - HTTP客户端错误 - URL: https://dfd9fbc3-4bf3-4efc-90c8-60cc60d04ab6.mock.pstmn.io/hotel/getHotelRoomType, 状态码: 404 NOT_FOUND, 错误信息: {"error":{"name":"mockRequestNotFoundError","message":"Double check your method and the request path and try again. Learn more here: https://learning.postman.com/docs/design-apis/mock-apis/matching-algorithm/","header":"No matching requests"}}
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockRequestNotFoundError","message":"Double check your method and the request path and try again. Learn more here: https://learning.postman.com/docs/design-apis/mock-apis/matching-algorithm/","header":"No matching requests"}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.postForEntity(RestTemplate.java:538)
	at org.xfy.hotelpricecomparison.service.impl.JinjiangApiServiceImpl.callSupplierApi(JinjiangApiServiceImpl.java:195)
	at org.xfy.hotelpricecomparison.service.impl.JinjiangApiServiceImpl.getHotelRoomType(JinjiangApiServiceImpl.java:108)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.retry.annotation.AnnotationAwareRetryOperationsInterceptor.invoke(AnnotationAwareRetryOperationsInterceptor.java:164)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at org.xfy.hotelpricecomparison.service.impl.JinjiangApiServiceImpl$$SpringCGLIB$$0.getHotelRoomType(<generated>)
	at org.xfy.hotelpricecomparison.service.impl.ScheduledApiServiceImpl.lambda$syncHotelRoomTypes$2(ScheduledApiServiceImpl.java:461)
	at org.xfy.hotelpricecomparison.util.RetryUtil.executeWithRetry(RetryUtil.java:54)
	at org.xfy.hotelpricecomparison.service.impl.ScheduledApiServiceImpl.syncHotelRoomTypes(ScheduledApiServiceImpl.java:455)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 00:52:31.880 [scheduled-4] WARN  o.x.h.service.impl.ScheduledApiServiceImpl - 获取房型数据失败，酒店ID: HOTEL001
2025-10-21 00:52:32.086 [scheduled-4] DEBUG o.x.h.service.impl.JinjiangApiServiceImpl - 开始调用供应商API获取酒店房型信息 - 酒店ID: HOTEL002
2025-10-21 00:52:32.086 [scheduled-4] INFO  org.xfy.hotelpricecomparison.util.LogUtil - 调用API: https://dfd9fbc3-4bf3-4efc-90c8-60cc60d04ab6.mock.pstmn.io/hotel/getHotelRoomType, 请求参数: {"hotelId":"HOTEL002","roomTypeId":null,"checkInDate":null,"checkOutDate":null}
2025-10-21 00:52:32.086 [scheduled-4] DEBUG o.x.h.service.impl.JinjiangApiServiceImpl - 发送API请求到: https://dfd9fbc3-4bf3-4efc-90c8-60cc60d04ab6.mock.pstmn.io/hotel/getHotelRoomType
2025-10-21 00:52:32.440 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderServiceImpl - 查询去哪网订单列表异常
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:431)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrderList(QunarOrderServiceImpl.java:53)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrdersByDateRange(QunarOrderServiceImpl.java:78)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl.syncOrdersFromQunar(QunarOrderSyncServiceImpl.java:66)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:716)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl$$SpringCGLIB$$0.syncOrdersFromQunar(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 00:52:32.441 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderSyncServiceImpl - 去哪网订单查询失败: errCode=ERROR, errMsg=查询异常: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
2025-10-21 00:52:32.698 [scheduled-4] ERROR o.x.h.service.impl.JinjiangApiServiceImpl - HTTP客户端错误 - URL: https://dfd9fbc3-4bf3-4efc-90c8-60cc60d04ab6.mock.pstmn.io/hotel/getHotelRoomType, 状态码: 404 NOT_FOUND, 错误信息: {"error":{"name":"mockRequestNotFoundError","message":"Double check your method and the request path and try again. Learn more here: https://learning.postman.com/docs/design-apis/mock-apis/matching-algorithm/","header":"No matching requests"}}
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockRequestNotFoundError","message":"Double check your method and the request path and try again. Learn more here: https://learning.postman.com/docs/design-apis/mock-apis/matching-algorithm/","header":"No matching requests"}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.postForEntity(RestTemplate.java:538)
	at org.xfy.hotelpricecomparison.service.impl.JinjiangApiServiceImpl.callSupplierApi(JinjiangApiServiceImpl.java:195)
	at org.xfy.hotelpricecomparison.service.impl.JinjiangApiServiceImpl.getHotelRoomType(JinjiangApiServiceImpl.java:108)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.retry.annotation.AnnotationAwareRetryOperationsInterceptor.invoke(AnnotationAwareRetryOperationsInterceptor.java:164)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at org.xfy.hotelpricecomparison.service.impl.JinjiangApiServiceImpl$$SpringCGLIB$$0.getHotelRoomType(<generated>)
	at org.xfy.hotelpricecomparison.service.impl.ScheduledApiServiceImpl.lambda$syncHotelRoomTypes$2(ScheduledApiServiceImpl.java:461)
	at org.xfy.hotelpricecomparison.util.RetryUtil.executeWithRetry(RetryUtil.java:54)
	at org.xfy.hotelpricecomparison.service.impl.ScheduledApiServiceImpl.syncHotelRoomTypes(ScheduledApiServiceImpl.java:455)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 00:52:32.699 [scheduled-4] WARN  o.x.h.service.impl.ScheduledApiServiceImpl - 获取房型数据失败，酒店ID: HOTEL002
2025-10-21 00:52:32.904 [scheduled-4] INFO  o.x.h.service.impl.ScheduledApiServiceImpl - 房型数据同步完成，成功: 0, 失败: 2
2025-10-21 00:53:00.735 [MessageBroker-1] INFO  o.s.web.socket.config.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2025-10-21 00:53:00.819 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 开始同步去哪网订单...
2025-10-21 00:53:00.819 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 查询时间范围: fromDate=20251021004300, toDate=20251021005300
2025-10-21 00:53:00.819 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderServiceImpl - 开始查询去哪网订单列表: fromDate=20251021004300, toDate=20251021005300, version=3.7
2025-10-21 00:53:00.820 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 生成HMAC签名: data=your_sign_key20251021004300202510210053003.7, hmac=3682d76b467f15a2d7f6c1aef4547dc9
2025-10-21 00:53:00.820 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 构建请求URL: https://2402add9-4b1a-450b-9bed-701d6679a21b.mock.pstmn.io/api.qunar.com/api/ota/otaQueryOrder?fromDate=20251021004300&toDate=20251021005300&version=3.7&hmac=3682d76b467f15a2d7f6c1aef4547dc9
2025-10-21 00:53:02.240 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderServiceImpl - 查询去哪网订单列表异常
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:431)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrderList(QunarOrderServiceImpl.java:53)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrdersByDateRange(QunarOrderServiceImpl.java:78)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl.syncOrdersFromQunar(QunarOrderSyncServiceImpl.java:66)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:716)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl$$SpringCGLIB$$0.syncOrdersFromQunar(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 00:53:02.240 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderSyncServiceImpl - 去哪网订单查询失败: errCode=ERROR, errMsg=查询异常: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
2025-10-21 00:53:30.819 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 开始同步去哪网订单...
2025-10-21 00:53:30.819 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 查询时间范围: fromDate=20251021004330, toDate=20251021005330
2025-10-21 00:53:30.819 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderServiceImpl - 开始查询去哪网订单列表: fromDate=20251021004330, toDate=20251021005330, version=3.7
2025-10-21 00:53:30.820 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 生成HMAC签名: data=your_sign_key20251021004330202510210053303.7, hmac=2f2f15d5e72274d55517a9a5d0d2dedd
2025-10-21 00:53:30.820 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 构建请求URL: https://2402add9-4b1a-450b-9bed-701d6679a21b.mock.pstmn.io/api.qunar.com/api/ota/otaQueryOrder?fromDate=20251021004330&toDate=20251021005330&version=3.7&hmac=2f2f15d5e72274d55517a9a5d0d2dedd
2025-10-21 00:53:32.139 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderServiceImpl - 查询去哪网订单列表异常
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:431)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrderList(QunarOrderServiceImpl.java:53)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrdersByDateRange(QunarOrderServiceImpl.java:78)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl.syncOrdersFromQunar(QunarOrderSyncServiceImpl.java:66)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:716)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl$$SpringCGLIB$$0.syncOrdersFromQunar(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 00:53:32.140 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderSyncServiceImpl - 去哪网订单查询失败: errCode=ERROR, errMsg=查询异常: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
2025-10-21 00:53:39.809 [http-nio-8080-exec-3] INFO  o.x.hotelpricecomparison.controller.AuthController - 收到登录请求: username=wzx
2025-10-21 00:53:39.809 [http-nio-8080-exec-3] INFO  o.x.h.service.impl.SysUserServiceImpl - 开始查询用户: username=wzx
2025-10-21 00:53:39.809 [http-nio-8080-exec-3] INFO  o.x.h.service.impl.SysUserServiceImpl - 查询条件: (username = #{ew.paramNameValuePairs.MPGENVAL1})
2025-10-21 00:53:39.810 [http-nio-8080-exec-3] DEBUG o.x.h.mapper.SysUserMapper.selectList - ==>  Preparing: SELECT id, username, password, email, phone, role FROM sys_user
2025-10-21 00:53:39.810 [http-nio-8080-exec-3] DEBUG o.x.h.mapper.SysUserMapper.selectList - ==> Parameters: 
2025-10-21 00:53:39.812 [http-nio-8080-exec-3] DEBUG o.x.h.mapper.SysUserMapper.selectList - <==      Total: 3
2025-10-21 00:53:39.812 [http-nio-8080-exec-3] INFO  o.x.h.service.impl.SysUserServiceImpl - 查询结果数量: 3
2025-10-21 00:53:39.812 [http-nio-8080-exec-3] INFO  o.x.h.service.impl.SysUserServiceImpl - 查询到的用户: admin
2025-10-21 00:53:39.812 [http-nio-8080-exec-3] INFO  o.x.h.service.impl.SysUserServiceImpl - 查询到的用户: user
2025-10-21 00:53:39.812 [http-nio-8080-exec-3] INFO  o.x.h.service.impl.SysUserServiceImpl - 查询到的用户: wzx
2025-10-21 00:53:39.812 [http-nio-8080-exec-3] INFO  o.x.h.service.impl.SysUserServiceImpl - 找到匹配的用户: wzx
2025-10-21 00:53:39.812 [http-nio-8080-exec-3] INFO  o.x.hotelpricecomparison.controller.AuthController - 找到用户: wzx
2025-10-21 00:53:40.182 [http-nio-8080-exec-3] INFO  o.x.hotelpricecomparison.controller.AuthController - 密码验证成功: wzx
2025-10-21 00:53:40.182 [http-nio-8080-exec-3] INFO  o.x.hotelpricecomparison.controller.AuthController - 用户登录成功: wzx
2025-10-21 00:54:00.825 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 开始同步去哪网订单...
2025-10-21 00:54:00.826 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 查询时间范围: fromDate=20251021004400, toDate=20251021005400
2025-10-21 00:54:00.826 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderServiceImpl - 开始查询去哪网订单列表: fromDate=20251021004400, toDate=20251021005400, version=3.7
2025-10-21 00:54:00.826 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 生成HMAC签名: data=your_sign_key20251021004400202510210054003.7, hmac=d7c23a542c6144ca049d85d412f835b6
2025-10-21 00:54:00.826 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 构建请求URL: https://2402add9-4b1a-450b-9bed-701d6679a21b.mock.pstmn.io/api.qunar.com/api/ota/otaQueryOrder?fromDate=20251021004400&toDate=20251021005400&version=3.7&hmac=d7c23a542c6144ca049d85d412f835b6
2025-10-21 00:54:02.451 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderServiceImpl - 查询去哪网订单列表异常
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:431)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrderList(QunarOrderServiceImpl.java:53)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrdersByDateRange(QunarOrderServiceImpl.java:78)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl.syncOrdersFromQunar(QunarOrderSyncServiceImpl.java:66)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:716)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl$$SpringCGLIB$$0.syncOrdersFromQunar(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 00:54:02.452 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderSyncServiceImpl - 去哪网订单查询失败: errCode=ERROR, errMsg=查询异常: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
2025-10-21 00:54:30.822 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 开始同步去哪网订单...
2025-10-21 00:54:30.822 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 查询时间范围: fromDate=20251021004430, toDate=20251021005430
2025-10-21 00:54:30.822 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderServiceImpl - 开始查询去哪网订单列表: fromDate=20251021004430, toDate=20251021005430, version=3.7
2025-10-21 00:54:30.822 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 生成HMAC签名: data=your_sign_key20251021004430202510210054303.7, hmac=d33ab9e6eadadea198dfc7798f2f7847
2025-10-21 00:54:30.823 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 构建请求URL: https://2402add9-4b1a-450b-9bed-701d6679a21b.mock.pstmn.io/api.qunar.com/api/ota/otaQueryOrder?fromDate=20251021004430&toDate=20251021005430&version=3.7&hmac=d33ab9e6eadadea198dfc7798f2f7847
2025-10-21 00:54:32.151 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderServiceImpl - 查询去哪网订单列表异常
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:431)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrderList(QunarOrderServiceImpl.java:53)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrdersByDateRange(QunarOrderServiceImpl.java:78)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl.syncOrdersFromQunar(QunarOrderSyncServiceImpl.java:66)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:716)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl$$SpringCGLIB$$0.syncOrdersFromQunar(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 00:54:32.155 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderSyncServiceImpl - 去哪网订单查询失败: errCode=ERROR, errMsg=查询异常: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
2025-10-21 00:55:00.817 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 开始同步去哪网订单...
2025-10-21 00:55:00.817 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 查询时间范围: fromDate=20251021004500, toDate=20251021005500
2025-10-21 00:55:00.817 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderServiceImpl - 开始查询去哪网订单列表: fromDate=20251021004500, toDate=20251021005500, version=3.7
2025-10-21 00:55:00.817 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 生成HMAC签名: data=your_sign_key20251021004500202510210055003.7, hmac=866b69c9b949677f60d45b54a5de2e38
2025-10-21 00:55:00.817 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 构建请求URL: https://2402add9-4b1a-450b-9bed-701d6679a21b.mock.pstmn.io/api.qunar.com/api/ota/otaQueryOrder?fromDate=20251021004500&toDate=20251021005500&version=3.7&hmac=866b69c9b949677f60d45b54a5de2e38
2025-10-21 00:55:02.032 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderServiceImpl - 查询去哪网订单列表异常
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:431)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrderList(QunarOrderServiceImpl.java:53)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrdersByDateRange(QunarOrderServiceImpl.java:78)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl.syncOrdersFromQunar(QunarOrderSyncServiceImpl.java:66)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:716)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl$$SpringCGLIB$$0.syncOrdersFromQunar(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 00:55:02.033 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderSyncServiceImpl - 去哪网订单查询失败: errCode=ERROR, errMsg=查询异常: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
2025-10-21 00:55:30.820 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 开始同步去哪网订单...
2025-10-21 00:55:30.820 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 查询时间范围: fromDate=20251021004530, toDate=20251021005530
2025-10-21 00:55:30.820 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderServiceImpl - 开始查询去哪网订单列表: fromDate=20251021004530, toDate=20251021005530, version=3.7
2025-10-21 00:55:30.820 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 生成HMAC签名: data=your_sign_key20251021004530202510210055303.7, hmac=627ca44c3583422a4ef790260da93db7
2025-10-21 00:55:30.820 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 构建请求URL: https://2402add9-4b1a-450b-9bed-701d6679a21b.mock.pstmn.io/api.qunar.com/api/ota/otaQueryOrder?fromDate=20251021004530&toDate=20251021005530&version=3.7&hmac=627ca44c3583422a4ef790260da93db7
2025-10-21 00:55:32.362 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderServiceImpl - 查询去哪网订单列表异常
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:431)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrderList(QunarOrderServiceImpl.java:53)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrdersByDateRange(QunarOrderServiceImpl.java:78)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl.syncOrdersFromQunar(QunarOrderSyncServiceImpl.java:66)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:716)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl$$SpringCGLIB$$0.syncOrdersFromQunar(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 00:55:32.363 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderSyncServiceImpl - 去哪网订单查询失败: errCode=ERROR, errMsg=查询异常: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
2025-10-21 00:56:00.819 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 开始同步去哪网订单...
2025-10-21 00:56:00.819 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 查询时间范围: fromDate=20251021004600, toDate=20251021005600
2025-10-21 00:56:00.819 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderServiceImpl - 开始查询去哪网订单列表: fromDate=20251021004600, toDate=20251021005600, version=3.7
2025-10-21 00:56:00.820 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 生成HMAC签名: data=your_sign_key20251021004600202510210056003.7, hmac=5f82d918a97e45362d48cf5caf8c6264
2025-10-21 00:56:00.820 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 构建请求URL: https://2402add9-4b1a-450b-9bed-701d6679a21b.mock.pstmn.io/api.qunar.com/api/ota/otaQueryOrder?fromDate=20251021004600&toDate=20251021005600&version=3.7&hmac=5f82d918a97e45362d48cf5caf8c6264
2025-10-21 00:56:02.157 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderServiceImpl - 查询去哪网订单列表异常
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:431)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrderList(QunarOrderServiceImpl.java:53)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrdersByDateRange(QunarOrderServiceImpl.java:78)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl.syncOrdersFromQunar(QunarOrderSyncServiceImpl.java:66)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:716)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl$$SpringCGLIB$$0.syncOrdersFromQunar(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 00:56:02.158 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderSyncServiceImpl - 去哪网订单查询失败: errCode=ERROR, errMsg=查询异常: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
2025-10-21 00:56:30.827 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 开始同步去哪网订单...
2025-10-21 00:56:30.828 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 查询时间范围: fromDate=20251021004630, toDate=20251021005630
2025-10-21 00:56:30.828 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderServiceImpl - 开始查询去哪网订单列表: fromDate=20251021004630, toDate=20251021005630, version=3.7
2025-10-21 00:56:30.828 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 生成HMAC签名: data=your_sign_key20251021004630202510210056303.7, hmac=f415848e7c73a16a688b5a54678c3c8c
2025-10-21 00:56:30.828 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 构建请求URL: https://2402add9-4b1a-450b-9bed-701d6679a21b.mock.pstmn.io/api.qunar.com/api/ota/otaQueryOrder?fromDate=20251021004630&toDate=20251021005630&version=3.7&hmac=f415848e7c73a16a688b5a54678c3c8c
2025-10-21 00:56:35.847 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderServiceImpl - 查询去哪网订单列表异常
org.springframework.web.client.ResourceAccessException: I/O error on GET request for "https://2402add9-4b1a-450b-9bed-701d6679a21b.mock.pstmn.io/api.qunar.com/api/ota/otaQueryOrder": Connect timed out
	at org.springframework.web.client.RestTemplate.createResourceAccessException(RestTemplate.java:915)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:895)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:431)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrderList(QunarOrderServiceImpl.java:53)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrdersByDateRange(QunarOrderServiceImpl.java:78)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl.syncOrdersFromQunar(QunarOrderSyncServiceImpl.java:66)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:716)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl$$SpringCGLIB$$0.syncOrdersFromQunar(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.net.SocketTimeoutException: Connect timed out
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:546)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:592)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:751)
	at java.base/sun.security.ssl.SSLSocketImpl.connect(SSLSocketImpl.java:304)
	at java.base/sun.net.NetworkClient.doConnect(NetworkClient.java:178)
	at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:531)
	at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:636)
	at java.base/sun.net.www.protocol.https.HttpsClient.<init>(HttpsClient.java:264)
	at java.base/sun.net.www.protocol.https.HttpsClient.New(HttpsClient.java:377)
	at java.base/sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.getNewHttpClient(AbstractDelegateHttpsURLConnection.java:193)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1253)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1139)
	at java.base/sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:179)
	at java.base/sun.net.www.protocol.https.HttpsURLConnectionImpl.connect(HttpsURLConnectionImpl.java:141)
	at org.springframework.http.client.SimpleClientHttpRequest.executeInternal(SimpleClientHttpRequest.java:79)
	at org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:70)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:889)
	... 23 common frames omitted
2025-10-21 00:56:35.849 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderSyncServiceImpl - 去哪网订单查询失败: errCode=ERROR, errMsg=查询异常: I/O error on GET request for "https://2402add9-4b1a-450b-9bed-701d6679a21b.mock.pstmn.io/api.qunar.com/api/ota/otaQueryOrder": Connect timed out
2025-10-21 00:57:00.829 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 开始同步去哪网订单...
2025-10-21 00:57:00.829 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 查询时间范围: fromDate=20251021004700, toDate=20251021005700
2025-10-21 00:57:00.829 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderServiceImpl - 开始查询去哪网订单列表: fromDate=20251021004700, toDate=20251021005700, version=3.7
2025-10-21 00:57:00.829 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 生成HMAC签名: data=your_sign_key20251021004700202510210057003.7, hmac=a0383f0e1135d0e8ee727135ea2d1558
2025-10-21 00:57:00.829 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 构建请求URL: https://2402add9-4b1a-450b-9bed-701d6679a21b.mock.pstmn.io/api.qunar.com/api/ota/otaQueryOrder?fromDate=20251021004700&toDate=20251021005700&version=3.7&hmac=a0383f0e1135d0e8ee727135ea2d1558
2025-10-21 00:57:02.009 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderServiceImpl - 查询去哪网订单列表异常
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:431)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrderList(QunarOrderServiceImpl.java:53)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrdersByDateRange(QunarOrderServiceImpl.java:78)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl.syncOrdersFromQunar(QunarOrderSyncServiceImpl.java:66)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:716)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl$$SpringCGLIB$$0.syncOrdersFromQunar(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 00:57:02.014 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderSyncServiceImpl - 去哪网订单查询失败: errCode=ERROR, errMsg=查询异常: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
2025-10-21 00:57:30.830 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 开始同步去哪网订单...
2025-10-21 00:57:30.830 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 查询时间范围: fromDate=20251021004730, toDate=20251021005730
2025-10-21 00:57:30.830 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderServiceImpl - 开始查询去哪网订单列表: fromDate=20251021004730, toDate=20251021005730, version=3.7
2025-10-21 00:57:30.830 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 生成HMAC签名: data=your_sign_key20251021004730202510210057303.7, hmac=a15bdbe5c65f66a022ce362a4728fafc
2025-10-21 00:57:30.830 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 构建请求URL: https://2402add9-4b1a-450b-9bed-701d6679a21b.mock.pstmn.io/api.qunar.com/api/ota/otaQueryOrder?fromDate=20251021004730&toDate=20251021005730&version=3.7&hmac=a15bdbe5c65f66a022ce362a4728fafc
2025-10-21 00:57:32.002 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderServiceImpl - 查询去哪网订单列表异常
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:431)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrderList(QunarOrderServiceImpl.java:53)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrdersByDateRange(QunarOrderServiceImpl.java:78)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl.syncOrdersFromQunar(QunarOrderSyncServiceImpl.java:66)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:716)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl$$SpringCGLIB$$0.syncOrdersFromQunar(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 00:57:32.007 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderSyncServiceImpl - 去哪网订单查询失败: errCode=ERROR, errMsg=查询异常: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
2025-10-21 00:58:00.822 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 开始同步去哪网订单...
2025-10-21 00:58:00.822 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 查询时间范围: fromDate=20251021004800, toDate=20251021005800
2025-10-21 00:58:00.822 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderServiceImpl - 开始查询去哪网订单列表: fromDate=20251021004800, toDate=20251021005800, version=3.7
2025-10-21 00:58:00.822 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 生成HMAC签名: data=your_sign_key20251021004800202510210058003.7, hmac=acfbe1f3b26105799591aa8f41344139
2025-10-21 00:58:00.822 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 构建请求URL: https://2402add9-4b1a-450b-9bed-701d6679a21b.mock.pstmn.io/api.qunar.com/api/ota/otaQueryOrder?fromDate=20251021004800&toDate=20251021005800&version=3.7&hmac=acfbe1f3b26105799591aa8f41344139
2025-10-21 00:58:01.533 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderServiceImpl - 查询去哪网订单列表异常
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:431)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrderList(QunarOrderServiceImpl.java:53)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrdersByDateRange(QunarOrderServiceImpl.java:78)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl.syncOrdersFromQunar(QunarOrderSyncServiceImpl.java:66)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:716)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl$$SpringCGLIB$$0.syncOrdersFromQunar(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 00:58:01.535 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderSyncServiceImpl - 去哪网订单查询失败: errCode=ERROR, errMsg=查询异常: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
2025-10-21 00:58:30.830 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 开始同步去哪网订单...
2025-10-21 00:58:30.830 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 查询时间范围: fromDate=20251021004830, toDate=20251021005830
2025-10-21 00:58:30.830 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderServiceImpl - 开始查询去哪网订单列表: fromDate=20251021004830, toDate=20251021005830, version=3.7
2025-10-21 00:58:30.830 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 生成HMAC签名: data=your_sign_key20251021004830202510210058303.7, hmac=b187e76467ef12af280c776b6e92efe1
2025-10-21 00:58:30.831 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 构建请求URL: https://2402add9-4b1a-450b-9bed-701d6679a21b.mock.pstmn.io/api.qunar.com/api/ota/otaQueryOrder?fromDate=20251021004830&toDate=20251021005830&version=3.7&hmac=b187e76467ef12af280c776b6e92efe1
2025-10-21 00:58:31.849 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderServiceImpl - 查询去哪网订单列表异常
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:431)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrderList(QunarOrderServiceImpl.java:53)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrdersByDateRange(QunarOrderServiceImpl.java:78)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl.syncOrdersFromQunar(QunarOrderSyncServiceImpl.java:66)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:716)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl$$SpringCGLIB$$0.syncOrdersFromQunar(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 00:58:31.851 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderSyncServiceImpl - 去哪网订单查询失败: errCode=ERROR, errMsg=查询异常: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
2025-10-21 00:58:51.439 [http-nio-8080-exec-5] INFO  o.x.hotelpricecomparison.controller.AuthController - 收到登录请求: username=wzx
2025-10-21 00:58:51.439 [http-nio-8080-exec-5] INFO  o.x.h.service.impl.SysUserServiceImpl - 开始查询用户: username=wzx
2025-10-21 00:58:51.440 [http-nio-8080-exec-5] INFO  o.x.h.service.impl.SysUserServiceImpl - 查询条件: (username = #{ew.paramNameValuePairs.MPGENVAL1})
2025-10-21 00:58:51.441 [http-nio-8080-exec-5] DEBUG o.x.h.mapper.SysUserMapper.selectList - ==>  Preparing: SELECT id, username, password, email, phone, role FROM sys_user
2025-10-21 00:58:51.442 [http-nio-8080-exec-5] DEBUG o.x.h.mapper.SysUserMapper.selectList - ==> Parameters: 
2025-10-21 00:58:51.442 [http-nio-8080-exec-5] DEBUG o.x.h.mapper.SysUserMapper.selectList - <==      Total: 3
2025-10-21 00:58:51.443 [http-nio-8080-exec-5] INFO  o.x.h.service.impl.SysUserServiceImpl - 查询结果数量: 3
2025-10-21 00:58:51.443 [http-nio-8080-exec-5] INFO  o.x.h.service.impl.SysUserServiceImpl - 查询到的用户: admin
2025-10-21 00:58:51.443 [http-nio-8080-exec-5] INFO  o.x.h.service.impl.SysUserServiceImpl - 查询到的用户: user
2025-10-21 00:58:51.443 [http-nio-8080-exec-5] INFO  o.x.h.service.impl.SysUserServiceImpl - 查询到的用户: wzx
2025-10-21 00:58:51.443 [http-nio-8080-exec-5] INFO  o.x.h.service.impl.SysUserServiceImpl - 找到匹配的用户: wzx
2025-10-21 00:58:51.443 [http-nio-8080-exec-5] INFO  o.x.hotelpricecomparison.controller.AuthController - 找到用户: wzx
2025-10-21 00:58:51.826 [http-nio-8080-exec-5] INFO  o.x.hotelpricecomparison.controller.AuthController - 密码验证成功: wzx
2025-10-21 00:58:51.826 [http-nio-8080-exec-5] INFO  o.x.hotelpricecomparison.controller.AuthController - 用户登录成功: wzx
2025-10-21 00:59:00.827 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 开始同步去哪网订单...
2025-10-21 00:59:00.827 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 查询时间范围: fromDate=20251021004900, toDate=20251021005900
2025-10-21 00:59:00.827 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderServiceImpl - 开始查询去哪网订单列表: fromDate=20251021004900, toDate=20251021005900, version=3.7
2025-10-21 00:59:00.827 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 生成HMAC签名: data=your_sign_key20251021004900202510210059003.7, hmac=b0e844cb5d0c5f9a57c47e6ff711d8e8
2025-10-21 00:59:00.828 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 构建请求URL: https://2402add9-4b1a-450b-9bed-701d6679a21b.mock.pstmn.io/api.qunar.com/api/ota/otaQueryOrder?fromDate=20251021004900&toDate=20251021005900&version=3.7&hmac=b0e844cb5d0c5f9a57c47e6ff711d8e8
2025-10-21 00:59:01.981 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderServiceImpl - 查询去哪网订单列表异常
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:431)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrderList(QunarOrderServiceImpl.java:53)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrdersByDateRange(QunarOrderServiceImpl.java:78)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl.syncOrdersFromQunar(QunarOrderSyncServiceImpl.java:66)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:716)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl$$SpringCGLIB$$0.syncOrdersFromQunar(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 00:59:01.982 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderSyncServiceImpl - 去哪网订单查询失败: errCode=ERROR, errMsg=查询异常: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
2025-10-21 00:59:30.821 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 开始同步去哪网订单...
2025-10-21 00:59:30.821 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 查询时间范围: fromDate=20251021004930, toDate=20251021005930
2025-10-21 00:59:30.821 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderServiceImpl - 开始查询去哪网订单列表: fromDate=20251021004930, toDate=20251021005930, version=3.7
2025-10-21 00:59:30.821 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 生成HMAC签名: data=your_sign_key20251021004930202510210059303.7, hmac=6e44e55cb9bf8c17b046ca5d88750a59
2025-10-21 00:59:30.821 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 构建请求URL: https://2402add9-4b1a-450b-9bed-701d6679a21b.mock.pstmn.io/api.qunar.com/api/ota/otaQueryOrder?fromDate=20251021004930&toDate=20251021005930&version=3.7&hmac=6e44e55cb9bf8c17b046ca5d88750a59
2025-10-21 00:59:32.062 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderServiceImpl - 查询去哪网订单列表异常
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:431)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrderList(QunarOrderServiceImpl.java:53)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrdersByDateRange(QunarOrderServiceImpl.java:78)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl.syncOrdersFromQunar(QunarOrderSyncServiceImpl.java:66)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:716)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl$$SpringCGLIB$$0.syncOrdersFromQunar(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 00:59:32.065 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderSyncServiceImpl - 去哪网订单查询失败: errCode=ERROR, errMsg=查询异常: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
2025-10-21 01:00:00.827 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 开始同步去哪网订单...
2025-10-21 01:00:00.828 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 查询时间范围: fromDate=20251021005000, toDate=20251021010000
2025-10-21 01:00:00.828 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderServiceImpl - 开始查询去哪网订单列表: fromDate=20251021005000, toDate=20251021010000, version=3.7
2025-10-21 01:00:00.828 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 生成HMAC签名: data=your_sign_key20251021005000202510210100003.7, hmac=a33f798f621bd06a18f32e29424c698d
2025-10-21 01:00:00.828 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 构建请求URL: https://2402add9-4b1a-450b-9bed-701d6679a21b.mock.pstmn.io/api.qunar.com/api/ota/otaQueryOrder?fromDate=20251021005000&toDate=20251021010000&version=3.7&hmac=a33f798f621bd06a18f32e29424c698d
2025-10-21 01:00:01.453 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderServiceImpl - 查询去哪网订单列表异常
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:431)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrderList(QunarOrderServiceImpl.java:53)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrdersByDateRange(QunarOrderServiceImpl.java:78)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl.syncOrdersFromQunar(QunarOrderSyncServiceImpl.java:66)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:716)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl$$SpringCGLIB$$0.syncOrdersFromQunar(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 01:00:01.456 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderSyncServiceImpl - 去哪网订单查询失败: errCode=ERROR, errMsg=查询异常: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
2025-10-21 01:00:19.306 [http-nio-8080-exec-7] INFO  o.x.hotelpricecomparison.controller.AuthController - 收到登录请求: username=wzx
2025-10-21 01:00:19.306 [http-nio-8080-exec-7] INFO  o.x.h.service.impl.SysUserServiceImpl - 开始查询用户: username=wzx
2025-10-21 01:00:19.306 [http-nio-8080-exec-7] INFO  o.x.h.service.impl.SysUserServiceImpl - 查询条件: (username = #{ew.paramNameValuePairs.MPGENVAL1})
2025-10-21 01:00:19.308 [http-nio-8080-exec-7] DEBUG o.x.h.mapper.SysUserMapper.selectList - ==>  Preparing: SELECT id, username, password, email, phone, role FROM sys_user
2025-10-21 01:00:19.308 [http-nio-8080-exec-7] DEBUG o.x.h.mapper.SysUserMapper.selectList - ==> Parameters: 
2025-10-21 01:00:19.309 [http-nio-8080-exec-7] DEBUG o.x.h.mapper.SysUserMapper.selectList - <==      Total: 3
2025-10-21 01:00:19.310 [http-nio-8080-exec-7] INFO  o.x.h.service.impl.SysUserServiceImpl - 查询结果数量: 3
2025-10-21 01:00:19.310 [http-nio-8080-exec-7] INFO  o.x.h.service.impl.SysUserServiceImpl - 查询到的用户: admin
2025-10-21 01:00:19.310 [http-nio-8080-exec-7] INFO  o.x.h.service.impl.SysUserServiceImpl - 查询到的用户: user
2025-10-21 01:00:19.310 [http-nio-8080-exec-7] INFO  o.x.h.service.impl.SysUserServiceImpl - 查询到的用户: wzx
2025-10-21 01:00:19.310 [http-nio-8080-exec-7] INFO  o.x.h.service.impl.SysUserServiceImpl - 找到匹配的用户: wzx
2025-10-21 01:00:19.310 [http-nio-8080-exec-7] INFO  o.x.hotelpricecomparison.controller.AuthController - 找到用户: wzx
2025-10-21 01:00:19.734 [http-nio-8080-exec-7] INFO  o.x.hotelpricecomparison.controller.AuthController - 密码验证成功: wzx
2025-10-21 01:00:19.734 [http-nio-8080-exec-7] INFO  o.x.hotelpricecomparison.controller.AuthController - 用户登录成功: wzx
2025-10-21 01:00:30.826 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 开始同步去哪网订单...
2025-10-21 01:00:30.826 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 查询时间范围: fromDate=20251021005030, toDate=20251021010030
2025-10-21 01:00:30.826 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderServiceImpl - 开始查询去哪网订单列表: fromDate=20251021005030, toDate=20251021010030, version=3.7
2025-10-21 01:00:30.826 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 生成HMAC签名: data=your_sign_key20251021005030202510210100303.7, hmac=bb34d166e237dde6f2344057b417253f
2025-10-21 01:00:30.826 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 构建请求URL: https://2402add9-4b1a-450b-9bed-701d6679a21b.mock.pstmn.io/api.qunar.com/api/ota/otaQueryOrder?fromDate=20251021005030&toDate=20251021010030&version=3.7&hmac=bb34d166e237dde6f2344057b417253f
2025-10-21 01:00:31.362 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderServiceImpl - 查询去哪网订单列表异常
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:431)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrderList(QunarOrderServiceImpl.java:53)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrdersByDateRange(QunarOrderServiceImpl.java:78)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl.syncOrdersFromQunar(QunarOrderSyncServiceImpl.java:66)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:716)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl$$SpringCGLIB$$0.syncOrdersFromQunar(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 01:00:31.362 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderSyncServiceImpl - 去哪网订单查询失败: errCode=ERROR, errMsg=查询异常: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
2025-10-21 01:01:00.823 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 开始同步去哪网订单...
2025-10-21 01:01:00.823 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 查询时间范围: fromDate=20251021005100, toDate=20251021010100
2025-10-21 01:01:00.823 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderServiceImpl - 开始查询去哪网订单列表: fromDate=20251021005100, toDate=20251021010100, version=3.7
2025-10-21 01:01:00.823 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 生成HMAC签名: data=your_sign_key20251021005100202510210101003.7, hmac=f660da6734d609d4243e0c59e13bf671
2025-10-21 01:01:00.824 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 构建请求URL: https://2402add9-4b1a-450b-9bed-701d6679a21b.mock.pstmn.io/api.qunar.com/api/ota/otaQueryOrder?fromDate=20251021005100&toDate=20251021010100&version=3.7&hmac=f660da6734d609d4243e0c59e13bf671
2025-10-21 01:01:01.352 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderServiceImpl - 查询去哪网订单列表异常
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:431)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrderList(QunarOrderServiceImpl.java:53)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrdersByDateRange(QunarOrderServiceImpl.java:78)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl.syncOrdersFromQunar(QunarOrderSyncServiceImpl.java:66)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:716)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl$$SpringCGLIB$$0.syncOrdersFromQunar(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 01:01:01.353 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderSyncServiceImpl - 去哪网订单查询失败: errCode=ERROR, errMsg=查询异常: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
2025-10-21 01:01:30.818 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 开始同步去哪网订单...
2025-10-21 01:01:30.818 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 查询时间范围: fromDate=20251021005130, toDate=20251021010130
2025-10-21 01:01:30.818 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderServiceImpl - 开始查询去哪网订单列表: fromDate=20251021005130, toDate=20251021010130, version=3.7
2025-10-21 01:01:30.818 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 生成HMAC签名: data=your_sign_key20251021005130202510210101303.7, hmac=82269fd8ccb0f7cc20eb4e086ccfebf7
2025-10-21 01:01:30.818 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 构建请求URL: https://2402add9-4b1a-450b-9bed-701d6679a21b.mock.pstmn.io/api.qunar.com/api/ota/otaQueryOrder?fromDate=20251021005130&toDate=20251021010130&version=3.7&hmac=82269fd8ccb0f7cc20eb4e086ccfebf7
2025-10-21 01:01:31.422 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderServiceImpl - 查询去哪网订单列表异常
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:431)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrderList(QunarOrderServiceImpl.java:53)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrdersByDateRange(QunarOrderServiceImpl.java:78)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl.syncOrdersFromQunar(QunarOrderSyncServiceImpl.java:66)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:716)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl$$SpringCGLIB$$0.syncOrdersFromQunar(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 01:01:31.423 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderSyncServiceImpl - 去哪网订单查询失败: errCode=ERROR, errMsg=查询异常: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
2025-10-21 01:01:45.674 [http-nio-8080-exec-9] INFO  o.x.hotelpricecomparison.controller.AuthController - 收到登录请求: username=wzx
2025-10-21 01:01:45.674 [http-nio-8080-exec-9] INFO  o.x.h.service.impl.SysUserServiceImpl - 开始查询用户: username=wzx
2025-10-21 01:01:45.674 [http-nio-8080-exec-9] INFO  o.x.h.service.impl.SysUserServiceImpl - 查询条件: (username = #{ew.paramNameValuePairs.MPGENVAL1})
2025-10-21 01:01:45.675 [http-nio-8080-exec-9] DEBUG o.x.h.mapper.SysUserMapper.selectList - ==>  Preparing: SELECT id, username, password, email, phone, role FROM sys_user
2025-10-21 01:01:45.675 [http-nio-8080-exec-9] DEBUG o.x.h.mapper.SysUserMapper.selectList - ==> Parameters: 
2025-10-21 01:01:45.677 [http-nio-8080-exec-9] DEBUG o.x.h.mapper.SysUserMapper.selectList - <==      Total: 3
2025-10-21 01:01:45.677 [http-nio-8080-exec-9] INFO  o.x.h.service.impl.SysUserServiceImpl - 查询结果数量: 3
2025-10-21 01:01:45.677 [http-nio-8080-exec-9] INFO  o.x.h.service.impl.SysUserServiceImpl - 查询到的用户: admin
2025-10-21 01:01:45.677 [http-nio-8080-exec-9] INFO  o.x.h.service.impl.SysUserServiceImpl - 查询到的用户: user
2025-10-21 01:01:45.677 [http-nio-8080-exec-9] INFO  o.x.h.service.impl.SysUserServiceImpl - 查询到的用户: wzx
2025-10-21 01:01:45.677 [http-nio-8080-exec-9] INFO  o.x.h.service.impl.SysUserServiceImpl - 找到匹配的用户: wzx
2025-10-21 01:01:45.677 [http-nio-8080-exec-9] INFO  o.x.hotelpricecomparison.controller.AuthController - 找到用户: wzx
2025-10-21 01:01:46.211 [http-nio-8080-exec-9] INFO  o.x.hotelpricecomparison.controller.AuthController - 密码验证成功: wzx
2025-10-21 01:01:46.211 [http-nio-8080-exec-9] INFO  o.x.hotelpricecomparison.controller.AuthController - 用户登录成功: wzx
2025-10-21 01:02:00.827 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 开始同步去哪网订单...
2025-10-21 01:02:00.828 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 查询时间范围: fromDate=20251021005200, toDate=20251021010200
2025-10-21 01:02:00.828 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderServiceImpl - 开始查询去哪网订单列表: fromDate=20251021005200, toDate=20251021010200, version=3.7
2025-10-21 01:02:00.828 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 生成HMAC签名: data=your_sign_key20251021005200202510210102003.7, hmac=71a9c83717be26dd7a97dc0b9bf59ce4
2025-10-21 01:02:00.828 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 构建请求URL: https://2402add9-4b1a-450b-9bed-701d6679a21b.mock.pstmn.io/api.qunar.com/api/ota/otaQueryOrder?fromDate=20251021005200&toDate=20251021010200&version=3.7&hmac=71a9c83717be26dd7a97dc0b9bf59ce4
2025-10-21 01:02:02.076 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderServiceImpl - 查询去哪网订单列表异常
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:431)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrderList(QunarOrderServiceImpl.java:53)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrdersByDateRange(QunarOrderServiceImpl.java:78)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl.syncOrdersFromQunar(QunarOrderSyncServiceImpl.java:66)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:716)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl$$SpringCGLIB$$0.syncOrdersFromQunar(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 01:02:02.077 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderSyncServiceImpl - 去哪网订单查询失败: errCode=ERROR, errMsg=查询异常: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
2025-10-21 01:02:30.822 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 开始同步去哪网订单...
2025-10-21 01:02:30.822 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 查询时间范围: fromDate=20251021005230, toDate=20251021010230
2025-10-21 01:02:30.822 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderServiceImpl - 开始查询去哪网订单列表: fromDate=20251021005230, toDate=20251021010230, version=3.7
2025-10-21 01:02:30.822 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 生成HMAC签名: data=your_sign_key20251021005230202510210102303.7, hmac=769ca096d3a35a16c6f0fbd69eae782c
2025-10-21 01:02:30.822 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 构建请求URL: https://2402add9-4b1a-450b-9bed-701d6679a21b.mock.pstmn.io/api.qunar.com/api/ota/otaQueryOrder?fromDate=20251021005230&toDate=20251021010230&version=3.7&hmac=769ca096d3a35a16c6f0fbd69eae782c
2025-10-21 01:02:31.859 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderServiceImpl - 查询去哪网订单列表异常
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:431)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrderList(QunarOrderServiceImpl.java:53)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrdersByDateRange(QunarOrderServiceImpl.java:78)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl.syncOrdersFromQunar(QunarOrderSyncServiceImpl.java:66)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:716)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl$$SpringCGLIB$$0.syncOrdersFromQunar(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 01:02:31.861 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderSyncServiceImpl - 去哪网订单查询失败: errCode=ERROR, errMsg=查询异常: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
2025-10-21 01:03:00.830 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 开始同步去哪网订单...
2025-10-21 01:03:00.830 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 查询时间范围: fromDate=20251021005300, toDate=20251021010300
2025-10-21 01:03:00.831 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderServiceImpl - 开始查询去哪网订单列表: fromDate=20251021005300, toDate=20251021010300, version=3.7
2025-10-21 01:03:00.831 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 生成HMAC签名: data=your_sign_key20251021005300202510210103003.7, hmac=e400d19ea73ac01029e459bd6e31ce24
2025-10-21 01:03:00.831 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 构建请求URL: https://2402add9-4b1a-450b-9bed-701d6679a21b.mock.pstmn.io/api.qunar.com/api/ota/otaQueryOrder?fromDate=20251021005300&toDate=20251021010300&version=3.7&hmac=e400d19ea73ac01029e459bd6e31ce24
2025-10-21 01:03:01.863 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderServiceImpl - 查询去哪网订单列表异常
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:431)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrderList(QunarOrderServiceImpl.java:53)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrdersByDateRange(QunarOrderServiceImpl.java:78)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl.syncOrdersFromQunar(QunarOrderSyncServiceImpl.java:66)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:716)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl$$SpringCGLIB$$0.syncOrdersFromQunar(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 01:03:01.864 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderSyncServiceImpl - 去哪网订单查询失败: errCode=ERROR, errMsg=查询异常: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
2025-10-21 01:03:03.375 [http-nio-8080-exec-1] INFO  o.x.hotelpricecomparison.controller.AuthController - 收到登录请求: username=wzx
2025-10-21 01:03:03.375 [http-nio-8080-exec-1] INFO  o.x.h.service.impl.SysUserServiceImpl - 开始查询用户: username=wzx
2025-10-21 01:03:03.375 [http-nio-8080-exec-1] INFO  o.x.h.service.impl.SysUserServiceImpl - 查询条件: (username = #{ew.paramNameValuePairs.MPGENVAL1})
2025-10-21 01:03:03.376 [http-nio-8080-exec-1] DEBUG o.x.h.mapper.SysUserMapper.selectList - ==>  Preparing: SELECT id, username, password, email, phone, role FROM sys_user
2025-10-21 01:03:03.377 [http-nio-8080-exec-1] DEBUG o.x.h.mapper.SysUserMapper.selectList - ==> Parameters: 
2025-10-21 01:03:03.378 [http-nio-8080-exec-1] DEBUG o.x.h.mapper.SysUserMapper.selectList - <==      Total: 3
2025-10-21 01:03:03.379 [http-nio-8080-exec-1] INFO  o.x.h.service.impl.SysUserServiceImpl - 查询结果数量: 3
2025-10-21 01:03:03.379 [http-nio-8080-exec-1] INFO  o.x.h.service.impl.SysUserServiceImpl - 查询到的用户: admin
2025-10-21 01:03:03.379 [http-nio-8080-exec-1] INFO  o.x.h.service.impl.SysUserServiceImpl - 查询到的用户: user
2025-10-21 01:03:03.379 [http-nio-8080-exec-1] INFO  o.x.h.service.impl.SysUserServiceImpl - 查询到的用户: wzx
2025-10-21 01:03:03.379 [http-nio-8080-exec-1] INFO  o.x.h.service.impl.SysUserServiceImpl - 找到匹配的用户: wzx
2025-10-21 01:03:03.379 [http-nio-8080-exec-1] INFO  o.x.hotelpricecomparison.controller.AuthController - 找到用户: wzx
2025-10-21 01:03:04.130 [http-nio-8080-exec-1] INFO  o.x.hotelpricecomparison.controller.AuthController - 密码验证成功: wzx
2025-10-21 01:03:04.130 [http-nio-8080-exec-1] INFO  o.x.hotelpricecomparison.controller.AuthController - 用户登录成功: wzx
2025-10-21 01:03:30.831 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 开始同步去哪网订单...
2025-10-21 01:03:30.831 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 查询时间范围: fromDate=20251021005330, toDate=20251021010330
2025-10-21 01:03:30.831 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderServiceImpl - 开始查询去哪网订单列表: fromDate=20251021005330, toDate=20251021010330, version=3.7
2025-10-21 01:03:30.831 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 生成HMAC签名: data=your_sign_key20251021005330202510210103303.7, hmac=fbc4a0ca1bf8c8011f2f27752b50f5c7
2025-10-21 01:03:30.831 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 构建请求URL: https://2402add9-4b1a-450b-9bed-701d6679a21b.mock.pstmn.io/api.qunar.com/api/ota/otaQueryOrder?fromDate=20251021005330&toDate=20251021010330&version=3.7&hmac=fbc4a0ca1bf8c8011f2f27752b50f5c7
2025-10-21 01:03:31.886 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderServiceImpl - 查询去哪网订单列表异常
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:431)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrderList(QunarOrderServiceImpl.java:53)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrdersByDateRange(QunarOrderServiceImpl.java:78)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl.syncOrdersFromQunar(QunarOrderSyncServiceImpl.java:66)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:716)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl$$SpringCGLIB$$0.syncOrdersFromQunar(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 01:03:31.887 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderSyncServiceImpl - 去哪网订单查询失败: errCode=ERROR, errMsg=查询异常: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
2025-10-21 01:04:00.825 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 开始同步去哪网订单...
2025-10-21 01:04:00.826 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 查询时间范围: fromDate=20251021005400, toDate=20251021010400
2025-10-21 01:04:00.826 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderServiceImpl - 开始查询去哪网订单列表: fromDate=20251021005400, toDate=20251021010400, version=3.7
2025-10-21 01:04:00.826 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 生成HMAC签名: data=your_sign_key20251021005400202510210104003.7, hmac=4ba44afdd53235081a91296ca3e8021c
2025-10-21 01:04:00.826 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 构建请求URL: https://2402add9-4b1a-450b-9bed-701d6679a21b.mock.pstmn.io/api.qunar.com/api/ota/otaQueryOrder?fromDate=20251021005400&toDate=20251021010400&version=3.7&hmac=4ba44afdd53235081a91296ca3e8021c
2025-10-21 01:04:01.759 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderServiceImpl - 查询去哪网订单列表异常
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:431)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrderList(QunarOrderServiceImpl.java:53)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrdersByDateRange(QunarOrderServiceImpl.java:78)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl.syncOrdersFromQunar(QunarOrderSyncServiceImpl.java:66)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:716)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl$$SpringCGLIB$$0.syncOrdersFromQunar(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 01:04:01.760 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderSyncServiceImpl - 去哪网订单查询失败: errCode=ERROR, errMsg=查询异常: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
2025-10-21 01:04:30.828 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 开始同步去哪网订单...
2025-10-21 01:04:30.828 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 查询时间范围: fromDate=20251021005430, toDate=20251021010430
2025-10-21 01:04:30.828 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderServiceImpl - 开始查询去哪网订单列表: fromDate=20251021005430, toDate=20251021010430, version=3.7
2025-10-21 01:04:30.828 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 生成HMAC签名: data=your_sign_key20251021005430202510210104303.7, hmac=018de0ddb3d2b4281212b2dcaeeb5d5e
2025-10-21 01:04:30.828 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 构建请求URL: https://2402add9-4b1a-450b-9bed-701d6679a21b.mock.pstmn.io/api.qunar.com/api/ota/otaQueryOrder?fromDate=20251021005430&toDate=20251021010430&version=3.7&hmac=018de0ddb3d2b4281212b2dcaeeb5d5e
2025-10-21 01:04:31.778 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderServiceImpl - 查询去哪网订单列表异常
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:431)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrderList(QunarOrderServiceImpl.java:53)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrdersByDateRange(QunarOrderServiceImpl.java:78)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl.syncOrdersFromQunar(QunarOrderSyncServiceImpl.java:66)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:716)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl$$SpringCGLIB$$0.syncOrdersFromQunar(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 01:04:31.781 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderSyncServiceImpl - 去哪网订单查询失败: errCode=ERROR, errMsg=查询异常: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
2025-10-21 01:05:00.817 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 开始同步去哪网订单...
2025-10-21 01:05:00.817 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 查询时间范围: fromDate=20251021005500, toDate=20251021010500
2025-10-21 01:05:00.817 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderServiceImpl - 开始查询去哪网订单列表: fromDate=20251021005500, toDate=20251021010500, version=3.7
2025-10-21 01:05:00.817 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 生成HMAC签名: data=your_sign_key20251021005500202510210105003.7, hmac=532ce90a55c0b98202ee1cd704c6d711
2025-10-21 01:05:00.817 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 构建请求URL: https://2402add9-4b1a-450b-9bed-701d6679a21b.mock.pstmn.io/api.qunar.com/api/ota/otaQueryOrder?fromDate=20251021005500&toDate=20251021010500&version=3.7&hmac=532ce90a55c0b98202ee1cd704c6d711
2025-10-21 01:05:01.426 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderServiceImpl - 查询去哪网订单列表异常
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:431)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrderList(QunarOrderServiceImpl.java:53)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrdersByDateRange(QunarOrderServiceImpl.java:78)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl.syncOrdersFromQunar(QunarOrderSyncServiceImpl.java:66)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:716)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl$$SpringCGLIB$$0.syncOrdersFromQunar(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 01:05:01.428 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderSyncServiceImpl - 去哪网订单查询失败: errCode=ERROR, errMsg=查询异常: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
2025-10-21 01:05:30.819 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 开始同步去哪网订单...
2025-10-21 01:05:30.821 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 查询时间范围: fromDate=20251021005530, toDate=20251021010530
2025-10-21 01:05:30.821 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderServiceImpl - 开始查询去哪网订单列表: fromDate=20251021005530, toDate=20251021010530, version=3.7
2025-10-21 01:05:30.821 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 生成HMAC签名: data=your_sign_key20251021005530202510210105303.7, hmac=2a0fdaa9beee847aaba9904204179e86
2025-10-21 01:05:30.822 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 构建请求URL: https://2402add9-4b1a-450b-9bed-701d6679a21b.mock.pstmn.io/api.qunar.com/api/ota/otaQueryOrder?fromDate=20251021005530&toDate=20251021010530&version=3.7&hmac=2a0fdaa9beee847aaba9904204179e86
2025-10-21 01:05:31.349 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderServiceImpl - 查询去哪网订单列表异常
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:431)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrderList(QunarOrderServiceImpl.java:53)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrdersByDateRange(QunarOrderServiceImpl.java:78)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl.syncOrdersFromQunar(QunarOrderSyncServiceImpl.java:66)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:716)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl$$SpringCGLIB$$0.syncOrdersFromQunar(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 01:05:31.350 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderSyncServiceImpl - 去哪网订单查询失败: errCode=ERROR, errMsg=查询异常: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
2025-10-21 01:06:00.826 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 开始同步去哪网订单...
2025-10-21 01:06:00.826 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 查询时间范围: fromDate=20251021005600, toDate=20251021010600
2025-10-21 01:06:00.826 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderServiceImpl - 开始查询去哪网订单列表: fromDate=20251021005600, toDate=20251021010600, version=3.7
2025-10-21 01:06:00.826 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 生成HMAC签名: data=your_sign_key20251021005600202510210106003.7, hmac=b80636ed9eda8730769323ac8fa451f5
2025-10-21 01:06:00.826 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 构建请求URL: https://2402add9-4b1a-450b-9bed-701d6679a21b.mock.pstmn.io/api.qunar.com/api/ota/otaQueryOrder?fromDate=20251021005600&toDate=20251021010600&version=3.7&hmac=b80636ed9eda8730769323ac8fa451f5
2025-10-21 01:06:01.768 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderServiceImpl - 查询去哪网订单列表异常
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:431)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrderList(QunarOrderServiceImpl.java:53)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrdersByDateRange(QunarOrderServiceImpl.java:78)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl.syncOrdersFromQunar(QunarOrderSyncServiceImpl.java:66)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:716)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl$$SpringCGLIB$$0.syncOrdersFromQunar(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 01:06:01.769 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderSyncServiceImpl - 去哪网订单查询失败: errCode=ERROR, errMsg=查询异常: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
2025-10-21 01:06:30.828 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 开始同步去哪网订单...
2025-10-21 01:06:30.828 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 查询时间范围: fromDate=20251021005630, toDate=20251021010630
2025-10-21 01:06:30.828 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderServiceImpl - 开始查询去哪网订单列表: fromDate=20251021005630, toDate=20251021010630, version=3.7
2025-10-21 01:06:30.828 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 生成HMAC签名: data=your_sign_key20251021005630202510210106303.7, hmac=a25951a7a37eefdc2997ab33499fe3d7
2025-10-21 01:06:30.829 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 构建请求URL: https://2402add9-4b1a-450b-9bed-701d6679a21b.mock.pstmn.io/api.qunar.com/api/ota/otaQueryOrder?fromDate=20251021005630&toDate=20251021010630&version=3.7&hmac=a25951a7a37eefdc2997ab33499fe3d7
2025-10-21 01:06:31.293 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderServiceImpl - 查询去哪网订单列表异常
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:431)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrderList(QunarOrderServiceImpl.java:53)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrdersByDateRange(QunarOrderServiceImpl.java:78)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl.syncOrdersFromQunar(QunarOrderSyncServiceImpl.java:66)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:716)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl$$SpringCGLIB$$0.syncOrdersFromQunar(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 01:06:31.295 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderSyncServiceImpl - 去哪网订单查询失败: errCode=ERROR, errMsg=查询异常: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
2025-10-21 01:07:00.822 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 开始同步去哪网订单...
2025-10-21 01:07:00.822 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 查询时间范围: fromDate=20251021005700, toDate=20251021010700
2025-10-21 01:07:00.822 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderServiceImpl - 开始查询去哪网订单列表: fromDate=20251021005700, toDate=20251021010700, version=3.7
2025-10-21 01:07:00.822 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 生成HMAC签名: data=your_sign_key20251021005700202510210107003.7, hmac=d208dc81e8833ca945f6bde0adcf7bb9
2025-10-21 01:07:00.822 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 构建请求URL: https://2402add9-4b1a-450b-9bed-701d6679a21b.mock.pstmn.io/api.qunar.com/api/ota/otaQueryOrder?fromDate=20251021005700&toDate=20251021010700&version=3.7&hmac=d208dc81e8833ca945f6bde0adcf7bb9
2025-10-21 01:07:01.807 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderServiceImpl - 查询去哪网订单列表异常
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:431)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrderList(QunarOrderServiceImpl.java:53)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrdersByDateRange(QunarOrderServiceImpl.java:78)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl.syncOrdersFromQunar(QunarOrderSyncServiceImpl.java:66)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:716)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl$$SpringCGLIB$$0.syncOrdersFromQunar(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 01:07:01.807 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderSyncServiceImpl - 去哪网订单查询失败: errCode=ERROR, errMsg=查询异常: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
2025-10-21 01:07:30.826 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 开始同步去哪网订单...
2025-10-21 01:07:30.826 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 查询时间范围: fromDate=20251021005730, toDate=20251021010730
2025-10-21 01:07:30.826 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderServiceImpl - 开始查询去哪网订单列表: fromDate=20251021005730, toDate=20251021010730, version=3.7
2025-10-21 01:07:30.826 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 生成HMAC签名: data=your_sign_key20251021005730202510210107303.7, hmac=3424e6756f49a902aed7750d064478d4
2025-10-21 01:07:30.826 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 构建请求URL: https://2402add9-4b1a-450b-9bed-701d6679a21b.mock.pstmn.io/api.qunar.com/api/ota/otaQueryOrder?fromDate=20251021005730&toDate=20251021010730&version=3.7&hmac=3424e6756f49a902aed7750d064478d4
2025-10-21 01:07:32.083 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderServiceImpl - 查询去哪网订单列表异常
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:431)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrderList(QunarOrderServiceImpl.java:53)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrdersByDateRange(QunarOrderServiceImpl.java:78)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl.syncOrdersFromQunar(QunarOrderSyncServiceImpl.java:66)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:716)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl$$SpringCGLIB$$0.syncOrdersFromQunar(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 01:07:32.084 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderSyncServiceImpl - 去哪网订单查询失败: errCode=ERROR, errMsg=查询异常: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
2025-10-21 01:08:00.832 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 开始同步去哪网订单...
2025-10-21 01:08:00.832 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 查询时间范围: fromDate=20251021005800, toDate=20251021010800
2025-10-21 01:08:00.832 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderServiceImpl - 开始查询去哪网订单列表: fromDate=20251021005800, toDate=20251021010800, version=3.7
2025-10-21 01:08:00.832 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 生成HMAC签名: data=your_sign_key20251021005800202510210108003.7, hmac=4f959ef9899155f7815fb69b19d1ae00
2025-10-21 01:08:00.832 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 构建请求URL: https://2402add9-4b1a-450b-9bed-701d6679a21b.mock.pstmn.io/api.qunar.com/api/ota/otaQueryOrder?fromDate=20251021005800&toDate=20251021010800&version=3.7&hmac=4f959ef9899155f7815fb69b19d1ae00
2025-10-21 01:08:01.770 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderServiceImpl - 查询去哪网订单列表异常
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:431)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrderList(QunarOrderServiceImpl.java:53)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrdersByDateRange(QunarOrderServiceImpl.java:78)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl.syncOrdersFromQunar(QunarOrderSyncServiceImpl.java:66)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:716)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl$$SpringCGLIB$$0.syncOrdersFromQunar(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 01:08:01.771 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderSyncServiceImpl - 去哪网订单查询失败: errCode=ERROR, errMsg=查询异常: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
2025-10-21 01:08:30.821 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 开始同步去哪网订单...
2025-10-21 01:08:30.821 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 查询时间范围: fromDate=20251021005830, toDate=20251021010830
2025-10-21 01:08:30.821 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderServiceImpl - 开始查询去哪网订单列表: fromDate=20251021005830, toDate=20251021010830, version=3.7
2025-10-21 01:08:30.821 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 生成HMAC签名: data=your_sign_key20251021005830202510210108303.7, hmac=4aa4e54f34c35c311e61900c36140df1
2025-10-21 01:08:30.822 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 构建请求URL: https://2402add9-4b1a-450b-9bed-701d6679a21b.mock.pstmn.io/api.qunar.com/api/ota/otaQueryOrder?fromDate=20251021005830&toDate=20251021010830&version=3.7&hmac=4aa4e54f34c35c311e61900c36140df1
2025-10-21 01:08:31.289 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderServiceImpl - 查询去哪网订单列表异常
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:431)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrderList(QunarOrderServiceImpl.java:53)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrdersByDateRange(QunarOrderServiceImpl.java:78)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl.syncOrdersFromQunar(QunarOrderSyncServiceImpl.java:66)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:716)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl$$SpringCGLIB$$0.syncOrdersFromQunar(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 01:08:31.292 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderSyncServiceImpl - 去哪网订单查询失败: errCode=ERROR, errMsg=查询异常: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
2025-10-21 01:09:00.828 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 开始同步去哪网订单...
2025-10-21 01:09:00.828 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 查询时间范围: fromDate=20251021005900, toDate=20251021010900
2025-10-21 01:09:00.828 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderServiceImpl - 开始查询去哪网订单列表: fromDate=20251021005900, toDate=20251021010900, version=3.7
2025-10-21 01:09:00.828 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 生成HMAC签名: data=your_sign_key20251021005900202510210109003.7, hmac=a3a8698b50742208c22080681f99979b
2025-10-21 01:09:00.828 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 构建请求URL: https://2402add9-4b1a-450b-9bed-701d6679a21b.mock.pstmn.io/api.qunar.com/api/ota/otaQueryOrder?fromDate=20251021005900&toDate=20251021010900&version=3.7&hmac=a3a8698b50742208c22080681f99979b
2025-10-21 01:09:01.300 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderServiceImpl - 查询去哪网订单列表异常
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:431)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrderList(QunarOrderServiceImpl.java:53)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrdersByDateRange(QunarOrderServiceImpl.java:78)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl.syncOrdersFromQunar(QunarOrderSyncServiceImpl.java:66)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:716)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl$$SpringCGLIB$$0.syncOrdersFromQunar(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 01:09:01.304 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderSyncServiceImpl - 去哪网订单查询失败: errCode=ERROR, errMsg=查询异常: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
2025-10-21 01:09:30.819 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 开始同步去哪网订单...
2025-10-21 01:09:30.819 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 查询时间范围: fromDate=20251021005930, toDate=20251021010930
2025-10-21 01:09:30.819 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderServiceImpl - 开始查询去哪网订单列表: fromDate=20251021005930, toDate=20251021010930, version=3.7
2025-10-21 01:09:30.819 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 生成HMAC签名: data=your_sign_key20251021005930202510210109303.7, hmac=321236c4a024d76107e5686b072239a6
2025-10-21 01:09:30.819 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 构建请求URL: https://2402add9-4b1a-450b-9bed-701d6679a21b.mock.pstmn.io/api.qunar.com/api/ota/otaQueryOrder?fromDate=20251021005930&toDate=20251021010930&version=3.7&hmac=321236c4a024d76107e5686b072239a6
2025-10-21 01:09:31.261 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderServiceImpl - 查询去哪网订单列表异常
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:431)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrderList(QunarOrderServiceImpl.java:53)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrdersByDateRange(QunarOrderServiceImpl.java:78)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl.syncOrdersFromQunar(QunarOrderSyncServiceImpl.java:66)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:716)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl$$SpringCGLIB$$0.syncOrdersFromQunar(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 01:09:31.263 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderSyncServiceImpl - 去哪网订单查询失败: errCode=ERROR, errMsg=查询异常: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
2025-10-21 01:10:00.818 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 开始同步去哪网订单...
2025-10-21 01:10:00.818 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 查询时间范围: fromDate=20251021010000, toDate=20251021011000
2025-10-21 01:10:00.818 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderServiceImpl - 开始查询去哪网订单列表: fromDate=20251021010000, toDate=20251021011000, version=3.7
2025-10-21 01:10:00.818 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 生成HMAC签名: data=your_sign_key20251021010000202510210110003.7, hmac=36e183f19729c7e9dd58d669d0d40dfc
2025-10-21 01:10:00.818 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 构建请求URL: https://2402add9-4b1a-450b-9bed-701d6679a21b.mock.pstmn.io/api.qunar.com/api/ota/otaQueryOrder?fromDate=20251021010000&toDate=20251021011000&version=3.7&hmac=36e183f19729c7e9dd58d669d0d40dfc
2025-10-21 01:10:01.268 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderServiceImpl - 查询去哪网订单列表异常
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:431)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrderList(QunarOrderServiceImpl.java:53)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrdersByDateRange(QunarOrderServiceImpl.java:78)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl.syncOrdersFromQunar(QunarOrderSyncServiceImpl.java:66)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:716)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl$$SpringCGLIB$$0.syncOrdersFromQunar(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 01:10:01.269 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderSyncServiceImpl - 去哪网订单查询失败: errCode=ERROR, errMsg=查询异常: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
2025-10-21 01:10:30.829 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 开始同步去哪网订单...
2025-10-21 01:10:30.829 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 查询时间范围: fromDate=20251021010030, toDate=20251021011030
2025-10-21 01:10:30.829 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderServiceImpl - 开始查询去哪网订单列表: fromDate=20251021010030, toDate=20251021011030, version=3.7
2025-10-21 01:10:30.829 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 生成HMAC签名: data=your_sign_key20251021010030202510210110303.7, hmac=2e7a968eabf40bb428566d9e2dc81d55
2025-10-21 01:10:30.829 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 构建请求URL: https://2402add9-4b1a-450b-9bed-701d6679a21b.mock.pstmn.io/api.qunar.com/api/ota/otaQueryOrder?fromDate=20251021010030&toDate=20251021011030&version=3.7&hmac=2e7a968eabf40bb428566d9e2dc81d55
2025-10-21 01:10:31.319 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderServiceImpl - 查询去哪网订单列表异常
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:431)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrderList(QunarOrderServiceImpl.java:53)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrdersByDateRange(QunarOrderServiceImpl.java:78)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl.syncOrdersFromQunar(QunarOrderSyncServiceImpl.java:66)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:716)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl$$SpringCGLIB$$0.syncOrdersFromQunar(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 01:10:31.319 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderSyncServiceImpl - 去哪网订单查询失败: errCode=ERROR, errMsg=查询异常: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
2025-10-21 01:10:33.825 [http-nio-8080-exec-3] INFO  o.x.hotelpricecomparison.controller.AuthController - 收到登录请求: username=wzx
2025-10-21 01:10:33.825 [http-nio-8080-exec-3] INFO  o.x.h.service.impl.SysUserServiceImpl - 开始查询用户: username=wzx
2025-10-21 01:10:33.825 [http-nio-8080-exec-3] INFO  o.x.h.service.impl.SysUserServiceImpl - 查询条件: (username = #{ew.paramNameValuePairs.MPGENVAL1})
2025-10-21 01:10:33.827 [http-nio-8080-exec-3] DEBUG o.x.h.mapper.SysUserMapper.selectList - ==>  Preparing: SELECT id, username, password, email, phone, role FROM sys_user
2025-10-21 01:10:33.827 [http-nio-8080-exec-3] DEBUG o.x.h.mapper.SysUserMapper.selectList - ==> Parameters: 
2025-10-21 01:10:33.829 [http-nio-8080-exec-3] DEBUG o.x.h.mapper.SysUserMapper.selectList - <==      Total: 3
2025-10-21 01:10:33.830 [http-nio-8080-exec-3] INFO  o.x.h.service.impl.SysUserServiceImpl - 查询结果数量: 3
2025-10-21 01:10:33.830 [http-nio-8080-exec-3] INFO  o.x.h.service.impl.SysUserServiceImpl - 查询到的用户: admin
2025-10-21 01:10:33.830 [http-nio-8080-exec-3] INFO  o.x.h.service.impl.SysUserServiceImpl - 查询到的用户: user
2025-10-21 01:10:33.830 [http-nio-8080-exec-3] INFO  o.x.h.service.impl.SysUserServiceImpl - 查询到的用户: wzx
2025-10-21 01:10:33.830 [http-nio-8080-exec-3] INFO  o.x.h.service.impl.SysUserServiceImpl - 找到匹配的用户: wzx
2025-10-21 01:10:33.830 [http-nio-8080-exec-3] INFO  o.x.hotelpricecomparison.controller.AuthController - 找到用户: wzx
2025-10-21 01:10:34.344 [http-nio-8080-exec-3] INFO  o.x.hotelpricecomparison.controller.AuthController - 密码验证成功: wzx
2025-10-21 01:10:34.344 [http-nio-8080-exec-3] INFO  o.x.hotelpricecomparison.controller.AuthController - 用户登录成功: wzx
2025-10-21 01:11:00.826 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 开始同步去哪网订单...
2025-10-21 01:11:00.826 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 查询时间范围: fromDate=20251021010100, toDate=20251021011100
2025-10-21 01:11:00.826 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderServiceImpl - 开始查询去哪网订单列表: fromDate=20251021010100, toDate=20251021011100, version=3.7
2025-10-21 01:11:00.826 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 生成HMAC签名: data=your_sign_key20251021010100202510210111003.7, hmac=469fb4a656d734ba0a0e8917489b06b8
2025-10-21 01:11:00.826 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 构建请求URL: https://2402add9-4b1a-450b-9bed-701d6679a21b.mock.pstmn.io/api.qunar.com/api/ota/otaQueryOrder?fromDate=20251021010100&toDate=20251021011100&version=3.7&hmac=469fb4a656d734ba0a0e8917489b06b8
2025-10-21 01:11:01.270 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderServiceImpl - 查询去哪网订单列表异常
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:431)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrderList(QunarOrderServiceImpl.java:53)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrdersByDateRange(QunarOrderServiceImpl.java:78)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl.syncOrdersFromQunar(QunarOrderSyncServiceImpl.java:66)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:716)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl$$SpringCGLIB$$0.syncOrdersFromQunar(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 01:11:01.273 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderSyncServiceImpl - 去哪网订单查询失败: errCode=ERROR, errMsg=查询异常: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
2025-10-21 01:11:30.817 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 开始同步去哪网订单...
2025-10-21 01:11:30.817 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 查询时间范围: fromDate=20251021010130, toDate=20251021011130
2025-10-21 01:11:30.818 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderServiceImpl - 开始查询去哪网订单列表: fromDate=20251021010130, toDate=20251021011130, version=3.7
2025-10-21 01:11:30.818 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 生成HMAC签名: data=your_sign_key20251021010130202510210111303.7, hmac=2265fe99fdf0c815fe7bbee2fa432c10
2025-10-21 01:11:30.818 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 构建请求URL: https://2402add9-4b1a-450b-9bed-701d6679a21b.mock.pstmn.io/api.qunar.com/api/ota/otaQueryOrder?fromDate=20251021010130&toDate=20251021011130&version=3.7&hmac=2265fe99fdf0c815fe7bbee2fa432c10
2025-10-21 01:11:31.843 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderServiceImpl - 查询去哪网订单列表异常
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:431)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrderList(QunarOrderServiceImpl.java:53)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrdersByDateRange(QunarOrderServiceImpl.java:78)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl.syncOrdersFromQunar(QunarOrderSyncServiceImpl.java:66)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:716)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl$$SpringCGLIB$$0.syncOrdersFromQunar(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 01:11:31.844 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderSyncServiceImpl - 去哪网订单查询失败: errCode=ERROR, errMsg=查询异常: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
2025-10-21 01:12:00.825 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 开始同步去哪网订单...
2025-10-21 01:12:00.825 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 查询时间范围: fromDate=20251021010200, toDate=20251021011200
2025-10-21 01:12:00.825 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderServiceImpl - 开始查询去哪网订单列表: fromDate=20251021010200, toDate=20251021011200, version=3.7
2025-10-21 01:12:00.825 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 生成HMAC签名: data=your_sign_key20251021010200202510210112003.7, hmac=8376263c76b779e8066bc746a7fa4ed9
2025-10-21 01:12:00.825 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 构建请求URL: https://2402add9-4b1a-450b-9bed-701d6679a21b.mock.pstmn.io/api.qunar.com/api/ota/otaQueryOrder?fromDate=20251021010200&toDate=20251021011200&version=3.7&hmac=8376263c76b779e8066bc746a7fa4ed9
2025-10-21 01:12:01.782 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderServiceImpl - 查询去哪网订单列表异常
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:431)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrderList(QunarOrderServiceImpl.java:53)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrdersByDateRange(QunarOrderServiceImpl.java:78)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl.syncOrdersFromQunar(QunarOrderSyncServiceImpl.java:66)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:716)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl$$SpringCGLIB$$0.syncOrdersFromQunar(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 01:12:01.785 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderSyncServiceImpl - 去哪网订单查询失败: errCode=ERROR, errMsg=查询异常: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
2025-10-21 01:12:30.829 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 开始同步去哪网订单...
2025-10-21 01:12:30.829 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 查询时间范围: fromDate=20251021010230, toDate=20251021011230
2025-10-21 01:12:30.829 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderServiceImpl - 开始查询去哪网订单列表: fromDate=20251021010230, toDate=20251021011230, version=3.7
2025-10-21 01:12:30.829 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 生成HMAC签名: data=your_sign_key20251021010230202510210112303.7, hmac=723d80773170574f1cc80fd688b67d82
2025-10-21 01:12:30.829 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 构建请求URL: https://2402add9-4b1a-450b-9bed-701d6679a21b.mock.pstmn.io/api.qunar.com/api/ota/otaQueryOrder?fromDate=20251021010230&toDate=20251021011230&version=3.7&hmac=723d80773170574f1cc80fd688b67d82
2025-10-21 01:12:31.815 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderServiceImpl - 查询去哪网订单列表异常
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:431)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrderList(QunarOrderServiceImpl.java:53)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrdersByDateRange(QunarOrderServiceImpl.java:78)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl.syncOrdersFromQunar(QunarOrderSyncServiceImpl.java:66)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:716)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl$$SpringCGLIB$$0.syncOrdersFromQunar(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 01:12:31.816 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderSyncServiceImpl - 去哪网订单查询失败: errCode=ERROR, errMsg=查询异常: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
2025-10-21 01:13:00.817 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 开始同步去哪网订单...
2025-10-21 01:13:00.817 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 查询时间范围: fromDate=20251021010300, toDate=20251021011300
2025-10-21 01:13:00.817 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderServiceImpl - 开始查询去哪网订单列表: fromDate=20251021010300, toDate=20251021011300, version=3.7
2025-10-21 01:13:00.817 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 生成HMAC签名: data=your_sign_key20251021010300202510210113003.7, hmac=1cbb742815be4703cc5e8d3b70219db0
2025-10-21 01:13:00.818 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 构建请求URL: https://2402add9-4b1a-450b-9bed-701d6679a21b.mock.pstmn.io/api.qunar.com/api/ota/otaQueryOrder?fromDate=20251021010300&toDate=20251021011300&version=3.7&hmac=1cbb742815be4703cc5e8d3b70219db0
2025-10-21 01:13:01.797 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderServiceImpl - 查询去哪网订单列表异常
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:431)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrderList(QunarOrderServiceImpl.java:53)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrdersByDateRange(QunarOrderServiceImpl.java:78)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl.syncOrdersFromQunar(QunarOrderSyncServiceImpl.java:66)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:716)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl$$SpringCGLIB$$0.syncOrdersFromQunar(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 01:13:01.801 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderSyncServiceImpl - 去哪网订单查询失败: errCode=ERROR, errMsg=查询异常: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
2025-10-21 01:13:30.832 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 开始同步去哪网订单...
2025-10-21 01:13:30.832 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 查询时间范围: fromDate=20251021010330, toDate=20251021011330
2025-10-21 01:13:30.832 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderServiceImpl - 开始查询去哪网订单列表: fromDate=20251021010330, toDate=20251021011330, version=3.7
2025-10-21 01:13:30.832 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 生成HMAC签名: data=your_sign_key20251021010330202510210113303.7, hmac=bcdbf28c37514c846f36b0f98dc42d93
2025-10-21 01:13:30.832 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 构建请求URL: https://2402add9-4b1a-450b-9bed-701d6679a21b.mock.pstmn.io/api.qunar.com/api/ota/otaQueryOrder?fromDate=20251021010330&toDate=20251021011330&version=3.7&hmac=bcdbf28c37514c846f36b0f98dc42d93
2025-10-21 01:13:31.794 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderServiceImpl - 查询去哪网订单列表异常
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:431)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrderList(QunarOrderServiceImpl.java:53)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrdersByDateRange(QunarOrderServiceImpl.java:78)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl.syncOrdersFromQunar(QunarOrderSyncServiceImpl.java:66)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:716)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl$$SpringCGLIB$$0.syncOrdersFromQunar(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 01:13:31.796 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderSyncServiceImpl - 去哪网订单查询失败: errCode=ERROR, errMsg=查询异常: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
2025-10-21 01:14:00.818 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 开始同步去哪网订单...
2025-10-21 01:14:00.818 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 查询时间范围: fromDate=20251021010400, toDate=20251021011400
2025-10-21 01:14:00.818 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderServiceImpl - 开始查询去哪网订单列表: fromDate=20251021010400, toDate=20251021011400, version=3.7
2025-10-21 01:14:00.818 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 生成HMAC签名: data=your_sign_key20251021010400202510210114003.7, hmac=7c6679afd3a841b15b98221afd6a8c42
2025-10-21 01:14:00.820 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 构建请求URL: https://2402add9-4b1a-450b-9bed-701d6679a21b.mock.pstmn.io/api.qunar.com/api/ota/otaQueryOrder?fromDate=20251021010400&toDate=20251021011400&version=3.7&hmac=7c6679afd3a841b15b98221afd6a8c42
2025-10-21 01:14:01.780 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderServiceImpl - 查询去哪网订单列表异常
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:431)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrderList(QunarOrderServiceImpl.java:53)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrdersByDateRange(QunarOrderServiceImpl.java:78)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl.syncOrdersFromQunar(QunarOrderSyncServiceImpl.java:66)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:716)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl$$SpringCGLIB$$0.syncOrdersFromQunar(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 01:14:01.782 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderSyncServiceImpl - 去哪网订单查询失败: errCode=ERROR, errMsg=查询异常: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
2025-10-21 01:14:04.316 [http-nio-8080-exec-6] INFO  o.x.h.controller.DistributorController - 获取活跃的供应方列表
2025-10-21 01:14:04.316 [http-nio-8080-exec-6] INFO  o.x.h.service.impl.DistributorServiceImpl - 获取活跃的分销方列表
2025-10-21 01:14:04.319 [http-nio-8080-exec-6] DEBUG o.x.h.mapper.DistributorMapper.selectList - ==>  Preparing: SELECT id,distributor_code,distributor_name,distributor_type,api_base_url,status,distributor_specific_data,created_at,updated_at FROM distributors WHERE (status = ?)
2025-10-21 01:14:04.320 [http-nio-8080-exec-6] DEBUG o.x.h.mapper.DistributorMapper.selectList - ==> Parameters: 1(Integer)
2025-10-21 01:14:04.346 [http-nio-8080-exec-6] DEBUG o.x.h.mapper.DistributorMapper.selectList - <==      Total: 3
2025-10-21 01:14:04.347 [http-nio-8080-exec-6] INFO  o.x.h.service.impl.DistributorServiceImpl - 获取到 3 个活跃的分销方
2025-10-21 01:14:30.816 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 开始同步去哪网订单...
2025-10-21 01:14:30.816 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 查询时间范围: fromDate=20251021010430, toDate=20251021011430
2025-10-21 01:14:30.816 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderServiceImpl - 开始查询去哪网订单列表: fromDate=20251021010430, toDate=20251021011430, version=3.7
2025-10-21 01:14:30.816 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 生成HMAC签名: data=your_sign_key20251021010430202510210114303.7, hmac=3aec900f9443a838b8d702cf6acdf3b1
2025-10-21 01:14:30.816 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 构建请求URL: https://2402add9-4b1a-450b-9bed-701d6679a21b.mock.pstmn.io/api.qunar.com/api/ota/otaQueryOrder?fromDate=20251021010430&toDate=20251021011430&version=3.7&hmac=3aec900f9443a838b8d702cf6acdf3b1
2025-10-21 01:14:31.281 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderServiceImpl - 查询去哪网订单列表异常
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:431)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrderList(QunarOrderServiceImpl.java:53)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrdersByDateRange(QunarOrderServiceImpl.java:78)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl.syncOrdersFromQunar(QunarOrderSyncServiceImpl.java:66)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:716)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl$$SpringCGLIB$$0.syncOrdersFromQunar(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 01:14:31.283 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderSyncServiceImpl - 去哪网订单查询失败: errCode=ERROR, errMsg=查询异常: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
2025-10-21 01:14:36.069 [http-nio-8080-exec-8] INFO  o.x.hotelpricecomparison.controller.AuthController - 收到登录请求: username=wzx
2025-10-21 01:14:36.070 [http-nio-8080-exec-8] INFO  o.x.h.service.impl.SysUserServiceImpl - 开始查询用户: username=wzx
2025-10-21 01:14:36.070 [http-nio-8080-exec-8] INFO  o.x.h.service.impl.SysUserServiceImpl - 查询条件: (username = #{ew.paramNameValuePairs.MPGENVAL1})
2025-10-21 01:14:36.071 [http-nio-8080-exec-8] DEBUG o.x.h.mapper.SysUserMapper.selectList - ==>  Preparing: SELECT id, username, password, email, phone, role FROM sys_user
2025-10-21 01:14:36.071 [http-nio-8080-exec-8] DEBUG o.x.h.mapper.SysUserMapper.selectList - ==> Parameters: 
2025-10-21 01:14:36.072 [http-nio-8080-exec-8] DEBUG o.x.h.mapper.SysUserMapper.selectList - <==      Total: 3
2025-10-21 01:14:36.072 [http-nio-8080-exec-8] INFO  o.x.h.service.impl.SysUserServiceImpl - 查询结果数量: 3
2025-10-21 01:14:36.072 [http-nio-8080-exec-8] INFO  o.x.h.service.impl.SysUserServiceImpl - 查询到的用户: admin
2025-10-21 01:14:36.072 [http-nio-8080-exec-8] INFO  o.x.h.service.impl.SysUserServiceImpl - 查询到的用户: user
2025-10-21 01:14:36.072 [http-nio-8080-exec-8] INFO  o.x.h.service.impl.SysUserServiceImpl - 查询到的用户: wzx
2025-10-21 01:14:36.072 [http-nio-8080-exec-8] INFO  o.x.h.service.impl.SysUserServiceImpl - 找到匹配的用户: wzx
2025-10-21 01:14:36.073 [http-nio-8080-exec-8] INFO  o.x.hotelpricecomparison.controller.AuthController - 找到用户: wzx
2025-10-21 01:14:36.475 [http-nio-8080-exec-8] INFO  o.x.hotelpricecomparison.controller.AuthController - 密码验证成功: wzx
2025-10-21 01:14:36.475 [http-nio-8080-exec-8] INFO  o.x.hotelpricecomparison.controller.AuthController - 用户登录成功: wzx
2025-10-21 01:15:00.826 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 开始同步去哪网订单...
2025-10-21 01:15:00.826 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 查询时间范围: fromDate=20251021010500, toDate=20251021011500
2025-10-21 01:15:00.826 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderServiceImpl - 开始查询去哪网订单列表: fromDate=20251021010500, toDate=20251021011500, version=3.7
2025-10-21 01:15:00.826 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 生成HMAC签名: data=your_sign_key20251021010500202510210115003.7, hmac=cc59d311129e91d01352a7d7be4ed249
2025-10-21 01:15:00.826 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 构建请求URL: https://2402add9-4b1a-450b-9bed-701d6679a21b.mock.pstmn.io/api.qunar.com/api/ota/otaQueryOrder?fromDate=20251021010500&toDate=20251021011500&version=3.7&hmac=cc59d311129e91d01352a7d7be4ed249
2025-10-21 01:15:01.271 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderServiceImpl - 查询去哪网订单列表异常
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:431)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrderList(QunarOrderServiceImpl.java:53)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrdersByDateRange(QunarOrderServiceImpl.java:78)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl.syncOrdersFromQunar(QunarOrderSyncServiceImpl.java:66)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:716)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl$$SpringCGLIB$$0.syncOrdersFromQunar(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 01:15:01.273 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderSyncServiceImpl - 去哪网订单查询失败: errCode=ERROR, errMsg=查询异常: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
2025-10-21 01:15:30.830 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 开始同步去哪网订单...
2025-10-21 01:15:30.830 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 查询时间范围: fromDate=20251021010530, toDate=20251021011530
2025-10-21 01:15:30.830 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderServiceImpl - 开始查询去哪网订单列表: fromDate=20251021010530, toDate=20251021011530, version=3.7
2025-10-21 01:15:30.830 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 生成HMAC签名: data=your_sign_key20251021010530202510210115303.7, hmac=32b9104b207d05f13c22ad0340bdf60a
2025-10-21 01:15:30.830 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 构建请求URL: https://2402add9-4b1a-450b-9bed-701d6679a21b.mock.pstmn.io/api.qunar.com/api/ota/otaQueryOrder?fromDate=20251021010530&toDate=20251021011530&version=3.7&hmac=32b9104b207d05f13c22ad0340bdf60a
2025-10-21 01:15:31.813 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderServiceImpl - 查询去哪网订单列表异常
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:431)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrderList(QunarOrderServiceImpl.java:53)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrdersByDateRange(QunarOrderServiceImpl.java:78)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl.syncOrdersFromQunar(QunarOrderSyncServiceImpl.java:66)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:716)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl$$SpringCGLIB$$0.syncOrdersFromQunar(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 01:15:31.813 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderSyncServiceImpl - 去哪网订单查询失败: errCode=ERROR, errMsg=查询异常: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
2025-10-21 01:16:00.826 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 开始同步去哪网订单...
2025-10-21 01:16:00.826 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 查询时间范围: fromDate=20251021010600, toDate=20251021011600
2025-10-21 01:16:00.826 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderServiceImpl - 开始查询去哪网订单列表: fromDate=20251021010600, toDate=20251021011600, version=3.7
2025-10-21 01:16:00.826 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 生成HMAC签名: data=your_sign_key20251021010600202510210116003.7, hmac=0e8ba0a1ec31ee142c18f75e0c53c290
2025-10-21 01:16:00.826 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 构建请求URL: https://2402add9-4b1a-450b-9bed-701d6679a21b.mock.pstmn.io/api.qunar.com/api/ota/otaQueryOrder?fromDate=20251021010600&toDate=20251021011600&version=3.7&hmac=0e8ba0a1ec31ee142c18f75e0c53c290
2025-10-21 01:16:01.277 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderServiceImpl - 查询去哪网订单列表异常
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:431)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrderList(QunarOrderServiceImpl.java:53)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrdersByDateRange(QunarOrderServiceImpl.java:78)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl.syncOrdersFromQunar(QunarOrderSyncServiceImpl.java:66)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:716)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl$$SpringCGLIB$$0.syncOrdersFromQunar(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 01:16:01.278 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderSyncServiceImpl - 去哪网订单查询失败: errCode=ERROR, errMsg=查询异常: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
2025-10-21 01:16:30.828 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 开始同步去哪网订单...
2025-10-21 01:16:30.828 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 查询时间范围: fromDate=20251021010630, toDate=20251021011630
2025-10-21 01:16:30.828 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderServiceImpl - 开始查询去哪网订单列表: fromDate=20251021010630, toDate=20251021011630, version=3.7
2025-10-21 01:16:30.828 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 生成HMAC签名: data=your_sign_key20251021010630202510210116303.7, hmac=c4adfdf3efca556acef5d53e7ae90077
2025-10-21 01:16:30.829 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 构建请求URL: https://2402add9-4b1a-450b-9bed-701d6679a21b.mock.pstmn.io/api.qunar.com/api/ota/otaQueryOrder?fromDate=20251021010630&toDate=20251021011630&version=3.7&hmac=c4adfdf3efca556acef5d53e7ae90077
2025-10-21 01:16:31.836 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderServiceImpl - 查询去哪网订单列表异常
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:431)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrderList(QunarOrderServiceImpl.java:53)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrdersByDateRange(QunarOrderServiceImpl.java:78)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl.syncOrdersFromQunar(QunarOrderSyncServiceImpl.java:66)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:716)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl$$SpringCGLIB$$0.syncOrdersFromQunar(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 01:16:31.840 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderSyncServiceImpl - 去哪网订单查询失败: errCode=ERROR, errMsg=查询异常: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
2025-10-21 01:17:00.827 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 开始同步去哪网订单...
2025-10-21 01:17:00.827 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 查询时间范围: fromDate=20251021010700, toDate=20251021011700
2025-10-21 01:17:00.827 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderServiceImpl - 开始查询去哪网订单列表: fromDate=20251021010700, toDate=20251021011700, version=3.7
2025-10-21 01:17:00.827 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 生成HMAC签名: data=your_sign_key20251021010700202510210117003.7, hmac=f1b7863bec4e5bcc33a2df252611d37a
2025-10-21 01:17:00.828 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 构建请求URL: https://2402add9-4b1a-450b-9bed-701d6679a21b.mock.pstmn.io/api.qunar.com/api/ota/otaQueryOrder?fromDate=20251021010700&toDate=20251021011700&version=3.7&hmac=f1b7863bec4e5bcc33a2df252611d37a
2025-10-21 01:17:01.795 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderServiceImpl - 查询去哪网订单列表异常
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:431)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrderList(QunarOrderServiceImpl.java:53)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrdersByDateRange(QunarOrderServiceImpl.java:78)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl.syncOrdersFromQunar(QunarOrderSyncServiceImpl.java:66)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:716)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl$$SpringCGLIB$$0.syncOrdersFromQunar(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 01:17:01.797 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderSyncServiceImpl - 去哪网订单查询失败: errCode=ERROR, errMsg=查询异常: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
2025-10-21 01:17:30.823 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 开始同步去哪网订单...
2025-10-21 01:17:30.823 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 查询时间范围: fromDate=20251021010730, toDate=20251021011730
2025-10-21 01:17:30.823 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderServiceImpl - 开始查询去哪网订单列表: fromDate=20251021010730, toDate=20251021011730, version=3.7
2025-10-21 01:17:30.823 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 生成HMAC签名: data=your_sign_key20251021010730202510210117303.7, hmac=c7d39fea0865ec7d20e0236f0b4dd647
2025-10-21 01:17:30.823 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 构建请求URL: https://2402add9-4b1a-450b-9bed-701d6679a21b.mock.pstmn.io/api.qunar.com/api/ota/otaQueryOrder?fromDate=20251021010730&toDate=20251021011730&version=3.7&hmac=c7d39fea0865ec7d20e0236f0b4dd647
2025-10-21 01:17:31.782 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderServiceImpl - 查询去哪网订单列表异常
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:431)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrderList(QunarOrderServiceImpl.java:53)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrdersByDateRange(QunarOrderServiceImpl.java:78)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl.syncOrdersFromQunar(QunarOrderSyncServiceImpl.java:66)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:716)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl$$SpringCGLIB$$0.syncOrdersFromQunar(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 01:17:31.783 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderSyncServiceImpl - 去哪网订单查询失败: errCode=ERROR, errMsg=查询异常: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
2025-10-21 01:18:00.823 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 开始同步去哪网订单...
2025-10-21 01:18:00.823 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 查询时间范围: fromDate=20251021010800, toDate=20251021011800
2025-10-21 01:18:00.823 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderServiceImpl - 开始查询去哪网订单列表: fromDate=20251021010800, toDate=20251021011800, version=3.7
2025-10-21 01:18:00.823 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 生成HMAC签名: data=your_sign_key20251021010800202510210118003.7, hmac=b8d4fd699e1016109d46c49ddf48be7e
2025-10-21 01:18:00.823 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 构建请求URL: https://2402add9-4b1a-450b-9bed-701d6679a21b.mock.pstmn.io/api.qunar.com/api/ota/otaQueryOrder?fromDate=20251021010800&toDate=20251021011800&version=3.7&hmac=b8d4fd699e1016109d46c49ddf48be7e
2025-10-21 01:18:01.277 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderServiceImpl - 查询去哪网订单列表异常
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:431)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrderList(QunarOrderServiceImpl.java:53)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrdersByDateRange(QunarOrderServiceImpl.java:78)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl.syncOrdersFromQunar(QunarOrderSyncServiceImpl.java:66)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:716)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl$$SpringCGLIB$$0.syncOrdersFromQunar(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 01:18:01.278 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderSyncServiceImpl - 去哪网订单查询失败: errCode=ERROR, errMsg=查询异常: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
2025-10-21 01:18:30.831 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 开始同步去哪网订单...
2025-10-21 01:18:30.831 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 查询时间范围: fromDate=20251021010830, toDate=20251021011830
2025-10-21 01:18:30.832 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderServiceImpl - 开始查询去哪网订单列表: fromDate=20251021010830, toDate=20251021011830, version=3.7
2025-10-21 01:18:30.832 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 生成HMAC签名: data=your_sign_key20251021010830202510210118303.7, hmac=7cb2cd03c6c774c2f931050268d89ce0
2025-10-21 01:18:30.832 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 构建请求URL: https://2402add9-4b1a-450b-9bed-701d6679a21b.mock.pstmn.io/api.qunar.com/api/ota/otaQueryOrder?fromDate=20251021010830&toDate=20251021011830&version=3.7&hmac=7cb2cd03c6c774c2f931050268d89ce0
2025-10-21 01:18:31.451 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderServiceImpl - 查询去哪网订单列表异常
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:431)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrderList(QunarOrderServiceImpl.java:53)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrdersByDateRange(QunarOrderServiceImpl.java:78)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl.syncOrdersFromQunar(QunarOrderSyncServiceImpl.java:66)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:716)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl$$SpringCGLIB$$0.syncOrdersFromQunar(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 01:18:31.453 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderSyncServiceImpl - 去哪网订单查询失败: errCode=ERROR, errMsg=查询异常: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
2025-10-21 01:19:00.824 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 开始同步去哪网订单...
2025-10-21 01:19:00.824 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 查询时间范围: fromDate=20251021010900, toDate=20251021011900
2025-10-21 01:19:00.824 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderServiceImpl - 开始查询去哪网订单列表: fromDate=20251021010900, toDate=20251021011900, version=3.7
2025-10-21 01:19:00.824 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 生成HMAC签名: data=your_sign_key20251021010900202510210119003.7, hmac=2bb2d97527dcc0fa33e6d7936e78763b
2025-10-21 01:19:00.824 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 构建请求URL: https://2402add9-4b1a-450b-9bed-701d6679a21b.mock.pstmn.io/api.qunar.com/api/ota/otaQueryOrder?fromDate=20251021010900&toDate=20251021011900&version=3.7&hmac=2bb2d97527dcc0fa33e6d7936e78763b
2025-10-21 01:19:01.771 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderServiceImpl - 查询去哪网订单列表异常
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:431)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrderList(QunarOrderServiceImpl.java:53)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrdersByDateRange(QunarOrderServiceImpl.java:78)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl.syncOrdersFromQunar(QunarOrderSyncServiceImpl.java:66)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:716)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl$$SpringCGLIB$$0.syncOrdersFromQunar(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 01:19:01.772 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderSyncServiceImpl - 去哪网订单查询失败: errCode=ERROR, errMsg=查询异常: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
2025-10-21 01:19:30.822 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 开始同步去哪网订单...
2025-10-21 01:19:30.822 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 查询时间范围: fromDate=20251021010930, toDate=20251021011930
2025-10-21 01:19:30.822 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderServiceImpl - 开始查询去哪网订单列表: fromDate=20251021010930, toDate=20251021011930, version=3.7
2025-10-21 01:19:30.822 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 生成HMAC签名: data=your_sign_key20251021010930202510210119303.7, hmac=a265b87892c8309654589c7daa6af6f4
2025-10-21 01:19:30.822 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 构建请求URL: https://2402add9-4b1a-450b-9bed-701d6679a21b.mock.pstmn.io/api.qunar.com/api/ota/otaQueryOrder?fromDate=20251021010930&toDate=20251021011930&version=3.7&hmac=a265b87892c8309654589c7daa6af6f4
2025-10-21 01:19:31.800 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderServiceImpl - 查询去哪网订单列表异常
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:431)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrderList(QunarOrderServiceImpl.java:53)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrdersByDateRange(QunarOrderServiceImpl.java:78)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl.syncOrdersFromQunar(QunarOrderSyncServiceImpl.java:66)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:716)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl$$SpringCGLIB$$0.syncOrdersFromQunar(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 01:19:31.801 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderSyncServiceImpl - 去哪网订单查询失败: errCode=ERROR, errMsg=查询异常: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
2025-10-21 01:20:00.822 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 开始同步去哪网订单...
2025-10-21 01:20:00.822 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 查询时间范围: fromDate=20251021011000, toDate=20251021012000
2025-10-21 01:20:00.822 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderServiceImpl - 开始查询去哪网订单列表: fromDate=20251021011000, toDate=20251021012000, version=3.7
2025-10-21 01:20:00.822 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 生成HMAC签名: data=your_sign_key20251021011000202510210120003.7, hmac=e48a6e85cd097f2c6f126ac22448b1be
2025-10-21 01:20:00.822 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 构建请求URL: https://2402add9-4b1a-450b-9bed-701d6679a21b.mock.pstmn.io/api.qunar.com/api/ota/otaQueryOrder?fromDate=20251021011000&toDate=20251021012000&version=3.7&hmac=e48a6e85cd097f2c6f126ac22448b1be
2025-10-21 01:20:01.608 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderServiceImpl - 查询去哪网订单列表异常
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:431)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrderList(QunarOrderServiceImpl.java:53)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrdersByDateRange(QunarOrderServiceImpl.java:78)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl.syncOrdersFromQunar(QunarOrderSyncServiceImpl.java:66)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:716)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl$$SpringCGLIB$$0.syncOrdersFromQunar(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 01:20:01.610 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderSyncServiceImpl - 去哪网订单查询失败: errCode=ERROR, errMsg=查询异常: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
2025-10-21 01:20:30.820 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 开始同步去哪网订单...
2025-10-21 01:20:30.820 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 查询时间范围: fromDate=20251021011030, toDate=20251021012030
2025-10-21 01:20:30.820 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderServiceImpl - 开始查询去哪网订单列表: fromDate=20251021011030, toDate=20251021012030, version=3.7
2025-10-21 01:20:30.820 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 生成HMAC签名: data=your_sign_key20251021011030202510210120303.7, hmac=00931415d9b8ba15f58a0441a754b6b6
2025-10-21 01:20:30.820 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 构建请求URL: https://2402add9-4b1a-450b-9bed-701d6679a21b.mock.pstmn.io/api.qunar.com/api/ota/otaQueryOrder?fromDate=20251021011030&toDate=20251021012030&version=3.7&hmac=00931415d9b8ba15f58a0441a754b6b6
2025-10-21 01:20:31.774 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderServiceImpl - 查询去哪网订单列表异常
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:431)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrderList(QunarOrderServiceImpl.java:53)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrdersByDateRange(QunarOrderServiceImpl.java:78)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl.syncOrdersFromQunar(QunarOrderSyncServiceImpl.java:66)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:716)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl$$SpringCGLIB$$0.syncOrdersFromQunar(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 01:20:31.775 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderSyncServiceImpl - 去哪网订单查询失败: errCode=ERROR, errMsg=查询异常: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
2025-10-21 01:21:00.820 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 开始同步去哪网订单...
2025-10-21 01:21:00.820 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 查询时间范围: fromDate=20251021011100, toDate=20251021012100
2025-10-21 01:21:00.820 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderServiceImpl - 开始查询去哪网订单列表: fromDate=20251021011100, toDate=20251021012100, version=3.7
2025-10-21 01:21:00.820 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 生成HMAC签名: data=your_sign_key20251021011100202510210121003.7, hmac=9e686b729e2d7b775a108ab20490674c
2025-10-21 01:21:00.820 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 构建请求URL: https://2402add9-4b1a-450b-9bed-701d6679a21b.mock.pstmn.io/api.qunar.com/api/ota/otaQueryOrder?fromDate=20251021011100&toDate=20251021012100&version=3.7&hmac=9e686b729e2d7b775a108ab20490674c
2025-10-21 01:21:01.775 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderServiceImpl - 查询去哪网订单列表异常
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:431)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrderList(QunarOrderServiceImpl.java:53)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrdersByDateRange(QunarOrderServiceImpl.java:78)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl.syncOrdersFromQunar(QunarOrderSyncServiceImpl.java:66)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:716)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl$$SpringCGLIB$$0.syncOrdersFromQunar(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 01:21:01.777 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderSyncServiceImpl - 去哪网订单查询失败: errCode=ERROR, errMsg=查询异常: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
2025-10-21 01:22:29.964 [restartedMain] INFO  o.x.h.HotelPriceComparisonApplication - Starting HotelPriceComparisonApplication using Java 21.0.8 with PID 18988 (C:\Hotel\HotelBack\build\classes\java\main started by wangz in C:\Hotel\HotelBack)
2025-10-21 01:22:29.966 [restartedMain] DEBUG o.x.h.HotelPriceComparisonApplication - Running with Spring Boot v3.2.5, Spring v6.1.6
2025-10-21 01:22:29.967 [restartedMain] INFO  o.x.h.HotelPriceComparisonApplication - No active profile set, falling back to 1 default profile: "default"
2025-10-21 01:22:30.043 [restartedMain] INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-10-21 01:22:30.043 [restartedMain] INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-10-21 01:22:32.542 [restartedMain] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-21 01:22:32.548 [restartedMain] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-21 01:22:32.979 [restartedMain] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 405 ms. Found 0 JPA repository interfaces.
2025-10-21 01:22:33.016 [restartedMain] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-21 01:22:33.019 [restartedMain] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-21 01:22:33.071 [restartedMain] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 26 ms. Found 0 Redis repository interfaces.
2025-10-21 01:22:35.237 [restartedMain] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-10-21 01:22:35.255 [restartedMain] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-10-21 01:22:35.256 [restartedMain] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.20]
2025-10-21 01:22:35.347 [restartedMain] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-10-21 01:22:35.348 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 5304 ms
2025-10-21 01:22:35.832 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-10-21 01:22:36.154 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5c97426c
2025-10-21 01:22:36.157 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-10-21 01:22:36.171 [restartedMain] INFO  o.s.b.autoconfigure.h2.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:mysql://localhost:3306/hotel_price_comparison?useUnicode=true&characterEncoding=utf8&useSSL=false&serverTimezone=Asia/Shanghai&allowPublicKeyRetrieval=true'
2025-10-21 01:22:36.596 [restartedMain] INFO  org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-21 01:22:36.684 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.4.Final
2025-10-21 01:22:36.737 [restartedMain] INFO  o.hibernate.cache.internal.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-10-21 01:22:37.188 [restartedMain] INFO  o.s.o.j.persistenceunit.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-21 01:22:39.030 [restartedMain] INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-10-21 01:22:39.034 [restartedMain] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-21 01:22:40.059 [restartedMain] WARN  c.b.mybatisplus.core.injector.methods.Insert - [org.xfy.hotelpricecomparison.mapper.SysUserMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2025-10-21 01:22:40.071 [restartedMain] WARN  c.b.mybatisplus.core.injector.methods.SelectList - [org.xfy.hotelpricecomparison.mapper.SysUserMapper.selectList] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.SelectList]
2025-10-21 01:22:40.072 [restartedMain] WARN  c.b.mybatisplus.core.injector.methods.DeleteById - [org.xfy.hotelpricecomparison.mapper.SysUserMapper.deleteById] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.DeleteById]
2025-10-21 01:22:40.076 [restartedMain] WARN  c.b.mybatisplus.core.injector.methods.UpdateById - [org.xfy.hotelpricecomparison.mapper.SysUserMapper.updateById] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.UpdateById]
2025-10-21 01:22:40.077 [restartedMain] WARN  c.b.mybatisplus.core.injector.methods.SelectById - [org.xfy.hotelpricecomparison.mapper.SysUserMapper.selectById] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.SelectById]
2025-10-21 01:22:41.856 [restartedMain] INFO  o.x.h.service.impl.JinjiangApiServiceImpl - RestTemplate超时配置已设置 - 连接超时: 5000ms, 读取超时: 10000ms
2025-10-21 01:22:44.049 [restartedMain] INFO  o.xfy.hotelpricecomparison.config.SchedulingConfig - 定时任务线程池配置完成，线程池大小: 0
2025-10-21 01:22:44.397 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-10-21 01:22:46.281 [restartedMain] INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver - Exposing 2 endpoint(s) beneath base path '/actuator'
2025-10-21 01:22:46.569 [restartedMain] INFO  o.s.security.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@91675b3, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@182947db, org.springframework.security.web.context.SecurityContextHolderFilter@5b4cb685, org.springframework.security.web.header.HeaderWriterFilter@40efe761, org.springframework.web.filter.CorsFilter@14a2eaee, org.springframework.security.web.authentication.logout.LogoutFilter@dc9e40e, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@68f045e1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@61ba426, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@738d2a48, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@dfeb37f, org.springframework.security.web.session.SessionManagementFilter@33128e8d, org.springframework.security.web.access.ExceptionTranslationFilter@6c3921f8, org.springframework.security.web.access.intercept.AuthorizationFilter@102212ec]
2025-10-21 01:22:49.362 [restartedMain] INFO  o.s.b.d.autoconfigure.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-10-21 01:22:49.519 [restartedMain] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2025-10-21 01:22:49.521 [restartedMain] INFO  o.s.m.simp.broker.SimpleBrokerMessageHandler - Starting...
2025-10-21 01:22:49.522 [restartedMain] INFO  o.s.m.simp.broker.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@6f0392cb]]
2025-10-21 01:22:49.522 [restartedMain] INFO  o.s.m.simp.broker.SimpleBrokerMessageHandler - Started.
2025-10-21 01:22:49.554 [restartedMain] INFO  o.x.h.HotelPriceComparisonApplication - Started HotelPriceComparisonApplication in 20.275 seconds (process running for 20.918)
2025-10-21 01:22:49.563 [scheduled-3] INFO  o.x.h.schedule.HotelChangeNotificationScheduler - === 开始执行酒店变更通知定时任务 ===
2025-10-21 01:22:49.563 [scheduled-2] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 开始同步去哪网订单...
2025-10-21 01:22:49.563 [scheduled-1] INFO  o.x.h.schedule.AutoStatusSyncScheduler - 开始执行定时自动状态同步任务
2025-10-21 01:22:49.564 [scheduled-2] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 查询时间范围: fromDate=20251021011249, toDate=20251021012249
2025-10-21 01:22:49.564 [scheduled-2] INFO  o.x.h.service.impl.QunarOrderServiceImpl - 开始查询去哪网订单列表: fromDate=20251021011249, toDate=20251021012249, version=3.7
2025-10-21 01:22:49.565 [scheduled-2] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 生成HMAC签名: data=your_sign_key20251021011249202510210122493.7, hmac=db17c7f8b4f94ad6420bcc98253f3342
2025-10-21 01:22:49.578 [scheduled-2] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 构建请求URL: https://2402add9-4b1a-450b-9bed-701d6679a21b.mock.pstmn.io/api.qunar.com/api/ota/otaQueryOrder?fromDate=20251021011249&toDate=20251021012249&version=3.7&hmac=db17c7f8b4f94ad6420bcc98253f3342
2025-10-21 01:22:49.628 [scheduled-1] INFO  o.x.h.service.impl.AutoStatusSyncServiceImpl - 开始同步所有酒店状态
2025-10-21 01:22:49.629 [scheduled-3] INFO  o.x.h.service.impl.HotelChangeServiceImpl - 开始通知去哪网酒店变更...
2025-10-21 01:22:49.630 [scheduled-3] INFO  o.x.h.service.impl.HotelChangeServiceImpl - 获取有变化的酒店列表
2025-10-21 01:22:49.658 [scheduled-3] DEBUG o.x.h.mapper.HotelChangeMapper.getChangedHotels - ==>  Preparing: SELECT id, hotel_code, hotel_name, city_name, address, hotel_phone, description, is_changed, change_type, updated_at FROM hotels WHERE is_changed = 1 AND is_push_to_distributors = 1 ORDER BY updated_at DESC
2025-10-21 01:22:49.688 [scheduled-3] DEBUG o.x.h.mapper.HotelChangeMapper.getChangedHotels - ==> Parameters: 
2025-10-21 01:22:49.694 [scheduled-1] DEBUG o.x.h.mapper.HotelMapper.selectList - ==>  Preparing: SELECT id,hotel_code,hotel_name,hotel_name_en,address,city_code,city_name,district_code,district_name,country_code,hotel_phone,hotel_email,description,policy,guide,check_in_time,check_out_time,hotel_level,star_type,business_type,hotel_type,status,valid,is_request_supplier_data,is_push_to_distributors,open_date,close_date,decoration_date,allow_minors,pets,restaurant,support_foreign_guest,require_eng_name,certificate_type,settlement_currency,brand_code,missing_count,created_at,updated_at,is_changed,change_type FROM hotels WHERE (valid = ?)
2025-10-21 01:22:49.696 [scheduled-1] DEBUG o.x.h.mapper.HotelMapper.selectList - ==> Parameters: 1(Integer)
2025-10-21 01:22:49.708 [scheduled-3] DEBUG o.x.h.mapper.HotelChangeMapper.getChangedHotels - <==      Total: 0
2025-10-21 01:22:49.709 [scheduled-3] INFO  o.x.h.service.impl.HotelChangeServiceImpl - 找到 0 个有变化的酒店
2025-10-21 01:22:49.709 [scheduled-3] INFO  o.x.h.service.impl.HotelChangeServiceImpl - 没有发现酒店变更，跳过通知
2025-10-21 01:22:49.713 [scheduled-3] INFO  o.x.h.schedule.HotelChangeNotificationScheduler - === 酒店变更通知任务执行成功，耗时: 150ms ===
2025-10-21 01:22:49.717 [scheduled-1] DEBUG o.x.h.mapper.HotelMapper.selectList - <==      Total: 3
2025-10-21 01:22:49.717 [scheduled-1] INFO  o.x.h.service.impl.AutoStatusSyncServiceImpl - 开始同步酒店 1 的渠道状态
2025-10-21 01:22:49.719 [scheduled-1] DEBUG o.x.h.mapper.HotelMapper.selectById - ==>  Preparing: SELECT id,hotel_code,hotel_name,hotel_name_en,address,city_code,city_name,district_code,district_name,country_code,hotel_phone,hotel_email,description,policy,guide,check_in_time,check_out_time,hotel_level,star_type,business_type,hotel_type,status,valid,is_request_supplier_data,is_push_to_distributors,open_date,close_date,decoration_date,allow_minors,pets,restaurant,support_foreign_guest,require_eng_name,certificate_type,settlement_currency,brand_code,missing_count,created_at,updated_at,is_changed,change_type FROM hotels WHERE id=?
2025-10-21 01:22:49.721 [scheduled-1] DEBUG o.x.h.mapper.HotelMapper.selectById - ==> Parameters: 1(Long)
2025-10-21 01:22:49.724 [scheduled-1] DEBUG o.x.h.mapper.HotelMapper.selectById - <==      Total: 1
2025-10-21 01:22:49.726 [scheduled-1] DEBUG o.x.h.mapper.RoomTypeMapper.selectList - ==>  Preparing: SELECT id,hotel_id,room_type_name,room_type_code,room_type_name_en,max_occupancy,bed_type,bed_type_name,room_size,supplier_specific_data,distributor_specific_data,description,status,valid,created_at,updated_at FROM room_types WHERE (hotel_id = ? AND valid = ?)
2025-10-21 01:22:49.727 [scheduled-1] DEBUG o.x.h.mapper.RoomTypeMapper.selectList - ==> Parameters: 1(Long), 1(Integer)
2025-10-21 01:22:49.731 [scheduled-1] DEBUG o.x.h.mapper.RoomTypeMapper.selectList - <==      Total: 2
2025-10-21 01:22:49.733 [scheduled-1] DEBUG o.x.h.m.D.selectList - ==>  Preparing: SELECT id,room_type_id,distributor_id,distributor_room_type_id,distributor_room_type_name,mapping_status,created_at,updated_at FROM distributor_room_type_mappings WHERE (room_type_id IN (?,?))
2025-10-21 01:22:49.734 [scheduled-1] DEBUG o.x.h.m.D.selectList - ==> Parameters: 1(Long), 2(Long)
2025-10-21 01:22:49.737 [scheduled-1] DEBUG o.x.h.m.D.selectList - <==      Total: 6
2025-10-21 01:22:49.738 [scheduled-1] DEBUG o.x.h.mapper.RatePlanMapper.selectList - ==>  Preparing: SELECT id,room_type_id,product_code,product_name,price_type,currency,guests,has_effective_time,incremental_preferent,preferent_info,support_pay,status,valid,supplier_specific_data,distributor_specific_data,created_at,updated_at FROM rate_plans WHERE (room_type_id = ? AND valid = ?)
2025-10-21 01:22:49.739 [scheduled-1] DEBUG o.x.h.mapper.RatePlanMapper.selectList - ==> Parameters: 1(Long), 1(Integer)
2025-10-21 01:22:49.743 [scheduled-1] DEBUG o.x.h.mapper.RatePlanMapper.selectList - <==      Total: 2
2025-10-21 01:22:49.745 [scheduled-1] DEBUG o.x.h.mapper.DailyRateMapper.selectList - ==>  Preparing: SELECT id,rate_plan_id,business_date,advance_rate,spot_rate,rack_rate,local_rate,orig_advance_rate,orig_spot_rate,quota,advance_breakfast_count,spot_breakfast_count,advance_fee_rate,spot_fee_rate,start_time,end_time,free_cancel_time,availability,distributor_id,created_at,updated_at FROM daily_rates WHERE (rate_plan_id = ? AND distributor_id = ?)
2025-10-21 01:22:49.745 [scheduled-1] DEBUG o.x.h.mapper.DailyRateMapper.selectList - ==> Parameters: 1(Long), 1(Long)
2025-10-21 01:22:49.749 [scheduled-1] DEBUG o.x.h.mapper.DailyRateMapper.selectList - <==      Total: 5
2025-10-21 01:22:49.751 [scheduled-1] DEBUG o.x.h.mapper.DailyRateMapper.selectList - ==>  Preparing: SELECT id,rate_plan_id,business_date,advance_rate,spot_rate,rack_rate,local_rate,orig_advance_rate,orig_spot_rate,quota,advance_breakfast_count,spot_breakfast_count,advance_fee_rate,spot_fee_rate,start_time,end_time,free_cancel_time,availability,distributor_id,created_at,updated_at FROM daily_rates WHERE (rate_plan_id = ? AND distributor_id = ?)
2025-10-21 01:22:49.752 [scheduled-1] DEBUG o.x.h.mapper.DailyRateMapper.selectList - ==> Parameters: 1(Long), 2(Long)
2025-10-21 01:22:49.754 [scheduled-1] DEBUG o.x.h.mapper.DailyRateMapper.selectList - <==      Total: 5
2025-10-21 01:22:49.756 [scheduled-1] DEBUG o.x.h.mapper.DailyRateMapper.selectList - ==>  Preparing: SELECT id,rate_plan_id,business_date,advance_rate,spot_rate,rack_rate,local_rate,orig_advance_rate,orig_spot_rate,quota,advance_breakfast_count,spot_breakfast_count,advance_fee_rate,spot_fee_rate,start_time,end_time,free_cancel_time,availability,distributor_id,created_at,updated_at FROM daily_rates WHERE (rate_plan_id = ? AND distributor_id = ?)
2025-10-21 01:22:49.757 [scheduled-1] DEBUG o.x.h.mapper.DailyRateMapper.selectList - ==> Parameters: 1(Long), 3(Long)
2025-10-21 01:22:49.760 [scheduled-1] DEBUG o.x.h.mapper.DailyRateMapper.selectList - <==      Total: 5
2025-10-21 01:22:49.761 [scheduled-1] INFO  o.x.h.service.impl.AutoStatusSyncServiceImpl - 检查酒店状态: 1
2025-10-21 01:22:49.765 [scheduled-1] INFO  o.x.h.service.impl.AutoStatusSyncServiceImpl - 酒店 1 渠道状态同步完成: 同步完成: 检查了 3 个渠道，更新了 0 个渠道，酒店状态无需更新
2025-10-21 01:22:49.765 [scheduled-1] INFO  o.x.h.service.impl.AutoStatusSyncServiceImpl - 开始同步酒店 2 的渠道状态
2025-10-21 01:22:49.765 [scheduled-1] DEBUG o.x.h.mapper.HotelMapper.selectById - ==>  Preparing: SELECT id,hotel_code,hotel_name,hotel_name_en,address,city_code,city_name,district_code,district_name,country_code,hotel_phone,hotel_email,description,policy,guide,check_in_time,check_out_time,hotel_level,star_type,business_type,hotel_type,status,valid,is_request_supplier_data,is_push_to_distributors,open_date,close_date,decoration_date,allow_minors,pets,restaurant,support_foreign_guest,require_eng_name,certificate_type,settlement_currency,brand_code,missing_count,created_at,updated_at,is_changed,change_type FROM hotels WHERE id=?
2025-10-21 01:22:49.766 [scheduled-1] DEBUG o.x.h.mapper.HotelMapper.selectById - ==> Parameters: 2(Long)
2025-10-21 01:22:49.769 [scheduled-1] DEBUG o.x.h.mapper.HotelMapper.selectById - <==      Total: 1
2025-10-21 01:22:49.771 [scheduled-1] DEBUG o.x.h.mapper.RoomTypeMapper.selectList - ==>  Preparing: SELECT id,hotel_id,room_type_name,room_type_code,room_type_name_en,max_occupancy,bed_type,bed_type_name,room_size,supplier_specific_data,distributor_specific_data,description,status,valid,created_at,updated_at FROM room_types WHERE (hotel_id = ? AND valid = ?)
2025-10-21 01:22:49.771 [scheduled-1] DEBUG o.x.h.mapper.RoomTypeMapper.selectList - ==> Parameters: 2(Long), 1(Integer)
2025-10-21 01:22:49.773 [scheduled-1] DEBUG o.x.h.mapper.RoomTypeMapper.selectList - <==      Total: 2
2025-10-21 01:22:49.774 [scheduled-1] DEBUG o.x.h.m.D.selectList - ==>  Preparing: SELECT id,room_type_id,distributor_id,distributor_room_type_id,distributor_room_type_name,mapping_status,created_at,updated_at FROM distributor_room_type_mappings WHERE (room_type_id IN (?,?))
2025-10-21 01:22:49.775 [scheduled-1] DEBUG o.x.h.m.D.selectList - ==> Parameters: 3(Long), 4(Long)
2025-10-21 01:22:49.777 [scheduled-1] DEBUG o.x.h.m.D.selectList - <==      Total: 6
2025-10-21 01:22:49.778 [scheduled-1] DEBUG o.x.h.mapper.RatePlanMapper.selectList - ==>  Preparing: SELECT id,room_type_id,product_code,product_name,price_type,currency,guests,has_effective_time,incremental_preferent,preferent_info,support_pay,status,valid,supplier_specific_data,distributor_specific_data,created_at,updated_at FROM rate_plans WHERE (room_type_id = ? AND valid = ?)
2025-10-21 01:22:49.779 [scheduled-1] DEBUG o.x.h.mapper.RatePlanMapper.selectList - ==> Parameters: 3(Long), 1(Integer)
2025-10-21 01:22:49.781 [scheduled-1] DEBUG o.x.h.mapper.RatePlanMapper.selectList - <==      Total: 2
2025-10-21 01:22:49.782 [scheduled-1] DEBUG o.x.h.mapper.DailyRateMapper.selectList - ==>  Preparing: SELECT id,rate_plan_id,business_date,advance_rate,spot_rate,rack_rate,local_rate,orig_advance_rate,orig_spot_rate,quota,advance_breakfast_count,spot_breakfast_count,advance_fee_rate,spot_fee_rate,start_time,end_time,free_cancel_time,availability,distributor_id,created_at,updated_at FROM daily_rates WHERE (rate_plan_id = ? AND distributor_id = ?)
2025-10-21 01:22:49.783 [scheduled-1] DEBUG o.x.h.mapper.DailyRateMapper.selectList - ==> Parameters: 5(Long), 1(Long)
2025-10-21 01:22:49.786 [scheduled-1] DEBUG o.x.h.mapper.DailyRateMapper.selectList - <==      Total: 5
2025-10-21 01:22:49.788 [scheduled-1] DEBUG o.x.h.mapper.DailyRateMapper.selectList - ==>  Preparing: SELECT id,rate_plan_id,business_date,advance_rate,spot_rate,rack_rate,local_rate,orig_advance_rate,orig_spot_rate,quota,advance_breakfast_count,spot_breakfast_count,advance_fee_rate,spot_fee_rate,start_time,end_time,free_cancel_time,availability,distributor_id,created_at,updated_at FROM daily_rates WHERE (rate_plan_id = ? AND distributor_id = ?)
2025-10-21 01:22:49.789 [scheduled-1] DEBUG o.x.h.mapper.DailyRateMapper.selectList - ==> Parameters: 5(Long), 2(Long)
2025-10-21 01:22:49.792 [scheduled-1] DEBUG o.x.h.mapper.DailyRateMapper.selectList - <==      Total: 5
2025-10-21 01:22:49.794 [scheduled-1] DEBUG o.x.h.mapper.DailyRateMapper.selectList - ==>  Preparing: SELECT id,rate_plan_id,business_date,advance_rate,spot_rate,rack_rate,local_rate,orig_advance_rate,orig_spot_rate,quota,advance_breakfast_count,spot_breakfast_count,advance_fee_rate,spot_fee_rate,start_time,end_time,free_cancel_time,availability,distributor_id,created_at,updated_at FROM daily_rates WHERE (rate_plan_id = ? AND distributor_id = ?)
2025-10-21 01:22:49.794 [scheduled-1] DEBUG o.x.h.mapper.DailyRateMapper.selectList - ==> Parameters: 5(Long), 3(Long)
2025-10-21 01:22:49.797 [scheduled-1] DEBUG o.x.h.mapper.DailyRateMapper.selectList - <==      Total: 5
2025-10-21 01:22:49.798 [scheduled-1] INFO  o.x.h.service.impl.AutoStatusSyncServiceImpl - 检查酒店状态: 2
2025-10-21 01:22:49.799 [scheduled-1] INFO  o.x.h.service.impl.AutoStatusSyncServiceImpl - 酒店 2 渠道状态同步完成: 同步完成: 检查了 3 个渠道，更新了 0 个渠道，酒店状态无需更新
2025-10-21 01:22:49.799 [scheduled-1] INFO  o.x.h.service.impl.AutoStatusSyncServiceImpl - 开始同步酒店 3 的渠道状态
2025-10-21 01:22:49.800 [scheduled-1] DEBUG o.x.h.mapper.HotelMapper.selectById - ==>  Preparing: SELECT id,hotel_code,hotel_name,hotel_name_en,address,city_code,city_name,district_code,district_name,country_code,hotel_phone,hotel_email,description,policy,guide,check_in_time,check_out_time,hotel_level,star_type,business_type,hotel_type,status,valid,is_request_supplier_data,is_push_to_distributors,open_date,close_date,decoration_date,allow_minors,pets,restaurant,support_foreign_guest,require_eng_name,certificate_type,settlement_currency,brand_code,missing_count,created_at,updated_at,is_changed,change_type FROM hotels WHERE id=?
2025-10-21 01:22:49.800 [scheduled-1] DEBUG o.x.h.mapper.HotelMapper.selectById - ==> Parameters: 3(Long)
2025-10-21 01:22:49.802 [scheduled-1] DEBUG o.x.h.mapper.HotelMapper.selectById - <==      Total: 1
2025-10-21 01:22:49.803 [scheduled-1] DEBUG o.x.h.mapper.RoomTypeMapper.selectList - ==>  Preparing: SELECT id,hotel_id,room_type_name,room_type_code,room_type_name_en,max_occupancy,bed_type,bed_type_name,room_size,supplier_specific_data,distributor_specific_data,description,status,valid,created_at,updated_at FROM room_types WHERE (hotel_id = ? AND valid = ?)
2025-10-21 01:22:49.804 [scheduled-1] DEBUG o.x.h.mapper.RoomTypeMapper.selectList - ==> Parameters: 3(Long), 1(Integer)
2025-10-21 01:22:49.807 [scheduled-1] DEBUG o.x.h.mapper.RoomTypeMapper.selectList - <==      Total: 2
2025-10-21 01:22:49.808 [scheduled-1] DEBUG o.x.h.m.D.selectList - ==>  Preparing: SELECT id,room_type_id,distributor_id,distributor_room_type_id,distributor_room_type_name,mapping_status,created_at,updated_at FROM distributor_room_type_mappings WHERE (room_type_id IN (?,?))
2025-10-21 01:22:49.809 [scheduled-1] DEBUG o.x.h.m.D.selectList - ==> Parameters: 5(Long), 6(Long)
2025-10-21 01:22:49.810 [scheduled-1] DEBUG o.x.h.m.D.selectList - <==      Total: 6
2025-10-21 01:22:49.812 [scheduled-1] DEBUG o.x.h.mapper.RatePlanMapper.selectList - ==>  Preparing: SELECT id,room_type_id,product_code,product_name,price_type,currency,guests,has_effective_time,incremental_preferent,preferent_info,support_pay,status,valid,supplier_specific_data,distributor_specific_data,created_at,updated_at FROM rate_plans WHERE (room_type_id = ? AND valid = ?)
2025-10-21 01:22:49.813 [scheduled-1] DEBUG o.x.h.mapper.RatePlanMapper.selectList - ==> Parameters: 5(Long), 1(Integer)
2025-10-21 01:22:49.814 [scheduled-1] DEBUG o.x.h.mapper.RatePlanMapper.selectList - <==      Total: 2
2025-10-21 01:22:49.816 [scheduled-1] DEBUG o.x.h.mapper.DailyRateMapper.selectList - ==>  Preparing: SELECT id,rate_plan_id,business_date,advance_rate,spot_rate,rack_rate,local_rate,orig_advance_rate,orig_spot_rate,quota,advance_breakfast_count,spot_breakfast_count,advance_fee_rate,spot_fee_rate,start_time,end_time,free_cancel_time,availability,distributor_id,created_at,updated_at FROM daily_rates WHERE (rate_plan_id = ? AND distributor_id = ?)
2025-10-21 01:22:49.817 [scheduled-1] DEBUG o.x.h.mapper.DailyRateMapper.selectList - ==> Parameters: 9(Long), 1(Long)
2025-10-21 01:22:49.820 [scheduled-1] DEBUG o.x.h.mapper.DailyRateMapper.selectList - <==      Total: 5
2025-10-21 01:22:49.822 [scheduled-1] DEBUG o.x.h.mapper.DailyRateMapper.selectList - ==>  Preparing: SELECT id,rate_plan_id,business_date,advance_rate,spot_rate,rack_rate,local_rate,orig_advance_rate,orig_spot_rate,quota,advance_breakfast_count,spot_breakfast_count,advance_fee_rate,spot_fee_rate,start_time,end_time,free_cancel_time,availability,distributor_id,created_at,updated_at FROM daily_rates WHERE (rate_plan_id = ? AND distributor_id = ?)
2025-10-21 01:22:49.823 [scheduled-1] DEBUG o.x.h.mapper.DailyRateMapper.selectList - ==> Parameters: 10(Long), 1(Long)
2025-10-21 01:22:49.825 [scheduled-1] DEBUG o.x.h.mapper.DailyRateMapper.selectList - <==      Total: 5
2025-10-21 01:22:49.827 [scheduled-1] DEBUG o.x.h.mapper.RatePlanMapper.selectList - ==>  Preparing: SELECT id,room_type_id,product_code,product_name,price_type,currency,guests,has_effective_time,incremental_preferent,preferent_info,support_pay,status,valid,supplier_specific_data,distributor_specific_data,created_at,updated_at FROM rate_plans WHERE (room_type_id = ? AND valid = ?)
2025-10-21 01:22:49.828 [scheduled-1] DEBUG o.x.h.mapper.RatePlanMapper.selectList - ==> Parameters: 6(Long), 1(Integer)
2025-10-21 01:22:49.830 [scheduled-1] DEBUG o.x.h.mapper.RatePlanMapper.selectList - <==      Total: 2
2025-10-21 01:22:49.831 [scheduled-1] DEBUG o.x.h.mapper.DailyRateMapper.selectList - ==>  Preparing: SELECT id,rate_plan_id,business_date,advance_rate,spot_rate,rack_rate,local_rate,orig_advance_rate,orig_spot_rate,quota,advance_breakfast_count,spot_breakfast_count,advance_fee_rate,spot_fee_rate,start_time,end_time,free_cancel_time,availability,distributor_id,created_at,updated_at FROM daily_rates WHERE (rate_plan_id = ? AND distributor_id = ?)
2025-10-21 01:22:49.832 [scheduled-1] DEBUG o.x.h.mapper.DailyRateMapper.selectList - ==> Parameters: 11(Long), 1(Long)
2025-10-21 01:22:49.835 [scheduled-1] DEBUG o.x.h.mapper.DailyRateMapper.selectList - <==      Total: 5
2025-10-21 01:22:49.836 [scheduled-1] DEBUG o.x.h.mapper.DailyRateMapper.selectList - ==>  Preparing: SELECT id,rate_plan_id,business_date,advance_rate,spot_rate,rack_rate,local_rate,orig_advance_rate,orig_spot_rate,quota,advance_breakfast_count,spot_breakfast_count,advance_fee_rate,spot_fee_rate,start_time,end_time,free_cancel_time,availability,distributor_id,created_at,updated_at FROM daily_rates WHERE (rate_plan_id = ? AND distributor_id = ?)
2025-10-21 01:22:49.837 [scheduled-1] DEBUG o.x.h.mapper.DailyRateMapper.selectList - ==> Parameters: 12(Long), 1(Long)
2025-10-21 01:22:49.840 [scheduled-1] DEBUG o.x.h.mapper.DailyRateMapper.selectList - <==      Total: 5
2025-10-21 01:22:49.843 [scheduled-1] DEBUG o.x.h.mapper.DailyRateMapper.selectList - ==>  Preparing: SELECT id,rate_plan_id,business_date,advance_rate,spot_rate,rack_rate,local_rate,orig_advance_rate,orig_spot_rate,quota,advance_breakfast_count,spot_breakfast_count,advance_fee_rate,spot_fee_rate,start_time,end_time,free_cancel_time,availability,distributor_id,created_at,updated_at FROM daily_rates WHERE (rate_plan_id = ? AND distributor_id = ?)
2025-10-21 01:22:49.843 [scheduled-1] DEBUG o.x.h.mapper.DailyRateMapper.selectList - ==> Parameters: 9(Long), 2(Long)
2025-10-21 01:22:49.846 [scheduled-1] DEBUG o.x.h.mapper.DailyRateMapper.selectList - <==      Total: 5
2025-10-21 01:22:49.848 [scheduled-1] DEBUG o.x.h.mapper.DailyRateMapper.selectList - ==>  Preparing: SELECT id,rate_plan_id,business_date,advance_rate,spot_rate,rack_rate,local_rate,orig_advance_rate,orig_spot_rate,quota,advance_breakfast_count,spot_breakfast_count,advance_fee_rate,spot_fee_rate,start_time,end_time,free_cancel_time,availability,distributor_id,created_at,updated_at FROM daily_rates WHERE (rate_plan_id = ? AND distributor_id = ?)
2025-10-21 01:22:49.848 [scheduled-1] DEBUG o.x.h.mapper.DailyRateMapper.selectList - ==> Parameters: 9(Long), 3(Long)
2025-10-21 01:22:49.851 [scheduled-1] DEBUG o.x.h.mapper.DailyRateMapper.selectList - <==      Total: 5
2025-10-21 01:22:49.852 [scheduled-1] INFO  o.x.h.service.impl.AutoStatusSyncServiceImpl - 检查酒店状态: 3
2025-10-21 01:22:49.854 [scheduled-1] INFO  o.x.h.service.impl.AutoStatusSyncServiceImpl - 酒店 3 渠道状态同步完成: 同步完成: 检查了 3 个渠道，更新了 0 个渠道，酒店状态无需更新
2025-10-21 01:22:49.854 [scheduled-1] INFO  o.x.h.service.impl.AutoStatusSyncServiceImpl - 所有酒店状态同步完成，共处理 3 个酒店
2025-10-21 01:22:49.858 [scheduled-1] INFO  o.x.h.schedule.AutoStatusSyncScheduler - 定时自动状态同步完成 - 耗时: 291ms, 处理酒店: 3, 更新酒店: 0, 总渠道: 9, 更新渠道: 0
2025-10-21 01:22:50.881 [scheduled-2] ERROR o.x.h.service.impl.QunarOrderServiceImpl - 查询去哪网订单列表异常
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:431)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrderList(QunarOrderServiceImpl.java:53)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrdersByDateRange(QunarOrderServiceImpl.java:78)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl.syncOrdersFromQunar(QunarOrderSyncServiceImpl.java:66)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:716)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl$$SpringCGLIB$$0.syncOrdersFromQunar(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 01:22:50.885 [scheduled-2] ERROR o.x.h.service.impl.QunarOrderSyncServiceImpl - 去哪网订单查询失败: errCode=ERROR, errMsg=查询异常: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
2025-10-21 01:22:54.566 [scheduled-5] INFO  o.x.h.service.impl.ScheduledApiServiceImpl - 开始定时同步品牌数据...
2025-10-21 01:22:54.567 [scheduled-5] DEBUG o.x.h.service.impl.JinjiangApiServiceImpl - 开始调用供应商API获取品牌列表
2025-10-21 01:22:54.602 [scheduled-5] INFO  org.xfy.hotelpricecomparison.util.LogUtil - 调用API: https://dfd9fbc3-4bf3-4efc-90c8-60cc60d04ab6.mock.pstmn.io/brand/getBrandList, 请求参数: {"brandCode":null,"languageCode":0}
2025-10-21 01:22:54.605 [scheduled-5] DEBUG o.x.h.service.impl.JinjiangApiServiceImpl - 发送API请求到: https://dfd9fbc3-4bf3-4efc-90c8-60cc60d04ab6.mock.pstmn.io/brand/getBrandList
2025-10-21 01:22:55.873 [scheduled-5] INFO  org.xfy.hotelpricecomparison.util.LogUtil - API响应: https://dfd9fbc3-4bf3-4efc-90c8-60cc60d04ab6.mock.pstmn.io/brand/getBrandList, 响应内容: {"errors":null,"message":"success","msgCode":0,"result":{"brand":[{"brandCode":"JJ001","brandName":"锦江之星","brandType":1,"description":"简约舒适的经济型酒店品牌，为商务和休闲旅客提供优质住宿体验"},{"brandCode":"JJ002","brandName":"维也纳酒店","brandType":2,"description":"精品优选酒店品牌，融合欧式风情与现代设计，提供高品质住宿服务"},{"brandCode":"JJ003","brandName":"锦江都城","brandType":3,"description":"豪华高端酒店品牌，提供奢华住宿体验和顶级服务"}]}}
2025-10-21 01:22:55.881 [scheduled-5] DEBUG o.x.h.service.impl.JinjiangApiServiceImpl - API调用成功: https://dfd9fbc3-4bf3-4efc-90c8-60cc60d04ab6.mock.pstmn.io/brand/getBrandList, 响应状态码: 0
2025-10-21 01:22:55.883 [scheduled-5] INFO  org.xfy.hotelpricecomparison.util.LogUtil - API响应: https://dfd9fbc3-4bf3-4efc-90c8-60cc60d04ab6.mock.pstmn.io/brand/getBrandList (解析后), 响应内容: {"errors":null,"message":"success","msgCode":0,"result":{"brand":[{"brandCode":"JJ001","brandName":"锦江之星","brandType":1,"description":"简约舒适的经济型酒店品牌，为商务和休闲旅客提供优质住宿体验"},{"brandCode":"JJ002","brandName":"维也纳酒店","brandType":2,"description":"精品优选酒店品牌，融合欧式风情与现代设计，提供高品质住宿服务"},{"brandCode":"JJ003","brandName":"锦江都城","brandType":3,"description":"豪华高端酒店品牌，提供奢华住宿体验和顶级服务"}]}}
2025-10-21 01:22:55.883 [scheduled-5] INFO  o.x.h.service.impl.ScheduledApiServiceImpl - 成功获取品牌数据，品牌数量: 3
2025-10-21 01:22:55.884 [scheduled-5] INFO  org.xfy.hotelpricecomparison.util.ValidationUtil - 品牌数据验证完成，有效数据: 3, 无效数据: 0
2025-10-21 01:22:55.886 [scheduled-5] INFO  o.x.h.service.impl.JinjiangBrandServiceImpl - 批量保存或更新品牌，数量: 3
2025-10-21 01:22:55.887 [scheduled-5] ERROR o.x.h.service.impl.JinjiangBrandServiceImpl - 批量保存或更新品牌失败
org.apache.ibatis.binding.BindingException: Invalid bound statement (not found): org.xfy.hotelpricecomparison.mapper.JinjiangBrandMapper.selectByBrandCodes
	at org.apache.ibatis.binding.MapperMethod$SqlCommand.<init>(MapperMethod.java:229)
	at com.baomidou.mybatisplus.core.override.MybatisMapperMethod.<init>(MybatisMapperMethod.java:50)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.lambda$cachedInvoker$0(MybatisMapperProxy.java:111)
	at java.base/java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1708)
	at com.baomidou.mybatisplus.core.toolkit.CollectionUtils.computeIfAbsent(CollectionUtils.java:157)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.cachedInvoker(MybatisMapperProxy.java:98)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.invoke(MybatisMapperProxy.java:89)
	at jdk.proxy4/jdk.proxy4.$Proxy162.selectByBrandCodes(Unknown Source)
	at org.xfy.hotelpricecomparison.service.impl.JinjiangBrandServiceImpl.saveOrUpdateBrands(JinjiangBrandServiceImpl.java:110)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:392)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at org.xfy.hotelpricecomparison.service.impl.JinjiangBrandServiceImpl$$SpringCGLIB$$0.saveOrUpdateBrands(<generated>)
	at org.xfy.hotelpricecomparison.service.impl.ScheduledApiServiceImpl.syncBrandData(ScheduledApiServiceImpl.java:145)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 01:22:55.893 [scheduled-5] ERROR o.x.h.service.impl.ScheduledApiServiceImpl - 定时同步品牌数据失败
java.lang.RuntimeException: 批量保存或更新品牌失败: Invalid bound statement (not found): org.xfy.hotelpricecomparison.mapper.JinjiangBrandMapper.selectByBrandCodes
	at org.xfy.hotelpricecomparison.service.impl.JinjiangBrandServiceImpl.saveOrUpdateBrands(JinjiangBrandServiceImpl.java:152)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:392)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at org.xfy.hotelpricecomparison.service.impl.JinjiangBrandServiceImpl$$SpringCGLIB$$0.saveOrUpdateBrands(<generated>)
	at org.xfy.hotelpricecomparison.service.impl.ScheduledApiServiceImpl.syncBrandData(ScheduledApiServiceImpl.java:145)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.apache.ibatis.binding.BindingException: Invalid bound statement (not found): org.xfy.hotelpricecomparison.mapper.JinjiangBrandMapper.selectByBrandCodes
	at org.apache.ibatis.binding.MapperMethod$SqlCommand.<init>(MapperMethod.java:229)
	at com.baomidou.mybatisplus.core.override.MybatisMapperMethod.<init>(MybatisMapperMethod.java:50)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.lambda$cachedInvoker$0(MybatisMapperProxy.java:111)
	at java.base/java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1708)
	at com.baomidou.mybatisplus.core.toolkit.CollectionUtils.computeIfAbsent(CollectionUtils.java:157)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.cachedInvoker(MybatisMapperProxy.java:98)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.invoke(MybatisMapperProxy.java:89)
	at jdk.proxy4/jdk.proxy4.$Proxy162.selectByBrandCodes(Unknown Source)
	at org.xfy.hotelpricecomparison.service.impl.JinjiangBrandServiceImpl.saveOrUpdateBrands(JinjiangBrandServiceImpl.java:110)
	... 27 common frames omitted
2025-10-21 01:22:57.564 [scheduled-4] INFO  o.x.h.service.impl.ScheduledApiServiceImpl - 开始定时同步酒店ID列表...
2025-10-21 01:22:57.564 [scheduled-4] INFO  o.x.h.service.impl.ScheduledApiServiceImpl - 正在获取第 1 页酒店ID列表，每页 100 条
2025-10-21 01:22:57.564 [scheduled-4] DEBUG o.x.h.service.impl.JinjiangApiServiceImpl - 开始调用供应商API获取酒店ID列表 - 页码: 1, 每页数量: 100
2025-10-21 01:22:57.566 [scheduled-4] INFO  org.xfy.hotelpricecomparison.util.LogUtil - 调用API: https://dfd9fbc3-4bf3-4efc-90c8-60cc60d04ab6.mock.pstmn.io/hotel/getHotelIds, 请求参数: {"brandCodes":null,"pageNum":1,"pageSize":100}
2025-10-21 01:22:57.566 [scheduled-4] DEBUG o.x.h.service.impl.JinjiangApiServiceImpl - 发送API请求到: https://dfd9fbc3-4bf3-4efc-90c8-60cc60d04ab6.mock.pstmn.io/hotel/getHotelIds
2025-10-21 01:22:58.040 [scheduled-4] ERROR o.x.h.service.impl.JinjiangApiServiceImpl - HTTP客户端错误 - URL: https://dfd9fbc3-4bf3-4efc-90c8-60cc60d04ab6.mock.pstmn.io/hotel/getHotelIds, 状态码: 404 NOT_FOUND, 错误信息: {"error":{"name":"mockRequestNotFoundError","message":"Double check your method and the request path and try again. Learn more here: https://learning.postman.com/docs/design-apis/mock-apis/matching-algorithm/","header":"No matching requests"}}
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockRequestNotFoundError","message":"Double check your method and the request path and try again. Learn more here: https://learning.postman.com/docs/design-apis/mock-apis/matching-algorithm/","header":"No matching requests"}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.postForEntity(RestTemplate.java:538)
	at org.xfy.hotelpricecomparison.service.impl.JinjiangApiServiceImpl.callSupplierApi(JinjiangApiServiceImpl.java:195)
	at org.xfy.hotelpricecomparison.service.impl.JinjiangApiServiceImpl.getHotelIds(JinjiangApiServiceImpl.java:94)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.retry.annotation.AnnotationAwareRetryOperationsInterceptor.invoke(AnnotationAwareRetryOperationsInterceptor.java:164)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at org.xfy.hotelpricecomparison.service.impl.JinjiangApiServiceImpl$$SpringCGLIB$$0.getHotelIds(<generated>)
	at org.xfy.hotelpricecomparison.service.impl.ScheduledApiServiceImpl.syncHotelIds(ScheduledApiServiceImpl.java:188)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 01:22:58.043 [scheduled-4] WARN  o.x.h.service.impl.ScheduledApiServiceImpl - 第 1 页获取酒店ID列表失败，响应为空
2025-10-21 01:22:58.043 [scheduled-4] INFO  o.x.h.service.impl.ScheduledApiServiceImpl - 酒店ID列表同步完成，共获取并保存 0 个酒店ID
2025-10-21 01:22:59.557 [scheduled-3] INFO  o.x.h.service.impl.ScheduledApiServiceImpl - 开始定时同步酒店数据...
2025-10-21 01:22:59.558 [scheduled-3] INFO  o.x.h.service.impl.HotelServiceImpl - 获取未同步的酒店列表，限制数量: 50
2025-10-21 01:22:59.559 [scheduled-3] DEBUG o.x.h.mapper.HotelMapper.selectList - ==>  Preparing: SELECT id,hotel_code,hotel_name,hotel_name_en,address,city_code,city_name,district_code,district_name,country_code,hotel_phone,hotel_email,description,policy,guide,check_in_time,check_out_time,hotel_level,star_type,business_type,hotel_type,status,valid,is_request_supplier_data,is_push_to_distributors,open_date,close_date,decoration_date,allow_minors,pets,restaurant,support_foreign_guest,require_eng_name,certificate_type,settlement_currency,brand_code,missing_count,created_at,updated_at,is_changed,change_type FROM hotels WHERE (is_request_supplier_data = ? AND valid = ? AND hotel_code IS NOT NULL) ORDER BY created_at ASC LIMIT 50
2025-10-21 01:22:59.559 [scheduled-3] DEBUG o.x.h.mapper.HotelMapper.selectList - ==> Parameters: 1(Integer), 1(Integer)
2025-10-21 01:22:59.564 [scheduled-3] DEBUG o.x.h.mapper.HotelMapper.selectList - <==      Total: 2
2025-10-21 01:22:59.564 [scheduled-3] INFO  o.x.h.service.impl.ScheduledApiServiceImpl - 从hotels表获取到 2 个未同步的酒店ID
2025-10-21 01:22:59.564 [scheduled-3] INFO  o.x.h.service.impl.ScheduledApiServiceImpl - 开始同步 2 个酒店的数据
2025-10-21 01:22:59.564 [scheduled-3] INFO  o.x.h.service.impl.ScheduledApiServiceImpl - 处理酒店批次，大小: 2
2025-10-21 01:22:59.569 [scheduled-3] DEBUG o.x.h.service.impl.JinjiangApiServiceImpl - 开始调用供应商API获取酒店信息 - 酒店ID: HOTEL002
2025-10-21 01:22:59.569 [ForkJoinPool.commonPool-worker-1] DEBUG o.x.h.service.impl.JinjiangApiServiceImpl - 开始调用供应商API获取酒店信息 - 酒店ID: HOTEL001
2025-10-21 01:22:59.570 [ForkJoinPool.commonPool-worker-1] INFO  org.xfy.hotelpricecomparison.util.LogUtil - 调用API: https://dfd9fbc3-4bf3-4efc-90c8-60cc60d04ab6.mock.pstmn.io/hotel/getHotelInfo, 请求参数: {"innId":"HOTEL001","languageCode":0}
2025-10-21 01:22:59.570 [scheduled-3] INFO  org.xfy.hotelpricecomparison.util.LogUtil - 调用API: https://dfd9fbc3-4bf3-4efc-90c8-60cc60d04ab6.mock.pstmn.io/hotel/getHotelInfo, 请求参数: {"innId":"HOTEL002","languageCode":0}
2025-10-21 01:22:59.570 [ForkJoinPool.commonPool-worker-1] DEBUG o.x.h.service.impl.JinjiangApiServiceImpl - 验证酒店信息请求参数
2025-10-21 01:22:59.570 [scheduled-3] DEBUG o.x.h.service.impl.JinjiangApiServiceImpl - 验证酒店信息请求参数
2025-10-21 01:22:59.571 [ForkJoinPool.commonPool-worker-1] DEBUG o.x.h.service.impl.JinjiangApiServiceImpl - 发送API请求到: https://dfd9fbc3-4bf3-4efc-90c8-60cc60d04ab6.mock.pstmn.io/hotel/getHotelInfo
2025-10-21 01:22:59.571 [scheduled-3] DEBUG o.x.h.service.impl.JinjiangApiServiceImpl - 发送API请求到: https://dfd9fbc3-4bf3-4efc-90c8-60cc60d04ab6.mock.pstmn.io/hotel/getHotelInfo
2025-10-21 01:23:00.071 [ForkJoinPool.commonPool-worker-1] ERROR o.x.h.service.impl.JinjiangApiServiceImpl - HTTP客户端错误 - URL: https://dfd9fbc3-4bf3-4efc-90c8-60cc60d04ab6.mock.pstmn.io/hotel/getHotelInfo, 状态码: 404 NOT_FOUND, 错误信息: {"error":{"name":"mockRequestNotFoundError","message":"Double check your method and the request path and try again. Learn more here: https://learning.postman.com/docs/design-apis/mock-apis/matching-algorithm/","header":"No matching requests"}}
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockRequestNotFoundError","message":"Double check your method and the request path and try again. Learn more here: https://learning.postman.com/docs/design-apis/mock-apis/matching-algorithm/","header":"No matching requests"}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.postForEntity(RestTemplate.java:538)
	at org.xfy.hotelpricecomparison.service.impl.JinjiangApiServiceImpl.callSupplierApi(JinjiangApiServiceImpl.java:195)
	at org.xfy.hotelpricecomparison.service.impl.JinjiangApiServiceImpl.getHotelInfo(JinjiangApiServiceImpl.java:101)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.retry.annotation.AnnotationAwareRetryOperationsInterceptor.invoke(AnnotationAwareRetryOperationsInterceptor.java:164)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at org.xfy.hotelpricecomparison.service.impl.JinjiangApiServiceImpl$$SpringCGLIB$$0.getHotelInfo(<generated>)
	at org.xfy.hotelpricecomparison.service.impl.ScheduledApiServiceImpl.lambda$syncHotelData$0(ScheduledApiServiceImpl.java:342)
	at org.xfy.hotelpricecomparison.util.RetryUtil.executeWithRetry(RetryUtil.java:54)
	at org.xfy.hotelpricecomparison.service.impl.ScheduledApiServiceImpl.lambda$syncHotelData$1(ScheduledApiServiceImpl.java:335)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ReduceOps$ReduceTask.doLeaf(ReduceOps.java:960)
	at java.base/java.util.stream.ReduceOps$ReduceTask.doLeaf(ReduceOps.java:934)
	at java.base/java.util.stream.AbstractTask.compute(AbstractTask.java:327)
	at java.base/java.util.concurrent.CountedCompleter.exec(CountedCompleter.java:754)
	at java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:387)
	at java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1310)
	at java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1841)
	at java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1806)
	at java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:188)
2025-10-21 01:23:00.082 [ForkJoinPool.commonPool-worker-1] WARN  o.x.h.service.impl.ScheduledApiServiceImpl - 获取酒店数据失败，酒店ID: HOTEL001
2025-10-21 01:23:00.633 [scheduled-3] ERROR o.x.h.service.impl.JinjiangApiServiceImpl - HTTP客户端错误 - URL: https://dfd9fbc3-4bf3-4efc-90c8-60cc60d04ab6.mock.pstmn.io/hotel/getHotelInfo, 状态码: 404 NOT_FOUND, 错误信息: {"error":{"name":"mockRequestNotFoundError","message":"Double check your method and the request path and try again. Learn more here: https://learning.postman.com/docs/design-apis/mock-apis/matching-algorithm/","header":"No matching requests"}}
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockRequestNotFoundError","message":"Double check your method and the request path and try again. Learn more here: https://learning.postman.com/docs/design-apis/mock-apis/matching-algorithm/","header":"No matching requests"}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.postForEntity(RestTemplate.java:538)
	at org.xfy.hotelpricecomparison.service.impl.JinjiangApiServiceImpl.callSupplierApi(JinjiangApiServiceImpl.java:195)
	at org.xfy.hotelpricecomparison.service.impl.JinjiangApiServiceImpl.getHotelInfo(JinjiangApiServiceImpl.java:101)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.retry.annotation.AnnotationAwareRetryOperationsInterceptor.invoke(AnnotationAwareRetryOperationsInterceptor.java:164)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at org.xfy.hotelpricecomparison.service.impl.JinjiangApiServiceImpl$$SpringCGLIB$$0.getHotelInfo(<generated>)
	at org.xfy.hotelpricecomparison.service.impl.ScheduledApiServiceImpl.lambda$syncHotelData$0(ScheduledApiServiceImpl.java:342)
	at org.xfy.hotelpricecomparison.util.RetryUtil.executeWithRetry(RetryUtil.java:54)
	at org.xfy.hotelpricecomparison.service.impl.ScheduledApiServiceImpl.lambda$syncHotelData$1(ScheduledApiServiceImpl.java:335)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ReduceOps$ReduceTask.doLeaf(ReduceOps.java:960)
	at java.base/java.util.stream.ReduceOps$ReduceTask.doLeaf(ReduceOps.java:934)
	at java.base/java.util.stream.AbstractTask.compute(AbstractTask.java:327)
	at java.base/java.util.concurrent.CountedCompleter.exec(CountedCompleter.java:754)
	at java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:387)
	at java.base/java.util.concurrent.ForkJoinTask.invoke(ForkJoinTask.java:667)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateParallel(ReduceOps.java:927)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:233)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682)
	at org.xfy.hotelpricecomparison.service.impl.ScheduledApiServiceImpl.syncHotelData(ScheduledApiServiceImpl.java:369)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 01:23:00.638 [scheduled-3] WARN  o.x.h.service.impl.ScheduledApiServiceImpl - 获取酒店数据失败，酒店ID: HOTEL002
2025-10-21 01:23:00.638 [scheduled-3] WARN  o.x.h.service.impl.ScheduledApiServiceImpl - 没有成功获取到任何酒店数据
2025-10-21 01:23:04.558 [scheduled-1] INFO  o.x.h.service.impl.ScheduledApiServiceImpl - 开始定时同步价格数据...
2025-10-21 01:23:04.558 [scheduled-1] INFO  o.x.h.service.impl.ScheduledApiServiceImpl - 价格数据同步完成
2025-10-21 01:23:09.557 [scheduled-2] INFO  o.x.h.service.impl.ScheduledApiServiceImpl - 开始定时同步订单数据...
2025-10-21 01:23:09.558 [scheduled-2] INFO  o.x.h.service.impl.ScheduledApiServiceImpl - 订单数据同步完成
2025-10-21 01:23:19.555 [scheduled-4] INFO  o.x.h.service.impl.ScheduledApiServiceImpl - 开始定时同步酒店房型信息...
2025-10-21 01:23:19.555 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 开始同步去哪网订单...
2025-10-21 01:23:19.555 [scheduled-4] INFO  o.x.h.service.impl.HotelServiceImpl - 获取未同步的酒店列表，限制数量: 10
2025-10-21 01:23:19.555 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 查询时间范围: fromDate=20251021011319, toDate=20251021012319
2025-10-21 01:23:19.555 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderServiceImpl - 开始查询去哪网订单列表: fromDate=20251021011319, toDate=20251021012319, version=3.7
2025-10-21 01:23:19.555 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 生成HMAC签名: data=your_sign_key20251021011319202510210123193.7, hmac=571913569b5333cd630bf419079da1c7
2025-10-21 01:23:19.555 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 构建请求URL: https://2402add9-4b1a-450b-9bed-701d6679a21b.mock.pstmn.io/api.qunar.com/api/ota/otaQueryOrder?fromDate=20251021011319&toDate=20251021012319&version=3.7&hmac=571913569b5333cd630bf419079da1c7
2025-10-21 01:23:19.556 [scheduled-4] DEBUG o.x.h.mapper.HotelMapper.selectList - ==>  Preparing: SELECT id,hotel_code,hotel_name,hotel_name_en,address,city_code,city_name,district_code,district_name,country_code,hotel_phone,hotel_email,description,policy,guide,check_in_time,check_out_time,hotel_level,star_type,business_type,hotel_type,status,valid,is_request_supplier_data,is_push_to_distributors,open_date,close_date,decoration_date,allow_minors,pets,restaurant,support_foreign_guest,require_eng_name,certificate_type,settlement_currency,brand_code,missing_count,created_at,updated_at,is_changed,change_type FROM hotels WHERE (is_request_supplier_data = ? AND valid = ? AND hotel_code IS NOT NULL) ORDER BY created_at ASC LIMIT 10
2025-10-21 01:23:19.558 [scheduled-4] DEBUG o.x.h.mapper.HotelMapper.selectList - ==> Parameters: 1(Integer), 1(Integer)
2025-10-21 01:23:19.560 [scheduled-4] DEBUG o.x.h.mapper.HotelMapper.selectList - <==      Total: 2
2025-10-21 01:23:19.561 [scheduled-4] INFO  o.x.h.service.impl.ScheduledApiServiceImpl - 开始同步 2 个酒店的房型数据
2025-10-21 01:23:19.561 [scheduled-4] DEBUG o.x.h.service.impl.JinjiangApiServiceImpl - 开始调用供应商API获取酒店房型信息 - 酒店ID: HOTEL001
2025-10-21 01:23:19.563 [scheduled-4] INFO  org.xfy.hotelpricecomparison.util.LogUtil - 调用API: https://dfd9fbc3-4bf3-4efc-90c8-60cc60d04ab6.mock.pstmn.io/hotel/getHotelRoomType, 请求参数: {"hotelId":"HOTEL001","roomTypeId":null,"checkInDate":null,"checkOutDate":null}
2025-10-21 01:23:19.563 [scheduled-4] DEBUG o.x.h.service.impl.JinjiangApiServiceImpl - 发送API请求到: https://dfd9fbc3-4bf3-4efc-90c8-60cc60d04ab6.mock.pstmn.io/hotel/getHotelRoomType
2025-10-21 01:23:19.989 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderServiceImpl - 查询去哪网订单列表异常
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:431)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrderList(QunarOrderServiceImpl.java:53)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrdersByDateRange(QunarOrderServiceImpl.java:78)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl.syncOrdersFromQunar(QunarOrderSyncServiceImpl.java:66)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:716)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl$$SpringCGLIB$$0.syncOrdersFromQunar(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 01:23:19.991 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderSyncServiceImpl - 去哪网订单查询失败: errCode=ERROR, errMsg=查询异常: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
2025-10-21 01:23:20.653 [scheduled-4] ERROR o.x.h.service.impl.JinjiangApiServiceImpl - HTTP客户端错误 - URL: https://dfd9fbc3-4bf3-4efc-90c8-60cc60d04ab6.mock.pstmn.io/hotel/getHotelRoomType, 状态码: 404 NOT_FOUND, 错误信息: {"error":{"name":"mockRequestNotFoundError","message":"Double check your method and the request path and try again. Learn more here: https://learning.postman.com/docs/design-apis/mock-apis/matching-algorithm/","header":"No matching requests"}}
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockRequestNotFoundError","message":"Double check your method and the request path and try again. Learn more here: https://learning.postman.com/docs/design-apis/mock-apis/matching-algorithm/","header":"No matching requests"}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.postForEntity(RestTemplate.java:538)
	at org.xfy.hotelpricecomparison.service.impl.JinjiangApiServiceImpl.callSupplierApi(JinjiangApiServiceImpl.java:195)
	at org.xfy.hotelpricecomparison.service.impl.JinjiangApiServiceImpl.getHotelRoomType(JinjiangApiServiceImpl.java:108)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.retry.annotation.AnnotationAwareRetryOperationsInterceptor.invoke(AnnotationAwareRetryOperationsInterceptor.java:164)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at org.xfy.hotelpricecomparison.service.impl.JinjiangApiServiceImpl$$SpringCGLIB$$0.getHotelRoomType(<generated>)
	at org.xfy.hotelpricecomparison.service.impl.ScheduledApiServiceImpl.lambda$syncHotelRoomTypes$2(ScheduledApiServiceImpl.java:461)
	at org.xfy.hotelpricecomparison.util.RetryUtil.executeWithRetry(RetryUtil.java:54)
	at org.xfy.hotelpricecomparison.service.impl.ScheduledApiServiceImpl.syncHotelRoomTypes(ScheduledApiServiceImpl.java:455)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 01:23:20.655 [scheduled-4] WARN  o.x.h.service.impl.ScheduledApiServiceImpl - 获取房型数据失败，酒店ID: HOTEL001
2025-10-21 01:23:20.858 [scheduled-4] DEBUG o.x.h.service.impl.JinjiangApiServiceImpl - 开始调用供应商API获取酒店房型信息 - 酒店ID: HOTEL002
2025-10-21 01:23:20.859 [scheduled-4] INFO  org.xfy.hotelpricecomparison.util.LogUtil - 调用API: https://dfd9fbc3-4bf3-4efc-90c8-60cc60d04ab6.mock.pstmn.io/hotel/getHotelRoomType, 请求参数: {"hotelId":"HOTEL002","roomTypeId":null,"checkInDate":null,"checkOutDate":null}
2025-10-21 01:23:20.860 [scheduled-4] DEBUG o.x.h.service.impl.JinjiangApiServiceImpl - 发送API请求到: https://dfd9fbc3-4bf3-4efc-90c8-60cc60d04ab6.mock.pstmn.io/hotel/getHotelRoomType
2025-10-21 01:23:21.445 [scheduled-4] ERROR o.x.h.service.impl.JinjiangApiServiceImpl - HTTP客户端错误 - URL: https://dfd9fbc3-4bf3-4efc-90c8-60cc60d04ab6.mock.pstmn.io/hotel/getHotelRoomType, 状态码: 404 NOT_FOUND, 错误信息: {"error":{"name":"mockRequestNotFoundError","message":"Double check your method and the request path and try again. Learn more here: https://learning.postman.com/docs/design-apis/mock-apis/matching-algorithm/","header":"No matching requests"}}
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockRequestNotFoundError","message":"Double check your method and the request path and try again. Learn more here: https://learning.postman.com/docs/design-apis/mock-apis/matching-algorithm/","header":"No matching requests"}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.postForEntity(RestTemplate.java:538)
	at org.xfy.hotelpricecomparison.service.impl.JinjiangApiServiceImpl.callSupplierApi(JinjiangApiServiceImpl.java:195)
	at org.xfy.hotelpricecomparison.service.impl.JinjiangApiServiceImpl.getHotelRoomType(JinjiangApiServiceImpl.java:108)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.retry.annotation.AnnotationAwareRetryOperationsInterceptor.invoke(AnnotationAwareRetryOperationsInterceptor.java:164)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at org.xfy.hotelpricecomparison.service.impl.JinjiangApiServiceImpl$$SpringCGLIB$$0.getHotelRoomType(<generated>)
	at org.xfy.hotelpricecomparison.service.impl.ScheduledApiServiceImpl.lambda$syncHotelRoomTypes$2(ScheduledApiServiceImpl.java:461)
	at org.xfy.hotelpricecomparison.util.RetryUtil.executeWithRetry(RetryUtil.java:54)
	at org.xfy.hotelpricecomparison.service.impl.ScheduledApiServiceImpl.syncHotelRoomTypes(ScheduledApiServiceImpl.java:455)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 01:23:21.446 [scheduled-4] WARN  o.x.h.service.impl.ScheduledApiServiceImpl - 获取房型数据失败，酒店ID: HOTEL002
2025-10-21 01:23:21.661 [scheduled-4] INFO  o.x.h.service.impl.ScheduledApiServiceImpl - 房型数据同步完成，成功: 0, 失败: 2
2025-10-21 01:23:49.485 [MessageBroker-1] INFO  o.s.web.socket.config.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2025-10-21 01:23:49.561 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 开始同步去哪网订单...
2025-10-21 01:23:49.561 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 查询时间范围: fromDate=20251021011349, toDate=20251021012349
2025-10-21 01:23:49.562 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderServiceImpl - 开始查询去哪网订单列表: fromDate=20251021011349, toDate=20251021012349, version=3.7
2025-10-21 01:23:49.562 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 生成HMAC签名: data=your_sign_key20251021011349202510210123493.7, hmac=c8e4fe7fab10528de9704080791f1cc8
2025-10-21 01:23:49.566 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 构建请求URL: https://2402add9-4b1a-450b-9bed-701d6679a21b.mock.pstmn.io/api.qunar.com/api/ota/otaQueryOrder?fromDate=20251021011349&toDate=20251021012349&version=3.7&hmac=c8e4fe7fab10528de9704080791f1cc8
2025-10-21 01:23:50.569 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderServiceImpl - 查询去哪网订单列表异常
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:431)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrderList(QunarOrderServiceImpl.java:53)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrdersByDateRange(QunarOrderServiceImpl.java:78)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl.syncOrdersFromQunar(QunarOrderSyncServiceImpl.java:66)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:716)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl$$SpringCGLIB$$0.syncOrdersFromQunar(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 01:23:50.570 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderSyncServiceImpl - 去哪网订单查询失败: errCode=ERROR, errMsg=查询异常: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
2025-10-21 01:24:19.552 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 开始同步去哪网订单...
2025-10-21 01:24:19.552 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 查询时间范围: fromDate=20251021011419, toDate=20251021012419
2025-10-21 01:24:19.552 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderServiceImpl - 开始查询去哪网订单列表: fromDate=20251021011419, toDate=20251021012419, version=3.7
2025-10-21 01:24:19.552 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 生成HMAC签名: data=your_sign_key20251021011419202510210124193.7, hmac=dd703100f99346f68aca3d4cd0b7f7ea
2025-10-21 01:24:19.552 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 构建请求URL: https://2402add9-4b1a-450b-9bed-701d6679a21b.mock.pstmn.io/api.qunar.com/api/ota/otaQueryOrder?fromDate=20251021011419&toDate=20251021012419&version=3.7&hmac=dd703100f99346f68aca3d4cd0b7f7ea
2025-10-21 01:24:20.003 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderServiceImpl - 查询去哪网订单列表异常
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:431)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrderList(QunarOrderServiceImpl.java:53)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrdersByDateRange(QunarOrderServiceImpl.java:78)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl.syncOrdersFromQunar(QunarOrderSyncServiceImpl.java:66)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:716)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl$$SpringCGLIB$$0.syncOrdersFromQunar(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 01:24:20.004 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderSyncServiceImpl - 去哪网订单查询失败: errCode=ERROR, errMsg=查询异常: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
2025-10-21 01:24:37.329 [http-nio-8080-exec-1] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-21 01:24:37.329 [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-10-21 01:24:37.329 [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-10-21 01:24:37.392 [http-nio-8080-exec-1] INFO  o.x.hotelpricecomparison.controller.AuthController - 收到登录请求: username=wzx
2025-10-21 01:24:37.392 [http-nio-8080-exec-1] INFO  o.x.h.service.impl.SysUserServiceImpl - 开始查询用户: username=wzx
2025-10-21 01:24:37.392 [http-nio-8080-exec-1] INFO  o.x.h.service.impl.SysUserServiceImpl - 查询条件: (username = #{ew.paramNameValuePairs.MPGENVAL1})
2025-10-21 01:24:37.392 [http-nio-8080-exec-1] DEBUG o.x.h.mapper.SysUserMapper.selectList - ==>  Preparing: SELECT id, username, password, email, phone, role FROM sys_user
2025-10-21 01:24:37.392 [http-nio-8080-exec-1] DEBUG o.x.h.mapper.SysUserMapper.selectList - ==> Parameters: 
2025-10-21 01:24:37.405 [http-nio-8080-exec-1] DEBUG o.x.h.mapper.SysUserMapper.selectList - <==      Total: 3
2025-10-21 01:24:37.405 [http-nio-8080-exec-1] INFO  o.x.h.service.impl.SysUserServiceImpl - 查询结果数量: 3
2025-10-21 01:24:37.406 [http-nio-8080-exec-1] INFO  o.x.h.service.impl.SysUserServiceImpl - 查询到的用户: admin
2025-10-21 01:24:37.406 [http-nio-8080-exec-1] INFO  o.x.h.service.impl.SysUserServiceImpl - 查询到的用户: user
2025-10-21 01:24:37.406 [http-nio-8080-exec-1] INFO  o.x.h.service.impl.SysUserServiceImpl - 查询到的用户: wzx
2025-10-21 01:24:37.406 [http-nio-8080-exec-1] INFO  o.x.h.service.impl.SysUserServiceImpl - 找到匹配的用户: wzx
2025-10-21 01:24:37.406 [http-nio-8080-exec-1] INFO  o.x.hotelpricecomparison.controller.AuthController - 找到用户: wzx
2025-10-21 01:24:37.950 [http-nio-8080-exec-1] INFO  o.x.hotelpricecomparison.controller.AuthController - 密码验证成功: wzx
2025-10-21 01:24:37.953 [http-nio-8080-exec-1] INFO  o.x.hotelpricecomparison.controller.AuthController - 用户登录成功: wzx
2025-10-21 01:24:49.554 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 开始同步去哪网订单...
2025-10-21 01:24:49.555 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 查询时间范围: fromDate=20251021011449, toDate=20251021012449
2025-10-21 01:24:49.555 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderServiceImpl - 开始查询去哪网订单列表: fromDate=20251021011449, toDate=20251021012449, version=3.7
2025-10-21 01:24:49.555 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 生成HMAC签名: data=your_sign_key20251021011449202510210124493.7, hmac=47d71f94e6105c8b04cffef6f2fade19
2025-10-21 01:24:49.555 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 构建请求URL: https://2402add9-4b1a-450b-9bed-701d6679a21b.mock.pstmn.io/api.qunar.com/api/ota/otaQueryOrder?fromDate=20251021011449&toDate=20251021012449&version=3.7&hmac=47d71f94e6105c8b04cffef6f2fade19
2025-10-21 01:24:50.528 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderServiceImpl - 查询去哪网订单列表异常
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:431)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrderList(QunarOrderServiceImpl.java:53)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrdersByDateRange(QunarOrderServiceImpl.java:78)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl.syncOrdersFromQunar(QunarOrderSyncServiceImpl.java:66)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:716)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl$$SpringCGLIB$$0.syncOrdersFromQunar(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 01:24:50.530 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderSyncServiceImpl - 去哪网订单查询失败: errCode=ERROR, errMsg=查询异常: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
2025-10-21 01:25:19.551 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 开始同步去哪网订单...
2025-10-21 01:25:19.551 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 查询时间范围: fromDate=20251021011519, toDate=20251021012519
2025-10-21 01:25:19.551 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderServiceImpl - 开始查询去哪网订单列表: fromDate=20251021011519, toDate=20251021012519, version=3.7
2025-10-21 01:25:19.551 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 生成HMAC签名: data=your_sign_key20251021011519202510210125193.7, hmac=1ed5dc938f43eb64b672c440697c9e69
2025-10-21 01:25:19.552 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 构建请求URL: https://2402add9-4b1a-450b-9bed-701d6679a21b.mock.pstmn.io/api.qunar.com/api/ota/otaQueryOrder?fromDate=20251021011519&toDate=20251021012519&version=3.7&hmac=1ed5dc938f43eb64b672c440697c9e69
2025-10-21 01:25:20.508 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderServiceImpl - 查询去哪网订单列表异常
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:431)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrderList(QunarOrderServiceImpl.java:53)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrdersByDateRange(QunarOrderServiceImpl.java:78)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl.syncOrdersFromQunar(QunarOrderSyncServiceImpl.java:66)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:716)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl$$SpringCGLIB$$0.syncOrdersFromQunar(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 01:25:20.509 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderSyncServiceImpl - 去哪网订单查询失败: errCode=ERROR, errMsg=查询异常: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
2025-10-21 01:25:49.554 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 开始同步去哪网订单...
2025-10-21 01:25:49.554 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 查询时间范围: fromDate=20251021011549, toDate=20251021012549
2025-10-21 01:25:49.554 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderServiceImpl - 开始查询去哪网订单列表: fromDate=20251021011549, toDate=20251021012549, version=3.7
2025-10-21 01:25:49.555 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 生成HMAC签名: data=your_sign_key20251021011549202510210125493.7, hmac=bd9a4af88b852a2e40b61cca66dbc245
2025-10-21 01:25:49.555 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 构建请求URL: https://2402add9-4b1a-450b-9bed-701d6679a21b.mock.pstmn.io/api.qunar.com/api/ota/otaQueryOrder?fromDate=20251021011549&toDate=20251021012549&version=3.7&hmac=bd9a4af88b852a2e40b61cca66dbc245
2025-10-21 01:25:50.017 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderServiceImpl - 查询去哪网订单列表异常
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:431)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrderList(QunarOrderServiceImpl.java:53)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrdersByDateRange(QunarOrderServiceImpl.java:78)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl.syncOrdersFromQunar(QunarOrderSyncServiceImpl.java:66)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:716)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl$$SpringCGLIB$$0.syncOrdersFromQunar(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 01:25:50.020 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderSyncServiceImpl - 去哪网订单查询失败: errCode=ERROR, errMsg=查询异常: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
2025-10-21 01:26:19.558 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 开始同步去哪网订单...
2025-10-21 01:26:19.559 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 查询时间范围: fromDate=20251021011619, toDate=20251021012619
2025-10-21 01:26:19.559 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderServiceImpl - 开始查询去哪网订单列表: fromDate=20251021011619, toDate=20251021012619, version=3.7
2025-10-21 01:26:19.559 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 生成HMAC签名: data=your_sign_key20251021011619202510210126193.7, hmac=e296226e442e66ac995459ddd35b74b1
2025-10-21 01:26:19.559 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 构建请求URL: https://2402add9-4b1a-450b-9bed-701d6679a21b.mock.pstmn.io/api.qunar.com/api/ota/otaQueryOrder?fromDate=20251021011619&toDate=20251021012619&version=3.7&hmac=e296226e442e66ac995459ddd35b74b1
2025-10-21 01:26:20.023 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderServiceImpl - 查询去哪网订单列表异常
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:431)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrderList(QunarOrderServiceImpl.java:53)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrdersByDateRange(QunarOrderServiceImpl.java:78)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl.syncOrdersFromQunar(QunarOrderSyncServiceImpl.java:66)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:716)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl$$SpringCGLIB$$0.syncOrdersFromQunar(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 01:26:20.027 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderSyncServiceImpl - 去哪网订单查询失败: errCode=ERROR, errMsg=查询异常: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
2025-10-21 01:26:49.558 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 开始同步去哪网订单...
2025-10-21 01:26:49.559 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 查询时间范围: fromDate=20251021011649, toDate=20251021012649
2025-10-21 01:26:49.559 [scheduled-5] INFO  o.x.h.service.impl.QunarOrderServiceImpl - 开始查询去哪网订单列表: fromDate=20251021011649, toDate=20251021012649, version=3.7
2025-10-21 01:26:49.559 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 生成HMAC签名: data=your_sign_key20251021011649202510210126493.7, hmac=b481fbaf1a731707d8ea7a2aa6bdaaf1
2025-10-21 01:26:49.559 [scheduled-5] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 构建请求URL: https://2402add9-4b1a-450b-9bed-701d6679a21b.mock.pstmn.io/api.qunar.com/api/ota/otaQueryOrder?fromDate=20251021011649&toDate=20251021012649&version=3.7&hmac=b481fbaf1a731707d8ea7a2aa6bdaaf1
2025-10-21 01:26:50.536 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderServiceImpl - 查询去哪网订单列表异常
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:431)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrderList(QunarOrderServiceImpl.java:53)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrdersByDateRange(QunarOrderServiceImpl.java:78)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl.syncOrdersFromQunar(QunarOrderSyncServiceImpl.java:66)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:716)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl$$SpringCGLIB$$0.syncOrdersFromQunar(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 01:26:50.539 [scheduled-5] ERROR o.x.h.service.impl.QunarOrderSyncServiceImpl - 去哪网订单查询失败: errCode=ERROR, errMsg=查询异常: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
2025-10-21 01:27:54.150 [restartedMain] INFO  o.x.h.HotelPriceComparisonApplication - Starting HotelPriceComparisonApplication using Java 21.0.8 with PID 16828 (C:\Hotel\HotelBack\build\classes\java\main started by wangz in C:\Hotel\HotelBack)
2025-10-21 01:27:54.156 [restartedMain] DEBUG o.x.h.HotelPriceComparisonApplication - Running with Spring Boot v3.2.5, Spring v6.1.6
2025-10-21 01:27:54.159 [restartedMain] INFO  o.x.h.HotelPriceComparisonApplication - No active profile set, falling back to 1 default profile: "default"
2025-10-21 01:27:54.389 [restartedMain] INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-10-21 01:27:54.390 [restartedMain] INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-10-21 01:28:02.513 [restartedMain] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-21 01:28:02.521 [restartedMain] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-21 01:28:02.660 [restartedMain] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 120 ms. Found 0 JPA repository interfaces.
2025-10-21 01:28:02.691 [restartedMain] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-21 01:28:02.691 [restartedMain] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-21 01:28:02.743 [restartedMain] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 21 ms. Found 0 Redis repository interfaces.
2025-10-21 01:28:07.098 [restartedMain] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-10-21 01:28:07.126 [restartedMain] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-10-21 01:28:07.126 [restartedMain] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.20]
2025-10-21 01:28:07.234 [restartedMain] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-10-21 01:28:07.236 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 12843 ms
2025-10-21 01:28:07.718 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-10-21 01:28:09.081 [restartedMain] ERROR com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Exception during pool initialization.
java.sql.SQLException: Access denied for user 'root'@'localhost' (using password: NO)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:815)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:438)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:241)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:189)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:100)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration.getConnectionUrl(H2ConsoleAutoConfiguration.java:94)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at java.base/java.util.stream.SortedOps$RefSortingSink.end(SortedOps.java:395)
	at java.base/java.util.stream.Sink$ChainedReference.end(Sink.java:261)
	at java.base/java.util.stream.Sink$ChainedReference.end(Sink.java:261)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:510)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)
	at org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration.logDataSources(H2ConsoleAutoConfiguration.java:86)
	at org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration.lambda$h2Console$0(H2ConsoleAutoConfiguration.java:69)
	at org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration.withThreadContextClassLoader(H2ConsoleAutoConfiguration.java:78)
	at org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration.h2Console(H2ConsoleAutoConfiguration.java:69)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:140)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:644)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:636)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1335)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1165)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:210)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:201)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addServletContextInitializerBeans(ServletContextInitializerBeans.java:96)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:85)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:266)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:240)
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:52)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4880)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:845)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:240)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:433)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:921)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:437)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:126)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:105)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:499)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:218)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:188)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:162)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:618)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at org.xfy.hotelpricecomparison.HotelPriceComparisonApplication.main(HotelPriceComparisonApplication.java:16)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
2025-10-21 01:28:10.272 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-10-21 01:28:11.297 [restartedMain] ERROR com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Exception during pool initialization.
java.sql.SQLException: Access denied for user 'root'@'localhost' (using password: NO)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:815)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:438)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:241)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:189)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:100)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:160)
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:118)
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:81)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:342)
	at org.springframework.boot.jdbc.EmbeddedDatabaseConnection.isEmbedded(EmbeddedDatabaseConnection.java:168)
	at org.springframework.boot.autoconfigure.orm.jpa.HibernateDefaultDdlAutoProvider.getDefaultDdlAuto(HibernateDefaultDdlAutoProvider.java:42)
	at org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration.lambda$getVendorProperties$1(HibernateJpaConfiguration.java:142)
	at org.springframework.boot.autoconfigure.orm.jpa.HibernateSettings.getDdlAuto(HibernateSettings.java:41)
	at org.springframework.boot.autoconfigure.orm.jpa.HibernateProperties.determineDdlAuto(HibernateProperties.java:118)
	at org.springframework.boot.autoconfigure.orm.jpa.HibernateProperties.getAdditionalProperties(HibernateProperties.java:87)
	at org.springframework.boot.autoconfigure.orm.jpa.HibernateProperties.determineHibernateProperties(HibernateProperties.java:80)
	at org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration.getVendorProperties(HibernateJpaConfiguration.java:143)
	at org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration.entityManagerFactory(JpaBaseConfiguration.java:132)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:140)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:644)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:636)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1335)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1165)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1234)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:952)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at org.xfy.hotelpricecomparison.HotelPriceComparisonApplication.main(HotelPriceComparisonApplication.java:16)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
2025-10-21 01:28:11.395 [restartedMain] INFO  org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-21 01:28:11.706 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.4.Final
2025-10-21 01:28:11.860 [restartedMain] INFO  o.hibernate.cache.internal.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-10-21 01:28:12.721 [restartedMain] INFO  o.s.o.j.persistenceunit.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-21 01:28:12.816 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-10-21 01:28:13.827 [restartedMain] ERROR com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Exception during pool initialization.
java.sql.SQLException: Access denied for user 'root'@'localhost' (using password: NO)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:815)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:438)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:241)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:189)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:100)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:428)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcIsolationDelegate.delegateWork(JdbcIsolationDelegate.java:61)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.getJdbcEnvironmentUsingJdbcMetadata(JdbcEnvironmentInitiator.java:276)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:107)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:68)
	at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:130)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:238)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:215)
	at org.hibernate.boot.model.relational.Database.<init>(Database.java:45)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.getDatabase(InFlightMetadataCollectorImpl.java:223)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.<init>(InFlightMetadataCollectorImpl.java:191)
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:170)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1432)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1503)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1234)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:952)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at org.xfy.hotelpricecomparison.HotelPriceComparisonApplication.main(HotelPriceComparisonApplication.java:16)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
2025-10-21 01:28:13.838 [restartedMain] WARN  o.h.e.jdbc.env.internal.JdbcEnvironmentInitiator - HHH000342: Could not obtain connection to query metadata
java.lang.NullPointerException: Cannot invoke "org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(java.sql.SQLException, String)" because the return value of "org.hibernate.resource.transaction.backend.jdbc.internal.JdbcIsolationDelegate.sqlExceptionHelper()" is null
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcIsolationDelegate.delegateWork(JdbcIsolationDelegate.java:116)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.getJdbcEnvironmentUsingJdbcMetadata(JdbcEnvironmentInitiator.java:276)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:107)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:68)
	at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:130)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:238)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:215)
	at org.hibernate.boot.model.relational.Database.<init>(Database.java:45)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.getDatabase(InFlightMetadataCollectorImpl.java:223)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.<init>(InFlightMetadataCollectorImpl.java:191)
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:170)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1432)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1503)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1234)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:952)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at org.xfy.hotelpricecomparison.HotelPriceComparisonApplication.main(HotelPriceComparisonApplication.java:16)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
2025-10-21 01:28:13.839 [restartedMain] ERROR o.s.orm.jpa.LocalContainerEntityManagerFactoryBean - Failed to initialize JPA EntityManagerFactory: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment] due to: Unable to determine Dialect without JDBC metadata (please set 'jakarta.persistence.jdbc.url' for common cases or 'hibernate.dialect' when a custom Dialect implementation must be provided)
2025-10-21 01:28:13.839 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment] due to: Unable to determine Dialect without JDBC metadata (please set 'jakarta.persistence.jdbc.url' for common cases or 'hibernate.dialect' when a custom Dialect implementation must be provided)
2025-10-21 01:28:13.854 [restartedMain] INFO  org.apache.catalina.core.StandardService - Stopping service [Tomcat]
2025-10-21 01:28:13.902 [restartedMain] INFO  o.s.b.a.logging.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-10-21 01:28:14.018 [restartedMain] ERROR org.springframework.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment] due to: Unable to determine Dialect without JDBC metadata (please set 'jakarta.persistence.jdbc.url' for common cases or 'hibernate.dialect' when a custom Dialect implementation must be provided)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1786)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1234)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:952)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at org.xfy.hotelpricecomparison.HotelPriceComparisonApplication.main(HotelPriceComparisonApplication.java:16)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment] due to: Unable to determine Dialect without JDBC metadata (please set 'jakarta.persistence.jdbc.url' for common cases or 'hibernate.dialect' when a custom Dialect implementation must be provided)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:276)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:238)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:215)
	at org.hibernate.boot.model.relational.Database.<init>(Database.java:45)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.getDatabase(InFlightMetadataCollectorImpl.java:223)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.<init>(InFlightMetadataCollectorImpl.java:191)
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:170)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1432)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1503)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	... 19 common frames omitted
Caused by: org.hibernate.HibernateException: Unable to determine Dialect without JDBC metadata (please set 'jakarta.persistence.jdbc.url' for common cases or 'hibernate.dialect' when a custom Dialect implementation must be provided)
	at org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl.determineDialect(DialectFactoryImpl.java:191)
	at org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl.buildDialect(DialectFactoryImpl.java:87)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.getJdbcEnvironmentWithDefaults(JdbcEnvironmentInitiator.java:143)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.getJdbcEnvironmentUsingJdbcMetadata(JdbcEnvironmentInitiator.java:348)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:107)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:68)
	at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:130)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263)
	... 34 common frames omitted
2025-10-21 01:29:26.799 [restartedMain] INFO  o.x.h.HotelPriceComparisonApplication - Starting HotelPriceComparisonApplication using Java 21.0.8 with PID 14656 (C:\Hotel\HotelBack\build\classes\java\main started by wangz in C:\Hotel\HotelBack)
2025-10-21 01:29:26.801 [restartedMain] DEBUG o.x.h.HotelPriceComparisonApplication - Running with Spring Boot v3.2.5, Spring v6.1.6
2025-10-21 01:29:26.801 [restartedMain] INFO  o.x.h.HotelPriceComparisonApplication - No active profile set, falling back to 1 default profile: "default"
2025-10-21 01:29:26.886 [restartedMain] INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-10-21 01:29:26.886 [restartedMain] INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-10-21 01:29:29.591 [restartedMain] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-21 01:29:29.595 [restartedMain] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-21 01:29:29.676 [restartedMain] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 64 ms. Found 0 JPA repository interfaces.
2025-10-21 01:29:29.700 [restartedMain] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-21 01:29:29.702 [restartedMain] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-21 01:29:29.735 [restartedMain] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 15 ms. Found 0 Redis repository interfaces.
2025-10-21 01:29:32.292 [restartedMain] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-10-21 01:29:32.313 [restartedMain] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-10-21 01:29:32.314 [restartedMain] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.20]
2025-10-21 01:29:32.413 [restartedMain] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-10-21 01:29:32.413 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 5526 ms
2025-10-21 01:29:32.836 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-10-21 01:29:33.102 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5844d8ab
2025-10-21 01:29:33.102 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-10-21 01:29:33.113 [restartedMain] INFO  o.s.b.autoconfigure.h2.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:mysql://localhost:3306/hotel_price_comparison?useUnicode=true&characterEncoding=utf8&useSSL=false&serverTimezone=Asia/Shanghai&allowPublicKeyRetrieval=true'
2025-10-21 01:29:33.747 [restartedMain] INFO  org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-21 01:29:33.853 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.4.Final
2025-10-21 01:29:33.913 [restartedMain] INFO  o.hibernate.cache.internal.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-10-21 01:29:34.337 [restartedMain] INFO  o.s.o.j.persistenceunit.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-21 01:29:36.106 [restartedMain] INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-10-21 01:29:36.113 [restartedMain] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-21 01:29:37.097 [restartedMain] WARN  c.b.mybatisplus.core.injector.methods.Insert - [org.xfy.hotelpricecomparison.mapper.SysUserMapper.insert] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.Insert]
2025-10-21 01:29:37.106 [restartedMain] WARN  c.b.mybatisplus.core.injector.methods.SelectList - [org.xfy.hotelpricecomparison.mapper.SysUserMapper.selectList] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.SelectList]
2025-10-21 01:29:37.107 [restartedMain] WARN  c.b.mybatisplus.core.injector.methods.DeleteById - [org.xfy.hotelpricecomparison.mapper.SysUserMapper.deleteById] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.DeleteById]
2025-10-21 01:29:37.109 [restartedMain] WARN  c.b.mybatisplus.core.injector.methods.UpdateById - [org.xfy.hotelpricecomparison.mapper.SysUserMapper.updateById] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.UpdateById]
2025-10-21 01:29:37.110 [restartedMain] WARN  c.b.mybatisplus.core.injector.methods.SelectById - [org.xfy.hotelpricecomparison.mapper.SysUserMapper.selectById] Has been loaded by XML or SqlProvider or Mybatis's Annotation, so ignoring this injection for [class com.baomidou.mybatisplus.core.injector.methods.SelectById]
2025-10-21 01:29:38.648 [restartedMain] INFO  o.x.h.service.impl.JinjiangApiServiceImpl - RestTemplate超时配置已设置 - 连接超时: 5000ms, 读取超时: 10000ms
2025-10-21 01:29:40.779 [restartedMain] INFO  o.xfy.hotelpricecomparison.config.SchedulingConfig - 定时任务线程池配置完成，线程池大小: 0
2025-10-21 01:29:41.084 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-10-21 01:29:43.998 [restartedMain] INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver - Exposing 2 endpoint(s) beneath base path '/actuator'
2025-10-21 01:29:44.332 [restartedMain] INFO  o.s.security.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2e1f03c0, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1b21af09, org.springframework.security.web.context.SecurityContextHolderFilter@2bfdb9c1, org.springframework.security.web.header.HeaderWriterFilter@4d2f0275, org.springframework.web.filter.CorsFilter@4ed41062, org.springframework.security.web.authentication.logout.LogoutFilter@50f2a13, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@3775c61b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@738d2a48, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@48e0f4a7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3079bf1a, org.springframework.security.web.session.SessionManagementFilter@7213ddfe, org.springframework.security.web.access.ExceptionTranslationFilter@499eaec0, org.springframework.security.web.access.intercept.AuthorizationFilter@56f08364]
2025-10-21 01:29:48.141 [restartedMain] INFO  o.s.b.d.autoconfigure.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-10-21 01:29:48.397 [restartedMain] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2025-10-21 01:29:48.400 [restartedMain] INFO  o.s.m.simp.broker.SimpleBrokerMessageHandler - Starting...
2025-10-21 01:29:48.402 [restartedMain] INFO  o.s.m.simp.broker.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@7b3245e7]]
2025-10-21 01:29:48.402 [restartedMain] INFO  o.s.m.simp.broker.SimpleBrokerMessageHandler - Started.
2025-10-21 01:29:48.449 [restartedMain] INFO  o.x.h.HotelPriceComparisonApplication - Started HotelPriceComparisonApplication in 22.457 seconds (process running for 23.387)
2025-10-21 01:29:48.462 [scheduled-3] INFO  o.x.h.schedule.AutoStatusSyncScheduler - 开始执行定时自动状态同步任务
2025-10-21 01:29:48.462 [scheduled-4] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 开始同步去哪网订单...
2025-10-21 01:29:48.462 [scheduled-1] INFO  o.x.h.schedule.HotelChangeNotificationScheduler - === 开始执行酒店变更通知定时任务 ===
2025-10-21 01:29:48.464 [scheduled-4] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 查询时间范围: fromDate=20251021011948, toDate=20251021012948
2025-10-21 01:29:48.464 [scheduled-4] INFO  o.x.h.service.impl.QunarOrderServiceImpl - 开始查询去哪网订单列表: fromDate=20251021011948, toDate=20251021012948, version=3.7
2025-10-21 01:29:48.465 [scheduled-4] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 生成HMAC签名: data=your_sign_key20251021011948202510210129483.7, hmac=9bde67d7cd0cce71524b960e39b2f6a9
2025-10-21 01:29:48.487 [scheduled-4] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 构建请求URL: https://2402add9-4b1a-450b-9bed-701d6679a21b.mock.pstmn.io/api.qunar.com/api/ota/otaQueryOrder?fromDate=20251021011948&toDate=20251021012948&version=3.7&hmac=9bde67d7cd0cce71524b960e39b2f6a9
2025-10-21 01:29:48.569 [scheduled-3] INFO  o.x.h.service.impl.AutoStatusSyncServiceImpl - 开始同步所有酒店状态
2025-10-21 01:29:48.569 [scheduled-1] INFO  o.x.h.service.impl.HotelChangeServiceImpl - 开始通知去哪网酒店变更...
2025-10-21 01:29:48.569 [scheduled-1] INFO  o.x.h.service.impl.HotelChangeServiceImpl - 获取有变化的酒店列表
2025-10-21 01:29:48.611 [scheduled-1] DEBUG o.x.h.mapper.HotelChangeMapper.getChangedHotels - ==>  Preparing: SELECT id, hotel_code, hotel_name, city_name, address, hotel_phone, description, is_changed, change_type, updated_at FROM hotels WHERE is_changed = 1 AND is_push_to_distributors = 1 ORDER BY updated_at DESC
2025-10-21 01:29:48.669 [scheduled-1] DEBUG o.x.h.mapper.HotelChangeMapper.getChangedHotels - ==> Parameters: 
2025-10-21 01:29:48.690 [scheduled-3] DEBUG o.x.h.mapper.HotelMapper.selectList - ==>  Preparing: SELECT id,hotel_code,hotel_name,hotel_name_en,address,city_code,city_name,district_code,district_name,country_code,hotel_phone,hotel_email,description,policy,guide,check_in_time,check_out_time,hotel_level,star_type,business_type,hotel_type,status,valid,is_request_supplier_data,is_push_to_distributors,open_date,close_date,decoration_date,allow_minors,pets,restaurant,support_foreign_guest,require_eng_name,certificate_type,settlement_currency,brand_code,missing_count,created_at,updated_at,is_changed,change_type FROM hotels WHERE (valid = ?)
2025-10-21 01:29:48.694 [scheduled-3] DEBUG o.x.h.mapper.HotelMapper.selectList - ==> Parameters: 1(Integer)
2025-10-21 01:29:48.705 [scheduled-1] DEBUG o.x.h.mapper.HotelChangeMapper.getChangedHotels - <==      Total: 0
2025-10-21 01:29:48.707 [scheduled-1] INFO  o.x.h.service.impl.HotelChangeServiceImpl - 找到 0 个有变化的酒店
2025-10-21 01:29:48.707 [scheduled-1] INFO  o.x.h.service.impl.HotelChangeServiceImpl - 没有发现酒店变更，跳过通知
2025-10-21 01:29:48.714 [scheduled-1] INFO  o.x.h.schedule.HotelChangeNotificationScheduler - === 酒店变更通知任务执行成功，耗时: 251ms ===
2025-10-21 01:29:48.720 [scheduled-3] DEBUG o.x.h.mapper.HotelMapper.selectList - <==      Total: 3
2025-10-21 01:29:48.721 [scheduled-3] INFO  o.x.h.service.impl.AutoStatusSyncServiceImpl - 开始同步酒店 1 的渠道状态
2025-10-21 01:29:48.723 [scheduled-3] DEBUG o.x.h.mapper.HotelMapper.selectById - ==>  Preparing: SELECT id,hotel_code,hotel_name,hotel_name_en,address,city_code,city_name,district_code,district_name,country_code,hotel_phone,hotel_email,description,policy,guide,check_in_time,check_out_time,hotel_level,star_type,business_type,hotel_type,status,valid,is_request_supplier_data,is_push_to_distributors,open_date,close_date,decoration_date,allow_minors,pets,restaurant,support_foreign_guest,require_eng_name,certificate_type,settlement_currency,brand_code,missing_count,created_at,updated_at,is_changed,change_type FROM hotels WHERE id=?
2025-10-21 01:29:48.725 [scheduled-3] DEBUG o.x.h.mapper.HotelMapper.selectById - ==> Parameters: 1(Long)
2025-10-21 01:29:48.731 [scheduled-3] DEBUG o.x.h.mapper.HotelMapper.selectById - <==      Total: 1
2025-10-21 01:29:48.734 [scheduled-3] DEBUG o.x.h.mapper.RoomTypeMapper.selectList - ==>  Preparing: SELECT id,hotel_id,room_type_name,room_type_code,room_type_name_en,max_occupancy,bed_type,bed_type_name,room_size,supplier_specific_data,distributor_specific_data,description,status,valid,created_at,updated_at FROM room_types WHERE (hotel_id = ? AND valid = ?)
2025-10-21 01:29:48.735 [scheduled-3] DEBUG o.x.h.mapper.RoomTypeMapper.selectList - ==> Parameters: 1(Long), 1(Integer)
2025-10-21 01:29:48.739 [scheduled-3] DEBUG o.x.h.mapper.RoomTypeMapper.selectList - <==      Total: 2
2025-10-21 01:29:48.744 [scheduled-3] DEBUG o.x.h.m.D.selectList - ==>  Preparing: SELECT id,room_type_id,distributor_id,distributor_room_type_id,distributor_room_type_name,mapping_status,created_at,updated_at FROM distributor_room_type_mappings WHERE (room_type_id IN (?,?))
2025-10-21 01:29:48.745 [scheduled-3] DEBUG o.x.h.m.D.selectList - ==> Parameters: 1(Long), 2(Long)
2025-10-21 01:29:48.750 [scheduled-3] DEBUG o.x.h.m.D.selectList - <==      Total: 6
2025-10-21 01:29:48.753 [scheduled-3] DEBUG o.x.h.mapper.RatePlanMapper.selectList - ==>  Preparing: SELECT id,room_type_id,product_code,product_name,price_type,currency,guests,has_effective_time,incremental_preferent,preferent_info,support_pay,status,valid,supplier_specific_data,distributor_specific_data,created_at,updated_at FROM rate_plans WHERE (room_type_id = ? AND valid = ?)
2025-10-21 01:29:48.754 [scheduled-3] DEBUG o.x.h.mapper.RatePlanMapper.selectList - ==> Parameters: 1(Long), 1(Integer)
2025-10-21 01:29:48.758 [scheduled-3] DEBUG o.x.h.mapper.RatePlanMapper.selectList - <==      Total: 2
2025-10-21 01:29:48.762 [scheduled-3] DEBUG o.x.h.mapper.DailyRateMapper.selectList - ==>  Preparing: SELECT id,rate_plan_id,business_date,advance_rate,spot_rate,rack_rate,local_rate,orig_advance_rate,orig_spot_rate,quota,advance_breakfast_count,spot_breakfast_count,advance_fee_rate,spot_fee_rate,start_time,end_time,free_cancel_time,availability,distributor_id,created_at,updated_at FROM daily_rates WHERE (rate_plan_id = ? AND distributor_id = ?)
2025-10-21 01:29:48.763 [scheduled-3] DEBUG o.x.h.mapper.DailyRateMapper.selectList - ==> Parameters: 1(Long), 1(Long)
2025-10-21 01:29:48.769 [scheduled-3] DEBUG o.x.h.mapper.DailyRateMapper.selectList - <==      Total: 5
2025-10-21 01:29:48.772 [scheduled-3] DEBUG o.x.h.mapper.DailyRateMapper.selectList - ==>  Preparing: SELECT id,rate_plan_id,business_date,advance_rate,spot_rate,rack_rate,local_rate,orig_advance_rate,orig_spot_rate,quota,advance_breakfast_count,spot_breakfast_count,advance_fee_rate,spot_fee_rate,start_time,end_time,free_cancel_time,availability,distributor_id,created_at,updated_at FROM daily_rates WHERE (rate_plan_id = ? AND distributor_id = ?)
2025-10-21 01:29:48.773 [scheduled-3] DEBUG o.x.h.mapper.DailyRateMapper.selectList - ==> Parameters: 1(Long), 2(Long)
2025-10-21 01:29:48.778 [scheduled-3] DEBUG o.x.h.mapper.DailyRateMapper.selectList - <==      Total: 5
2025-10-21 01:29:48.781 [scheduled-3] DEBUG o.x.h.mapper.DailyRateMapper.selectList - ==>  Preparing: SELECT id,rate_plan_id,business_date,advance_rate,spot_rate,rack_rate,local_rate,orig_advance_rate,orig_spot_rate,quota,advance_breakfast_count,spot_breakfast_count,advance_fee_rate,spot_fee_rate,start_time,end_time,free_cancel_time,availability,distributor_id,created_at,updated_at FROM daily_rates WHERE (rate_plan_id = ? AND distributor_id = ?)
2025-10-21 01:29:48.782 [scheduled-3] DEBUG o.x.h.mapper.DailyRateMapper.selectList - ==> Parameters: 1(Long), 3(Long)
2025-10-21 01:29:48.787 [scheduled-3] DEBUG o.x.h.mapper.DailyRateMapper.selectList - <==      Total: 5
2025-10-21 01:29:48.787 [scheduled-3] INFO  o.x.h.service.impl.AutoStatusSyncServiceImpl - 检查酒店状态: 1
2025-10-21 01:29:48.793 [scheduled-3] INFO  o.x.h.service.impl.AutoStatusSyncServiceImpl - 酒店 1 渠道状态同步完成: 同步完成: 检查了 3 个渠道，更新了 0 个渠道，酒店状态无需更新
2025-10-21 01:29:48.794 [scheduled-3] INFO  o.x.h.service.impl.AutoStatusSyncServiceImpl - 开始同步酒店 2 的渠道状态
2025-10-21 01:29:48.794 [scheduled-3] DEBUG o.x.h.mapper.HotelMapper.selectById - ==>  Preparing: SELECT id,hotel_code,hotel_name,hotel_name_en,address,city_code,city_name,district_code,district_name,country_code,hotel_phone,hotel_email,description,policy,guide,check_in_time,check_out_time,hotel_level,star_type,business_type,hotel_type,status,valid,is_request_supplier_data,is_push_to_distributors,open_date,close_date,decoration_date,allow_minors,pets,restaurant,support_foreign_guest,require_eng_name,certificate_type,settlement_currency,brand_code,missing_count,created_at,updated_at,is_changed,change_type FROM hotels WHERE id=?
2025-10-21 01:29:48.796 [scheduled-3] DEBUG o.x.h.mapper.HotelMapper.selectById - ==> Parameters: 2(Long)
2025-10-21 01:29:48.799 [scheduled-3] DEBUG o.x.h.mapper.HotelMapper.selectById - <==      Total: 1
2025-10-21 01:29:48.800 [scheduled-3] DEBUG o.x.h.mapper.RoomTypeMapper.selectList - ==>  Preparing: SELECT id,hotel_id,room_type_name,room_type_code,room_type_name_en,max_occupancy,bed_type,bed_type_name,room_size,supplier_specific_data,distributor_specific_data,description,status,valid,created_at,updated_at FROM room_types WHERE (hotel_id = ? AND valid = ?)
2025-10-21 01:29:48.801 [scheduled-3] DEBUG o.x.h.mapper.RoomTypeMapper.selectList - ==> Parameters: 2(Long), 1(Integer)
2025-10-21 01:29:48.804 [scheduled-3] DEBUG o.x.h.mapper.RoomTypeMapper.selectList - <==      Total: 2
2025-10-21 01:29:48.806 [scheduled-3] DEBUG o.x.h.m.D.selectList - ==>  Preparing: SELECT id,room_type_id,distributor_id,distributor_room_type_id,distributor_room_type_name,mapping_status,created_at,updated_at FROM distributor_room_type_mappings WHERE (room_type_id IN (?,?))
2025-10-21 01:29:48.807 [scheduled-3] DEBUG o.x.h.m.D.selectList - ==> Parameters: 3(Long), 4(Long)
2025-10-21 01:29:48.810 [scheduled-3] DEBUG o.x.h.m.D.selectList - <==      Total: 6
2025-10-21 01:29:48.811 [scheduled-3] DEBUG o.x.h.mapper.RatePlanMapper.selectList - ==>  Preparing: SELECT id,room_type_id,product_code,product_name,price_type,currency,guests,has_effective_time,incremental_preferent,preferent_info,support_pay,status,valid,supplier_specific_data,distributor_specific_data,created_at,updated_at FROM rate_plans WHERE (room_type_id = ? AND valid = ?)
2025-10-21 01:29:48.812 [scheduled-3] DEBUG o.x.h.mapper.RatePlanMapper.selectList - ==> Parameters: 3(Long), 1(Integer)
2025-10-21 01:29:48.815 [scheduled-3] DEBUG o.x.h.mapper.RatePlanMapper.selectList - <==      Total: 2
2025-10-21 01:29:48.817 [scheduled-3] DEBUG o.x.h.mapper.DailyRateMapper.selectList - ==>  Preparing: SELECT id,rate_plan_id,business_date,advance_rate,spot_rate,rack_rate,local_rate,orig_advance_rate,orig_spot_rate,quota,advance_breakfast_count,spot_breakfast_count,advance_fee_rate,spot_fee_rate,start_time,end_time,free_cancel_time,availability,distributor_id,created_at,updated_at FROM daily_rates WHERE (rate_plan_id = ? AND distributor_id = ?)
2025-10-21 01:29:48.818 [scheduled-3] DEBUG o.x.h.mapper.DailyRateMapper.selectList - ==> Parameters: 5(Long), 1(Long)
2025-10-21 01:29:48.822 [scheduled-3] DEBUG o.x.h.mapper.DailyRateMapper.selectList - <==      Total: 5
2025-10-21 01:29:48.824 [scheduled-3] DEBUG o.x.h.mapper.DailyRateMapper.selectList - ==>  Preparing: SELECT id,rate_plan_id,business_date,advance_rate,spot_rate,rack_rate,local_rate,orig_advance_rate,orig_spot_rate,quota,advance_breakfast_count,spot_breakfast_count,advance_fee_rate,spot_fee_rate,start_time,end_time,free_cancel_time,availability,distributor_id,created_at,updated_at FROM daily_rates WHERE (rate_plan_id = ? AND distributor_id = ?)
2025-10-21 01:29:48.825 [scheduled-3] DEBUG o.x.h.mapper.DailyRateMapper.selectList - ==> Parameters: 5(Long), 2(Long)
2025-10-21 01:29:48.829 [scheduled-3] DEBUG o.x.h.mapper.DailyRateMapper.selectList - <==      Total: 5
2025-10-21 01:29:48.832 [scheduled-3] DEBUG o.x.h.mapper.DailyRateMapper.selectList - ==>  Preparing: SELECT id,rate_plan_id,business_date,advance_rate,spot_rate,rack_rate,local_rate,orig_advance_rate,orig_spot_rate,quota,advance_breakfast_count,spot_breakfast_count,advance_fee_rate,spot_fee_rate,start_time,end_time,free_cancel_time,availability,distributor_id,created_at,updated_at FROM daily_rates WHERE (rate_plan_id = ? AND distributor_id = ?)
2025-10-21 01:29:48.833 [scheduled-3] DEBUG o.x.h.mapper.DailyRateMapper.selectList - ==> Parameters: 5(Long), 3(Long)
2025-10-21 01:29:48.837 [scheduled-3] DEBUG o.x.h.mapper.DailyRateMapper.selectList - <==      Total: 5
2025-10-21 01:29:48.837 [scheduled-3] INFO  o.x.h.service.impl.AutoStatusSyncServiceImpl - 检查酒店状态: 2
2025-10-21 01:29:48.839 [scheduled-3] INFO  o.x.h.service.impl.AutoStatusSyncServiceImpl - 酒店 2 渠道状态同步完成: 同步完成: 检查了 3 个渠道，更新了 0 个渠道，酒店状态无需更新
2025-10-21 01:29:48.839 [scheduled-3] INFO  o.x.h.service.impl.AutoStatusSyncServiceImpl - 开始同步酒店 3 的渠道状态
2025-10-21 01:29:48.840 [scheduled-3] DEBUG o.x.h.mapper.HotelMapper.selectById - ==>  Preparing: SELECT id,hotel_code,hotel_name,hotel_name_en,address,city_code,city_name,district_code,district_name,country_code,hotel_phone,hotel_email,description,policy,guide,check_in_time,check_out_time,hotel_level,star_type,business_type,hotel_type,status,valid,is_request_supplier_data,is_push_to_distributors,open_date,close_date,decoration_date,allow_minors,pets,restaurant,support_foreign_guest,require_eng_name,certificate_type,settlement_currency,brand_code,missing_count,created_at,updated_at,is_changed,change_type FROM hotels WHERE id=?
2025-10-21 01:29:48.841 [scheduled-3] DEBUG o.x.h.mapper.HotelMapper.selectById - ==> Parameters: 3(Long)
2025-10-21 01:29:48.844 [scheduled-3] DEBUG o.x.h.mapper.HotelMapper.selectById - <==      Total: 1
2025-10-21 01:29:48.845 [scheduled-3] DEBUG o.x.h.mapper.RoomTypeMapper.selectList - ==>  Preparing: SELECT id,hotel_id,room_type_name,room_type_code,room_type_name_en,max_occupancy,bed_type,bed_type_name,room_size,supplier_specific_data,distributor_specific_data,description,status,valid,created_at,updated_at FROM room_types WHERE (hotel_id = ? AND valid = ?)
2025-10-21 01:29:48.847 [scheduled-3] DEBUG o.x.h.mapper.RoomTypeMapper.selectList - ==> Parameters: 3(Long), 1(Integer)
2025-10-21 01:29:48.849 [scheduled-3] DEBUG o.x.h.mapper.RoomTypeMapper.selectList - <==      Total: 2
2025-10-21 01:29:48.851 [scheduled-3] DEBUG o.x.h.m.D.selectList - ==>  Preparing: SELECT id,room_type_id,distributor_id,distributor_room_type_id,distributor_room_type_name,mapping_status,created_at,updated_at FROM distributor_room_type_mappings WHERE (room_type_id IN (?,?))
2025-10-21 01:29:48.851 [scheduled-3] DEBUG o.x.h.m.D.selectList - ==> Parameters: 5(Long), 6(Long)
2025-10-21 01:29:48.855 [scheduled-3] DEBUG o.x.h.m.D.selectList - <==      Total: 6
2025-10-21 01:29:48.857 [scheduled-3] DEBUG o.x.h.mapper.RatePlanMapper.selectList - ==>  Preparing: SELECT id,room_type_id,product_code,product_name,price_type,currency,guests,has_effective_time,incremental_preferent,preferent_info,support_pay,status,valid,supplier_specific_data,distributor_specific_data,created_at,updated_at FROM rate_plans WHERE (room_type_id = ? AND valid = ?)
2025-10-21 01:29:48.858 [scheduled-3] DEBUG o.x.h.mapper.RatePlanMapper.selectList - ==> Parameters: 5(Long), 1(Integer)
2025-10-21 01:29:48.860 [scheduled-3] DEBUG o.x.h.mapper.RatePlanMapper.selectList - <==      Total: 2
2025-10-21 01:29:48.861 [scheduled-3] DEBUG o.x.h.mapper.DailyRateMapper.selectList - ==>  Preparing: SELECT id,rate_plan_id,business_date,advance_rate,spot_rate,rack_rate,local_rate,orig_advance_rate,orig_spot_rate,quota,advance_breakfast_count,spot_breakfast_count,advance_fee_rate,spot_fee_rate,start_time,end_time,free_cancel_time,availability,distributor_id,created_at,updated_at FROM daily_rates WHERE (rate_plan_id = ? AND distributor_id = ?)
2025-10-21 01:29:48.862 [scheduled-3] DEBUG o.x.h.mapper.DailyRateMapper.selectList - ==> Parameters: 9(Long), 1(Long)
2025-10-21 01:29:48.866 [scheduled-3] DEBUG o.x.h.mapper.DailyRateMapper.selectList - <==      Total: 5
2025-10-21 01:29:48.868 [scheduled-3] DEBUG o.x.h.mapper.DailyRateMapper.selectList - ==>  Preparing: SELECT id,rate_plan_id,business_date,advance_rate,spot_rate,rack_rate,local_rate,orig_advance_rate,orig_spot_rate,quota,advance_breakfast_count,spot_breakfast_count,advance_fee_rate,spot_fee_rate,start_time,end_time,free_cancel_time,availability,distributor_id,created_at,updated_at FROM daily_rates WHERE (rate_plan_id = ? AND distributor_id = ?)
2025-10-21 01:29:48.869 [scheduled-3] DEBUG o.x.h.mapper.DailyRateMapper.selectList - ==> Parameters: 10(Long), 1(Long)
2025-10-21 01:29:48.873 [scheduled-3] DEBUG o.x.h.mapper.DailyRateMapper.selectList - <==      Total: 5
2025-10-21 01:29:48.875 [scheduled-3] DEBUG o.x.h.mapper.RatePlanMapper.selectList - ==>  Preparing: SELECT id,room_type_id,product_code,product_name,price_type,currency,guests,has_effective_time,incremental_preferent,preferent_info,support_pay,status,valid,supplier_specific_data,distributor_specific_data,created_at,updated_at FROM rate_plans WHERE (room_type_id = ? AND valid = ?)
2025-10-21 01:29:48.877 [scheduled-3] DEBUG o.x.h.mapper.RatePlanMapper.selectList - ==> Parameters: 6(Long), 1(Integer)
2025-10-21 01:29:48.881 [scheduled-3] DEBUG o.x.h.mapper.RatePlanMapper.selectList - <==      Total: 2
2025-10-21 01:29:48.883 [scheduled-3] DEBUG o.x.h.mapper.DailyRateMapper.selectList - ==>  Preparing: SELECT id,rate_plan_id,business_date,advance_rate,spot_rate,rack_rate,local_rate,orig_advance_rate,orig_spot_rate,quota,advance_breakfast_count,spot_breakfast_count,advance_fee_rate,spot_fee_rate,start_time,end_time,free_cancel_time,availability,distributor_id,created_at,updated_at FROM daily_rates WHERE (rate_plan_id = ? AND distributor_id = ?)
2025-10-21 01:29:48.884 [scheduled-3] DEBUG o.x.h.mapper.DailyRateMapper.selectList - ==> Parameters: 11(Long), 1(Long)
2025-10-21 01:29:48.888 [scheduled-3] DEBUG o.x.h.mapper.DailyRateMapper.selectList - <==      Total: 5
2025-10-21 01:29:48.890 [scheduled-3] DEBUG o.x.h.mapper.DailyRateMapper.selectList - ==>  Preparing: SELECT id,rate_plan_id,business_date,advance_rate,spot_rate,rack_rate,local_rate,orig_advance_rate,orig_spot_rate,quota,advance_breakfast_count,spot_breakfast_count,advance_fee_rate,spot_fee_rate,start_time,end_time,free_cancel_time,availability,distributor_id,created_at,updated_at FROM daily_rates WHERE (rate_plan_id = ? AND distributor_id = ?)
2025-10-21 01:29:48.891 [scheduled-3] DEBUG o.x.h.mapper.DailyRateMapper.selectList - ==> Parameters: 12(Long), 1(Long)
2025-10-21 01:29:48.895 [scheduled-3] DEBUG o.x.h.mapper.DailyRateMapper.selectList - <==      Total: 5
2025-10-21 01:29:48.898 [scheduled-3] DEBUG o.x.h.mapper.DailyRateMapper.selectList - ==>  Preparing: SELECT id,rate_plan_id,business_date,advance_rate,spot_rate,rack_rate,local_rate,orig_advance_rate,orig_spot_rate,quota,advance_breakfast_count,spot_breakfast_count,advance_fee_rate,spot_fee_rate,start_time,end_time,free_cancel_time,availability,distributor_id,created_at,updated_at FROM daily_rates WHERE (rate_plan_id = ? AND distributor_id = ?)
2025-10-21 01:29:48.899 [scheduled-3] DEBUG o.x.h.mapper.DailyRateMapper.selectList - ==> Parameters: 9(Long), 2(Long)
2025-10-21 01:29:48.903 [scheduled-3] DEBUG o.x.h.mapper.DailyRateMapper.selectList - <==      Total: 5
2025-10-21 01:29:48.905 [scheduled-3] DEBUG o.x.h.mapper.DailyRateMapper.selectList - ==>  Preparing: SELECT id,rate_plan_id,business_date,advance_rate,spot_rate,rack_rate,local_rate,orig_advance_rate,orig_spot_rate,quota,advance_breakfast_count,spot_breakfast_count,advance_fee_rate,spot_fee_rate,start_time,end_time,free_cancel_time,availability,distributor_id,created_at,updated_at FROM daily_rates WHERE (rate_plan_id = ? AND distributor_id = ?)
2025-10-21 01:29:48.906 [scheduled-3] DEBUG o.x.h.mapper.DailyRateMapper.selectList - ==> Parameters: 9(Long), 3(Long)
2025-10-21 01:29:48.910 [scheduled-3] DEBUG o.x.h.mapper.DailyRateMapper.selectList - <==      Total: 5
2025-10-21 01:29:48.910 [scheduled-3] INFO  o.x.h.service.impl.AutoStatusSyncServiceImpl - 检查酒店状态: 3
2025-10-21 01:29:48.913 [scheduled-3] INFO  o.x.h.service.impl.AutoStatusSyncServiceImpl - 酒店 3 渠道状态同步完成: 同步完成: 检查了 3 个渠道，更新了 0 个渠道，酒店状态无需更新
2025-10-21 01:29:48.913 [scheduled-3] INFO  o.x.h.service.impl.AutoStatusSyncServiceImpl - 所有酒店状态同步完成，共处理 3 个酒店
2025-10-21 01:29:48.918 [scheduled-3] INFO  o.x.h.schedule.AutoStatusSyncScheduler - 定时自动状态同步完成 - 耗时: 452ms, 处理酒店: 3, 更新酒店: 0, 总渠道: 9, 更新渠道: 0
2025-10-21 01:29:50.276 [scheduled-4] ERROR o.x.h.service.impl.QunarOrderServiceImpl - 查询去哪网订单列表异常
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:431)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrderList(QunarOrderServiceImpl.java:53)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrdersByDateRange(QunarOrderServiceImpl.java:78)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl.syncOrdersFromQunar(QunarOrderSyncServiceImpl.java:66)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:716)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl$$SpringCGLIB$$0.syncOrdersFromQunar(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 01:29:50.284 [scheduled-4] ERROR o.x.h.service.impl.QunarOrderSyncServiceImpl - 去哪网订单查询失败: errCode=ERROR, errMsg=查询异常: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
2025-10-21 01:29:53.460 [scheduled-2] INFO  o.x.h.service.impl.ScheduledApiServiceImpl - 开始定时同步品牌数据...
2025-10-21 01:29:53.465 [scheduled-2] DEBUG o.x.h.service.impl.JinjiangApiServiceImpl - 开始调用供应商API获取品牌列表
2025-10-21 01:29:53.529 [scheduled-2] INFO  org.xfy.hotelpricecomparison.util.LogUtil - 调用API: https://dfd9fbc3-4bf3-4efc-90c8-60cc60d04ab6.mock.pstmn.io/brand/getBrandList, 请求参数: {"brandCode":null,"languageCode":0}
2025-10-21 01:29:53.532 [scheduled-2] DEBUG o.x.h.service.impl.JinjiangApiServiceImpl - 发送API请求到: https://dfd9fbc3-4bf3-4efc-90c8-60cc60d04ab6.mock.pstmn.io/brand/getBrandList
2025-10-21 01:29:54.694 [scheduled-2] INFO  org.xfy.hotelpricecomparison.util.LogUtil - API响应: https://dfd9fbc3-4bf3-4efc-90c8-60cc60d04ab6.mock.pstmn.io/brand/getBrandList, 响应内容: {"errors":null,"message":"success","msgCode":0,"result":{"brand":[{"brandCode":"JJ001","brandName":"锦江之星","brandType":1,"description":"简约舒适的经济型酒店品牌，为商务和休闲旅客提供优质住宿体验"},{"brandCode":"JJ002","brandName":"维也纳酒店","brandType":2,"description":"精品优选酒店品牌，融合欧式风情与现代设计，提供高品质住宿服务"},{"brandCode":"JJ003","brandName":"锦江都城","brandType":3,"description":"豪华高端酒店品牌，提供奢华住宿体验和顶级服务"}]}}
2025-10-21 01:29:54.700 [scheduled-2] DEBUG o.x.h.service.impl.JinjiangApiServiceImpl - API调用成功: https://dfd9fbc3-4bf3-4efc-90c8-60cc60d04ab6.mock.pstmn.io/brand/getBrandList, 响应状态码: 0
2025-10-21 01:29:54.703 [scheduled-2] INFO  org.xfy.hotelpricecomparison.util.LogUtil - API响应: https://dfd9fbc3-4bf3-4efc-90c8-60cc60d04ab6.mock.pstmn.io/brand/getBrandList (解析后), 响应内容: {"errors":null,"message":"success","msgCode":0,"result":{"brand":[{"brandCode":"JJ001","brandName":"锦江之星","brandType":1,"description":"简约舒适的经济型酒店品牌，为商务和休闲旅客提供优质住宿体验"},{"brandCode":"JJ002","brandName":"维也纳酒店","brandType":2,"description":"精品优选酒店品牌，融合欧式风情与现代设计，提供高品质住宿服务"},{"brandCode":"JJ003","brandName":"锦江都城","brandType":3,"description":"豪华高端酒店品牌，提供奢华住宿体验和顶级服务"}]}}
2025-10-21 01:29:54.703 [scheduled-2] INFO  o.x.h.service.impl.ScheduledApiServiceImpl - 成功获取品牌数据，品牌数量: 3
2025-10-21 01:29:54.705 [scheduled-2] INFO  org.xfy.hotelpricecomparison.util.ValidationUtil - 品牌数据验证完成，有效数据: 3, 无效数据: 0
2025-10-21 01:29:54.706 [scheduled-2] INFO  o.x.h.service.impl.JinjiangBrandServiceImpl - 批量保存或更新品牌，数量: 3
2025-10-21 01:29:54.707 [scheduled-2] ERROR o.x.h.service.impl.JinjiangBrandServiceImpl - 批量保存或更新品牌失败
org.apache.ibatis.binding.BindingException: Invalid bound statement (not found): org.xfy.hotelpricecomparison.mapper.JinjiangBrandMapper.selectByBrandCodes
	at org.apache.ibatis.binding.MapperMethod$SqlCommand.<init>(MapperMethod.java:229)
	at com.baomidou.mybatisplus.core.override.MybatisMapperMethod.<init>(MybatisMapperMethod.java:50)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.lambda$cachedInvoker$0(MybatisMapperProxy.java:111)
	at java.base/java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1708)
	at com.baomidou.mybatisplus.core.toolkit.CollectionUtils.computeIfAbsent(CollectionUtils.java:157)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.cachedInvoker(MybatisMapperProxy.java:98)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.invoke(MybatisMapperProxy.java:89)
	at jdk.proxy4/jdk.proxy4.$Proxy162.selectByBrandCodes(Unknown Source)
	at org.xfy.hotelpricecomparison.service.impl.JinjiangBrandServiceImpl.saveOrUpdateBrands(JinjiangBrandServiceImpl.java:110)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:392)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at org.xfy.hotelpricecomparison.service.impl.JinjiangBrandServiceImpl$$SpringCGLIB$$0.saveOrUpdateBrands(<generated>)
	at org.xfy.hotelpricecomparison.service.impl.ScheduledApiServiceImpl.syncBrandData(ScheduledApiServiceImpl.java:145)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 01:29:54.713 [scheduled-2] ERROR o.x.h.service.impl.ScheduledApiServiceImpl - 定时同步品牌数据失败
java.lang.RuntimeException: 批量保存或更新品牌失败: Invalid bound statement (not found): org.xfy.hotelpricecomparison.mapper.JinjiangBrandMapper.selectByBrandCodes
	at org.xfy.hotelpricecomparison.service.impl.JinjiangBrandServiceImpl.saveOrUpdateBrands(JinjiangBrandServiceImpl.java:152)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:392)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at org.xfy.hotelpricecomparison.service.impl.JinjiangBrandServiceImpl$$SpringCGLIB$$0.saveOrUpdateBrands(<generated>)
	at org.xfy.hotelpricecomparison.service.impl.ScheduledApiServiceImpl.syncBrandData(ScheduledApiServiceImpl.java:145)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.apache.ibatis.binding.BindingException: Invalid bound statement (not found): org.xfy.hotelpricecomparison.mapper.JinjiangBrandMapper.selectByBrandCodes
	at org.apache.ibatis.binding.MapperMethod$SqlCommand.<init>(MapperMethod.java:229)
	at com.baomidou.mybatisplus.core.override.MybatisMapperMethod.<init>(MybatisMapperMethod.java:50)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.lambda$cachedInvoker$0(MybatisMapperProxy.java:111)
	at java.base/java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1708)
	at com.baomidou.mybatisplus.core.toolkit.CollectionUtils.computeIfAbsent(CollectionUtils.java:157)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.cachedInvoker(MybatisMapperProxy.java:98)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.invoke(MybatisMapperProxy.java:89)
	at jdk.proxy4/jdk.proxy4.$Proxy162.selectByBrandCodes(Unknown Source)
	at org.xfy.hotelpricecomparison.service.impl.JinjiangBrandServiceImpl.saveOrUpdateBrands(JinjiangBrandServiceImpl.java:110)
	... 27 common frames omitted
2025-10-21 01:29:56.446 [scheduled-5] INFO  o.x.h.service.impl.ScheduledApiServiceImpl - 开始定时同步酒店ID列表...
2025-10-21 01:29:56.447 [scheduled-5] INFO  o.x.h.service.impl.ScheduledApiServiceImpl - 正在获取第 1 页酒店ID列表，每页 100 条
2025-10-21 01:29:56.447 [scheduled-5] DEBUG o.x.h.service.impl.JinjiangApiServiceImpl - 开始调用供应商API获取酒店ID列表 - 页码: 1, 每页数量: 100
2025-10-21 01:29:56.452 [scheduled-5] INFO  org.xfy.hotelpricecomparison.util.LogUtil - 调用API: https://dfd9fbc3-4bf3-4efc-90c8-60cc60d04ab6.mock.pstmn.io/hotel/getHotelIds, 请求参数: {"brandCodes":null,"pageNum":1,"pageSize":100}
2025-10-21 01:29:56.455 [scheduled-5] DEBUG o.x.h.service.impl.JinjiangApiServiceImpl - 发送API请求到: https://dfd9fbc3-4bf3-4efc-90c8-60cc60d04ab6.mock.pstmn.io/hotel/getHotelIds
2025-10-21 01:29:58.448 [scheduled-1] INFO  o.x.h.service.impl.ScheduledApiServiceImpl - 开始定时同步酒店数据...
2025-10-21 01:29:58.448 [scheduled-1] INFO  o.x.h.service.impl.HotelServiceImpl - 获取未同步的酒店列表，限制数量: 50
2025-10-21 01:29:58.454 [scheduled-1] DEBUG o.x.h.mapper.HotelMapper.selectList - ==>  Preparing: SELECT id,hotel_code,hotel_name,hotel_name_en,address,city_code,city_name,district_code,district_name,country_code,hotel_phone,hotel_email,description,policy,guide,check_in_time,check_out_time,hotel_level,star_type,business_type,hotel_type,status,valid,is_request_supplier_data,is_push_to_distributors,open_date,close_date,decoration_date,allow_minors,pets,restaurant,support_foreign_guest,require_eng_name,certificate_type,settlement_currency,brand_code,missing_count,created_at,updated_at,is_changed,change_type FROM hotels WHERE (is_request_supplier_data = ? AND valid = ? AND hotel_code IS NOT NULL) ORDER BY created_at ASC LIMIT 50
2025-10-21 01:29:58.454 [scheduled-1] DEBUG o.x.h.mapper.HotelMapper.selectList - ==> Parameters: 1(Integer), 1(Integer)
2025-10-21 01:29:58.458 [scheduled-1] DEBUG o.x.h.mapper.HotelMapper.selectList - <==      Total: 2
2025-10-21 01:29:58.458 [scheduled-1] INFO  o.x.h.service.impl.ScheduledApiServiceImpl - 从hotels表获取到 2 个未同步的酒店ID
2025-10-21 01:29:58.459 [scheduled-1] INFO  o.x.h.service.impl.ScheduledApiServiceImpl - 开始同步 2 个酒店的数据
2025-10-21 01:29:58.459 [scheduled-1] INFO  o.x.h.service.impl.ScheduledApiServiceImpl - 处理酒店批次，大小: 2
2025-10-21 01:29:58.463 [scheduled-1] DEBUG o.x.h.service.impl.JinjiangApiServiceImpl - 开始调用供应商API获取酒店信息 - 酒店ID: HOTEL002
2025-10-21 01:29:58.463 [ForkJoinPool.commonPool-worker-1] DEBUG o.x.h.service.impl.JinjiangApiServiceImpl - 开始调用供应商API获取酒店信息 - 酒店ID: HOTEL001
2025-10-21 01:29:58.465 [scheduled-1] INFO  org.xfy.hotelpricecomparison.util.LogUtil - 调用API: https://dfd9fbc3-4bf3-4efc-90c8-60cc60d04ab6.mock.pstmn.io/hotel/getHotelInfo, 请求参数: {"innId":"HOTEL002","languageCode":0}
2025-10-21 01:29:58.465 [ForkJoinPool.commonPool-worker-1] INFO  org.xfy.hotelpricecomparison.util.LogUtil - 调用API: https://dfd9fbc3-4bf3-4efc-90c8-60cc60d04ab6.mock.pstmn.io/hotel/getHotelInfo, 请求参数: {"innId":"HOTEL001","languageCode":0}
2025-10-21 01:29:58.465 [scheduled-1] DEBUG o.x.h.service.impl.JinjiangApiServiceImpl - 验证酒店信息请求参数
2025-10-21 01:29:58.465 [ForkJoinPool.commonPool-worker-1] DEBUG o.x.h.service.impl.JinjiangApiServiceImpl - 验证酒店信息请求参数
2025-10-21 01:29:58.466 [ForkJoinPool.commonPool-worker-1] DEBUG o.x.h.service.impl.JinjiangApiServiceImpl - 发送API请求到: https://dfd9fbc3-4bf3-4efc-90c8-60cc60d04ab6.mock.pstmn.io/hotel/getHotelInfo
2025-10-21 01:29:58.466 [scheduled-1] DEBUG o.x.h.service.impl.JinjiangApiServiceImpl - 发送API请求到: https://dfd9fbc3-4bf3-4efc-90c8-60cc60d04ab6.mock.pstmn.io/hotel/getHotelInfo
2025-10-21 01:29:59.559 [scheduled-1] ERROR o.x.h.service.impl.JinjiangApiServiceImpl - HTTP客户端错误 - URL: https://dfd9fbc3-4bf3-4efc-90c8-60cc60d04ab6.mock.pstmn.io/hotel/getHotelInfo, 状态码: 404 NOT_FOUND, 错误信息: {"error":{"name":"mockRequestNotFoundError","message":"Double check your method and the request path and try again. Learn more here: https://learning.postman.com/docs/design-apis/mock-apis/matching-algorithm/","header":"No matching requests"}}
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockRequestNotFoundError","message":"Double check your method and the request path and try again. Learn more here: https://learning.postman.com/docs/design-apis/mock-apis/matching-algorithm/","header":"No matching requests"}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.postForEntity(RestTemplate.java:538)
	at org.xfy.hotelpricecomparison.service.impl.JinjiangApiServiceImpl.callSupplierApi(JinjiangApiServiceImpl.java:195)
	at org.xfy.hotelpricecomparison.service.impl.JinjiangApiServiceImpl.getHotelInfo(JinjiangApiServiceImpl.java:101)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.retry.annotation.AnnotationAwareRetryOperationsInterceptor.invoke(AnnotationAwareRetryOperationsInterceptor.java:164)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at org.xfy.hotelpricecomparison.service.impl.JinjiangApiServiceImpl$$SpringCGLIB$$0.getHotelInfo(<generated>)
	at org.xfy.hotelpricecomparison.service.impl.ScheduledApiServiceImpl.lambda$syncHotelData$0(ScheduledApiServiceImpl.java:342)
	at org.xfy.hotelpricecomparison.util.RetryUtil.executeWithRetry(RetryUtil.java:54)
	at org.xfy.hotelpricecomparison.service.impl.ScheduledApiServiceImpl.lambda$syncHotelData$1(ScheduledApiServiceImpl.java:335)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ReduceOps$ReduceTask.doLeaf(ReduceOps.java:960)
	at java.base/java.util.stream.ReduceOps$ReduceTask.doLeaf(ReduceOps.java:934)
	at java.base/java.util.stream.AbstractTask.compute(AbstractTask.java:327)
	at java.base/java.util.concurrent.CountedCompleter.exec(CountedCompleter.java:754)
	at java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:387)
	at java.base/java.util.concurrent.ForkJoinTask.invoke(ForkJoinTask.java:667)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateParallel(ReduceOps.java:927)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:233)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682)
	at org.xfy.hotelpricecomparison.service.impl.ScheduledApiServiceImpl.syncHotelData(ScheduledApiServiceImpl.java:369)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 01:29:59.566 [scheduled-1] WARN  o.x.h.service.impl.ScheduledApiServiceImpl - 获取酒店数据失败，酒店ID: HOTEL002
2025-10-21 01:29:59.570 [ForkJoinPool.commonPool-worker-1] ERROR o.x.h.service.impl.JinjiangApiServiceImpl - HTTP客户端错误 - URL: https://dfd9fbc3-4bf3-4efc-90c8-60cc60d04ab6.mock.pstmn.io/hotel/getHotelInfo, 状态码: 404 NOT_FOUND, 错误信息: {"error":{"name":"mockRequestNotFoundError","message":"Double check your method and the request path and try again. Learn more here: https://learning.postman.com/docs/design-apis/mock-apis/matching-algorithm/","header":"No matching requests"}}
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockRequestNotFoundError","message":"Double check your method and the request path and try again. Learn more here: https://learning.postman.com/docs/design-apis/mock-apis/matching-algorithm/","header":"No matching requests"}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.postForEntity(RestTemplate.java:538)
	at org.xfy.hotelpricecomparison.service.impl.JinjiangApiServiceImpl.callSupplierApi(JinjiangApiServiceImpl.java:195)
	at org.xfy.hotelpricecomparison.service.impl.JinjiangApiServiceImpl.getHotelInfo(JinjiangApiServiceImpl.java:101)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.retry.annotation.AnnotationAwareRetryOperationsInterceptor.invoke(AnnotationAwareRetryOperationsInterceptor.java:164)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at org.xfy.hotelpricecomparison.service.impl.JinjiangApiServiceImpl$$SpringCGLIB$$0.getHotelInfo(<generated>)
	at org.xfy.hotelpricecomparison.service.impl.ScheduledApiServiceImpl.lambda$syncHotelData$0(ScheduledApiServiceImpl.java:342)
	at org.xfy.hotelpricecomparison.util.RetryUtil.executeWithRetry(RetryUtil.java:54)
	at org.xfy.hotelpricecomparison.service.impl.ScheduledApiServiceImpl.lambda$syncHotelData$1(ScheduledApiServiceImpl.java:335)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ReduceOps$ReduceTask.doLeaf(ReduceOps.java:960)
	at java.base/java.util.stream.ReduceOps$ReduceTask.doLeaf(ReduceOps.java:934)
	at java.base/java.util.stream.AbstractTask.compute(AbstractTask.java:327)
	at java.base/java.util.concurrent.CountedCompleter.exec(CountedCompleter.java:754)
	at java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:387)
	at java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1310)
	at java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1841)
	at java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1806)
	at java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:188)
2025-10-21 01:29:59.579 [ForkJoinPool.commonPool-worker-1] WARN  o.x.h.service.impl.ScheduledApiServiceImpl - 获取酒店数据失败，酒店ID: HOTEL001
2025-10-21 01:29:59.579 [scheduled-1] WARN  o.x.h.service.impl.ScheduledApiServiceImpl - 没有成功获取到任何酒店数据
2025-10-21 01:30:03.447 [scheduled-3] INFO  o.x.h.service.impl.ScheduledApiServiceImpl - 开始定时同步价格数据...
2025-10-21 01:30:03.447 [scheduled-3] INFO  o.x.h.service.impl.ScheduledApiServiceImpl - 价格数据同步完成
2025-10-21 01:30:06.486 [scheduled-5] ERROR o.x.h.service.impl.JinjiangApiServiceImpl - 网络请求异常 - URL: https://dfd9fbc3-4bf3-4efc-90c8-60cc60d04ab6.mock.pstmn.io/hotel/getHotelIds, 错误信息: I/O error on POST request for "https://dfd9fbc3-4bf3-4efc-90c8-60cc60d04ab6.mock.pstmn.io/hotel/getHotelIds": Read timed out
org.springframework.web.client.ResourceAccessException: I/O error on POST request for "https://dfd9fbc3-4bf3-4efc-90c8-60cc60d04ab6.mock.pstmn.io/hotel/getHotelIds": Read timed out
	at org.springframework.web.client.RestTemplate.createResourceAccessException(RestTemplate.java:915)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:895)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.postForEntity(RestTemplate.java:538)
	at org.xfy.hotelpricecomparison.service.impl.JinjiangApiServiceImpl.callSupplierApi(JinjiangApiServiceImpl.java:195)
	at org.xfy.hotelpricecomparison.service.impl.JinjiangApiServiceImpl.getHotelIds(JinjiangApiServiceImpl.java:94)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.retry.annotation.AnnotationAwareRetryOperationsInterceptor.invoke(AnnotationAwareRetryOperationsInterceptor.java:164)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at org.xfy.hotelpricecomparison.service.impl.JinjiangApiServiceImpl$$SpringCGLIB$$0.getHotelIds(<generated>)
	at org.xfy.hotelpricecomparison.service.impl.ScheduledApiServiceImpl.syncHotelIds(ScheduledApiServiceImpl.java:188)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.net.SocketTimeoutException: Read timed out
	at java.base/sun.nio.ch.NioSocketImpl.timedRead(NioSocketImpl.java:278)
	at java.base/sun.nio.ch.NioSocketImpl.implRead(NioSocketImpl.java:304)
	at java.base/sun.nio.ch.NioSocketImpl.read(NioSocketImpl.java:346)
	at java.base/sun.nio.ch.NioSocketImpl$1.read(NioSocketImpl.java:796)
	at java.base/java.net.Socket$SocketInputStream.read(Socket.java:1099)
	at java.base/sun.security.ssl.SSLSocketInputRecord.read(SSLSocketInputRecord.java:489)
	at java.base/sun.security.ssl.SSLSocketInputRecord.readHeader(SSLSocketInputRecord.java:483)
	at java.base/sun.security.ssl.SSLSocketInputRecord.bytesInCompletePacket(SSLSocketInputRecord.java:70)
	at java.base/sun.security.ssl.SSLSocketImpl.readApplicationRecord(SSLSocketImpl.java:1461)
	at java.base/sun.security.ssl.SSLSocketImpl$AppInputStream.read(SSLSocketImpl.java:1066)
	at java.base/java.io.BufferedInputStream.fill(BufferedInputStream.java:291)
	at java.base/java.io.BufferedInputStream.read1(BufferedInputStream.java:347)
	at java.base/java.io.BufferedInputStream.implRead(BufferedInputStream.java:420)
	at java.base/java.io.BufferedInputStream.read(BufferedInputStream.java:399)
	at java.base/sun.net.www.http.HttpClient.parseHTTPHeader(HttpClient.java:827)
	at java.base/sun.net.www.http.HttpClient.parseHTTP(HttpClient.java:759)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1706)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1615)
	at java.base/java.net.HttpURLConnection.getResponseCode(HttpURLConnection.java:531)
	at java.base/sun.net.www.protocol.https.HttpsURLConnectionImpl.getResponseCode(HttpsURLConnectionImpl.java:307)
	at org.springframework.http.client.SimpleClientHttpResponse.getStatusCode(SimpleClientHttpResponse.java:55)
	at org.springframework.web.client.DefaultResponseErrorHandler.hasError(DefaultResponseErrorHandler.java:83)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:931)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	... 29 common frames omitted
2025-10-21 01:30:06.493 [scheduled-5] ERROR o.x.h.service.impl.ScheduledApiServiceImpl - 定时同步酒店ID列表失败
org.springframework.web.client.ResourceAccessException: I/O error on POST request for "https://dfd9fbc3-4bf3-4efc-90c8-60cc60d04ab6.mock.pstmn.io/hotel/getHotelIds": Read timed out
	at org.springframework.web.client.RestTemplate.createResourceAccessException(RestTemplate.java:915)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:895)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.postForEntity(RestTemplate.java:538)
	at org.xfy.hotelpricecomparison.service.impl.JinjiangApiServiceImpl.callSupplierApi(JinjiangApiServiceImpl.java:195)
	at org.xfy.hotelpricecomparison.service.impl.JinjiangApiServiceImpl.getHotelIds(JinjiangApiServiceImpl.java:94)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.retry.annotation.AnnotationAwareRetryOperationsInterceptor.invoke(AnnotationAwareRetryOperationsInterceptor.java:164)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at org.xfy.hotelpricecomparison.service.impl.JinjiangApiServiceImpl$$SpringCGLIB$$0.getHotelIds(<generated>)
	at org.xfy.hotelpricecomparison.service.impl.ScheduledApiServiceImpl.syncHotelIds(ScheduledApiServiceImpl.java:188)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.net.SocketTimeoutException: Read timed out
	at java.base/sun.nio.ch.NioSocketImpl.timedRead(NioSocketImpl.java:278)
	at java.base/sun.nio.ch.NioSocketImpl.implRead(NioSocketImpl.java:304)
	at java.base/sun.nio.ch.NioSocketImpl.read(NioSocketImpl.java:346)
	at java.base/sun.nio.ch.NioSocketImpl$1.read(NioSocketImpl.java:796)
	at java.base/java.net.Socket$SocketInputStream.read(Socket.java:1099)
	at java.base/sun.security.ssl.SSLSocketInputRecord.read(SSLSocketInputRecord.java:489)
	at java.base/sun.security.ssl.SSLSocketInputRecord.readHeader(SSLSocketInputRecord.java:483)
	at java.base/sun.security.ssl.SSLSocketInputRecord.bytesInCompletePacket(SSLSocketInputRecord.java:70)
	at java.base/sun.security.ssl.SSLSocketImpl.readApplicationRecord(SSLSocketImpl.java:1461)
	at java.base/sun.security.ssl.SSLSocketImpl$AppInputStream.read(SSLSocketImpl.java:1066)
	at java.base/java.io.BufferedInputStream.fill(BufferedInputStream.java:291)
	at java.base/java.io.BufferedInputStream.read1(BufferedInputStream.java:347)
	at java.base/java.io.BufferedInputStream.implRead(BufferedInputStream.java:420)
	at java.base/java.io.BufferedInputStream.read(BufferedInputStream.java:399)
	at java.base/sun.net.www.http.HttpClient.parseHTTPHeader(HttpClient.java:827)
	at java.base/sun.net.www.http.HttpClient.parseHTTP(HttpClient.java:759)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1706)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1615)
	at java.base/java.net.HttpURLConnection.getResponseCode(HttpURLConnection.java:531)
	at java.base/sun.net.www.protocol.https.HttpsURLConnectionImpl.getResponseCode(HttpsURLConnectionImpl.java:307)
	at org.springframework.http.client.SimpleClientHttpResponse.getStatusCode(SimpleClientHttpResponse.java:55)
	at org.springframework.web.client.DefaultResponseErrorHandler.hasError(DefaultResponseErrorHandler.java:83)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:931)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	... 29 common frames omitted
2025-10-21 01:30:08.458 [scheduled-4] INFO  o.x.h.service.impl.ScheduledApiServiceImpl - 开始定时同步订单数据...
2025-10-21 01:30:08.458 [scheduled-4] INFO  o.x.h.service.impl.ScheduledApiServiceImpl - 订单数据同步完成
2025-10-21 01:30:18.451 [scheduled-1] INFO  o.x.h.service.impl.ScheduledApiServiceImpl - 开始定时同步酒店房型信息...
2025-10-21 01:30:18.451 [scheduled-2] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 开始同步去哪网订单...
2025-10-21 01:30:18.452 [scheduled-1] INFO  o.x.h.service.impl.HotelServiceImpl - 获取未同步的酒店列表，限制数量: 10
2025-10-21 01:30:18.452 [scheduled-2] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 查询时间范围: fromDate=20251021012018, toDate=20251021013018
2025-10-21 01:30:18.452 [scheduled-2] INFO  o.x.h.service.impl.QunarOrderServiceImpl - 开始查询去哪网订单列表: fromDate=20251021012018, toDate=20251021013018, version=3.7
2025-10-21 01:30:18.452 [scheduled-2] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 生成HMAC签名: data=your_sign_key20251021012018202510210130183.7, hmac=29d5e5ba082d19f50cb59491e7917a8d
2025-10-21 01:30:18.453 [scheduled-2] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 构建请求URL: https://2402add9-4b1a-450b-9bed-701d6679a21b.mock.pstmn.io/api.qunar.com/api/ota/otaQueryOrder?fromDate=20251021012018&toDate=20251021013018&version=3.7&hmac=29d5e5ba082d19f50cb59491e7917a8d
2025-10-21 01:30:18.454 [scheduled-1] DEBUG o.x.h.mapper.HotelMapper.selectList - ==>  Preparing: SELECT id,hotel_code,hotel_name,hotel_name_en,address,city_code,city_name,district_code,district_name,country_code,hotel_phone,hotel_email,description,policy,guide,check_in_time,check_out_time,hotel_level,star_type,business_type,hotel_type,status,valid,is_request_supplier_data,is_push_to_distributors,open_date,close_date,decoration_date,allow_minors,pets,restaurant,support_foreign_guest,require_eng_name,certificate_type,settlement_currency,brand_code,missing_count,created_at,updated_at,is_changed,change_type FROM hotels WHERE (is_request_supplier_data = ? AND valid = ? AND hotel_code IS NOT NULL) ORDER BY created_at ASC LIMIT 10
2025-10-21 01:30:18.455 [scheduled-1] DEBUG o.x.h.mapper.HotelMapper.selectList - ==> Parameters: 1(Integer), 1(Integer)
2025-10-21 01:30:18.461 [scheduled-1] DEBUG o.x.h.mapper.HotelMapper.selectList - <==      Total: 2
2025-10-21 01:30:18.462 [scheduled-1] INFO  o.x.h.service.impl.ScheduledApiServiceImpl - 开始同步 2 个酒店的房型数据
2025-10-21 01:30:18.463 [scheduled-1] DEBUG o.x.h.service.impl.JinjiangApiServiceImpl - 开始调用供应商API获取酒店房型信息 - 酒店ID: HOTEL001
2025-10-21 01:30:18.467 [scheduled-1] INFO  org.xfy.hotelpricecomparison.util.LogUtil - 调用API: https://dfd9fbc3-4bf3-4efc-90c8-60cc60d04ab6.mock.pstmn.io/hotel/getHotelRoomType, 请求参数: {"hotelId":"HOTEL001","roomTypeId":null,"checkInDate":null,"checkOutDate":null}
2025-10-21 01:30:18.469 [scheduled-1] DEBUG o.x.h.service.impl.JinjiangApiServiceImpl - 发送API请求到: https://dfd9fbc3-4bf3-4efc-90c8-60cc60d04ab6.mock.pstmn.io/hotel/getHotelRoomType
2025-10-21 01:30:19.494 [scheduled-2] ERROR o.x.h.service.impl.QunarOrderServiceImpl - 查询去哪网订单列表异常
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:431)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrderList(QunarOrderServiceImpl.java:53)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrdersByDateRange(QunarOrderServiceImpl.java:78)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl.syncOrdersFromQunar(QunarOrderSyncServiceImpl.java:66)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:716)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl$$SpringCGLIB$$0.syncOrdersFromQunar(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 01:30:19.496 [scheduled-2] ERROR o.x.h.service.impl.QunarOrderSyncServiceImpl - 去哪网订单查询失败: errCode=ERROR, errMsg=查询异常: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
2025-10-21 01:30:19.560 [scheduled-1] ERROR o.x.h.service.impl.JinjiangApiServiceImpl - HTTP客户端错误 - URL: https://dfd9fbc3-4bf3-4efc-90c8-60cc60d04ab6.mock.pstmn.io/hotel/getHotelRoomType, 状态码: 404 NOT_FOUND, 错误信息: {"error":{"name":"mockRequestNotFoundError","message":"Double check your method and the request path and try again. Learn more here: https://learning.postman.com/docs/design-apis/mock-apis/matching-algorithm/","header":"No matching requests"}}
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockRequestNotFoundError","message":"Double check your method and the request path and try again. Learn more here: https://learning.postman.com/docs/design-apis/mock-apis/matching-algorithm/","header":"No matching requests"}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.postForEntity(RestTemplate.java:538)
	at org.xfy.hotelpricecomparison.service.impl.JinjiangApiServiceImpl.callSupplierApi(JinjiangApiServiceImpl.java:195)
	at org.xfy.hotelpricecomparison.service.impl.JinjiangApiServiceImpl.getHotelRoomType(JinjiangApiServiceImpl.java:108)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.retry.annotation.AnnotationAwareRetryOperationsInterceptor.invoke(AnnotationAwareRetryOperationsInterceptor.java:164)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at org.xfy.hotelpricecomparison.service.impl.JinjiangApiServiceImpl$$SpringCGLIB$$0.getHotelRoomType(<generated>)
	at org.xfy.hotelpricecomparison.service.impl.ScheduledApiServiceImpl.lambda$syncHotelRoomTypes$2(ScheduledApiServiceImpl.java:461)
	at org.xfy.hotelpricecomparison.util.RetryUtil.executeWithRetry(RetryUtil.java:54)
	at org.xfy.hotelpricecomparison.service.impl.ScheduledApiServiceImpl.syncHotelRoomTypes(ScheduledApiServiceImpl.java:455)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 01:30:19.563 [scheduled-1] WARN  o.x.h.service.impl.ScheduledApiServiceImpl - 获取房型数据失败，酒店ID: HOTEL001
2025-10-21 01:30:19.771 [scheduled-1] DEBUG o.x.h.service.impl.JinjiangApiServiceImpl - 开始调用供应商API获取酒店房型信息 - 酒店ID: HOTEL002
2025-10-21 01:30:19.771 [scheduled-1] INFO  org.xfy.hotelpricecomparison.util.LogUtil - 调用API: https://dfd9fbc3-4bf3-4efc-90c8-60cc60d04ab6.mock.pstmn.io/hotel/getHotelRoomType, 请求参数: {"hotelId":"HOTEL002","roomTypeId":null,"checkInDate":null,"checkOutDate":null}
2025-10-21 01:30:19.772 [scheduled-1] DEBUG o.x.h.service.impl.JinjiangApiServiceImpl - 发送API请求到: https://dfd9fbc3-4bf3-4efc-90c8-60cc60d04ab6.mock.pstmn.io/hotel/getHotelRoomType
2025-10-21 01:30:20.261 [scheduled-1] ERROR o.x.h.service.impl.JinjiangApiServiceImpl - HTTP客户端错误 - URL: https://dfd9fbc3-4bf3-4efc-90c8-60cc60d04ab6.mock.pstmn.io/hotel/getHotelRoomType, 状态码: 404 NOT_FOUND, 错误信息: {"error":{"name":"mockRequestNotFoundError","message":"Double check your method and the request path and try again. Learn more here: https://learning.postman.com/docs/design-apis/mock-apis/matching-algorithm/","header":"No matching requests"}}
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockRequestNotFoundError","message":"Double check your method and the request path and try again. Learn more here: https://learning.postman.com/docs/design-apis/mock-apis/matching-algorithm/","header":"No matching requests"}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.postForEntity(RestTemplate.java:538)
	at org.xfy.hotelpricecomparison.service.impl.JinjiangApiServiceImpl.callSupplierApi(JinjiangApiServiceImpl.java:195)
	at org.xfy.hotelpricecomparison.service.impl.JinjiangApiServiceImpl.getHotelRoomType(JinjiangApiServiceImpl.java:108)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.retry.annotation.AnnotationAwareRetryOperationsInterceptor.invoke(AnnotationAwareRetryOperationsInterceptor.java:164)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at org.xfy.hotelpricecomparison.service.impl.JinjiangApiServiceImpl$$SpringCGLIB$$0.getHotelRoomType(<generated>)
	at org.xfy.hotelpricecomparison.service.impl.ScheduledApiServiceImpl.lambda$syncHotelRoomTypes$2(ScheduledApiServiceImpl.java:461)
	at org.xfy.hotelpricecomparison.util.RetryUtil.executeWithRetry(RetryUtil.java:54)
	at org.xfy.hotelpricecomparison.service.impl.ScheduledApiServiceImpl.syncHotelRoomTypes(ScheduledApiServiceImpl.java:455)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 01:30:20.264 [scheduled-1] WARN  o.x.h.service.impl.ScheduledApiServiceImpl - 获取房型数据失败，酒店ID: HOTEL002
2025-10-21 01:30:20.478 [scheduled-1] INFO  o.x.h.service.impl.ScheduledApiServiceImpl - 房型数据同步完成，成功: 0, 失败: 2
2025-10-21 01:30:21.369 [http-nio-8080-exec-2] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-21 01:30:21.369 [http-nio-8080-exec-2] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-10-21 01:30:21.374 [http-nio-8080-exec-2] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 4 ms
2025-10-21 01:30:21.520 [http-nio-8080-exec-2] INFO  o.x.hotelpricecomparison.controller.AuthController - 收到登录请求: username=wzx
2025-10-21 01:30:21.520 [http-nio-8080-exec-2] INFO  o.x.h.service.impl.SysUserServiceImpl - 开始查询用户: username=wzx
2025-10-21 01:30:21.520 [http-nio-8080-exec-2] INFO  o.x.h.service.impl.SysUserServiceImpl - 查询条件: (username = #{ew.paramNameValuePairs.MPGENVAL1})
2025-10-21 01:30:21.522 [http-nio-8080-exec-2] DEBUG o.x.h.mapper.SysUserMapper.selectList - ==>  Preparing: SELECT id, username, password, email, phone, role FROM sys_user
2025-10-21 01:30:21.522 [http-nio-8080-exec-2] DEBUG o.x.h.mapper.SysUserMapper.selectList - ==> Parameters: 
2025-10-21 01:30:21.525 [http-nio-8080-exec-2] DEBUG o.x.h.mapper.SysUserMapper.selectList - <==      Total: 3
2025-10-21 01:30:21.526 [http-nio-8080-exec-2] INFO  o.x.h.service.impl.SysUserServiceImpl - 查询结果数量: 3
2025-10-21 01:30:21.526 [http-nio-8080-exec-2] INFO  o.x.h.service.impl.SysUserServiceImpl - 查询到的用户: admin
2025-10-21 01:30:21.526 [http-nio-8080-exec-2] INFO  o.x.h.service.impl.SysUserServiceImpl - 查询到的用户: user
2025-10-21 01:30:21.526 [http-nio-8080-exec-2] INFO  o.x.h.service.impl.SysUserServiceImpl - 查询到的用户: wzx
2025-10-21 01:30:21.527 [http-nio-8080-exec-2] INFO  o.x.h.service.impl.SysUserServiceImpl - 找到匹配的用户: wzx
2025-10-21 01:30:21.527 [http-nio-8080-exec-2] INFO  o.x.hotelpricecomparison.controller.AuthController - 找到用户: wzx
2025-10-21 01:30:22.216 [http-nio-8080-exec-2] INFO  o.x.hotelpricecomparison.controller.AuthController - 密码验证成功: wzx
2025-10-21 01:30:22.216 [http-nio-8080-exec-2] INFO  o.x.hotelpricecomparison.controller.AuthController - 用户登录成功: wzx
2025-10-21 01:30:48.329 [MessageBroker-1] INFO  o.s.web.socket.config.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2025-10-21 01:30:48.447 [scheduled-2] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 开始同步去哪网订单...
2025-10-21 01:30:48.447 [scheduled-2] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 查询时间范围: fromDate=20251021012048, toDate=20251021013048
2025-10-21 01:30:48.447 [scheduled-2] INFO  o.x.h.service.impl.QunarOrderServiceImpl - 开始查询去哪网订单列表: fromDate=20251021012048, toDate=20251021013048, version=3.7
2025-10-21 01:30:48.447 [scheduled-2] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 生成HMAC签名: data=your_sign_key20251021012048202510210130483.7, hmac=82a5b9b72a5250b81d3547bebae02f4e
2025-10-21 01:30:48.448 [scheduled-2] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 构建请求URL: https://2402add9-4b1a-450b-9bed-701d6679a21b.mock.pstmn.io/api.qunar.com/api/ota/otaQueryOrder?fromDate=20251021012048&toDate=20251021013048&version=3.7&hmac=82a5b9b72a5250b81d3547bebae02f4e
2025-10-21 01:30:49.408 [scheduled-2] ERROR o.x.h.service.impl.QunarOrderServiceImpl - 查询去哪网订单列表异常
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:431)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrderList(QunarOrderServiceImpl.java:53)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrdersByDateRange(QunarOrderServiceImpl.java:78)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl.syncOrdersFromQunar(QunarOrderSyncServiceImpl.java:66)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:716)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl$$SpringCGLIB$$0.syncOrdersFromQunar(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 01:30:49.412 [scheduled-2] ERROR o.x.h.service.impl.QunarOrderSyncServiceImpl - 去哪网订单查询失败: errCode=ERROR, errMsg=查询异常: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
2025-10-21 01:31:18.451 [scheduled-2] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 开始同步去哪网订单...
2025-10-21 01:31:18.451 [scheduled-2] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 查询时间范围: fromDate=20251021012118, toDate=20251021013118
2025-10-21 01:31:18.451 [scheduled-2] INFO  o.x.h.service.impl.QunarOrderServiceImpl - 开始查询去哪网订单列表: fromDate=20251021012118, toDate=20251021013118, version=3.7
2025-10-21 01:31:18.451 [scheduled-2] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 生成HMAC签名: data=your_sign_key20251021012118202510210131183.7, hmac=c7cbba00fccaf5f1b0f5f5644bac9a64
2025-10-21 01:31:18.452 [scheduled-2] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 构建请求URL: https://2402add9-4b1a-450b-9bed-701d6679a21b.mock.pstmn.io/api.qunar.com/api/ota/otaQueryOrder?fromDate=20251021012118&toDate=20251021013118&version=3.7&hmac=c7cbba00fccaf5f1b0f5f5644bac9a64
2025-10-21 01:31:19.435 [scheduled-2] ERROR o.x.h.service.impl.QunarOrderServiceImpl - 查询去哪网订单列表异常
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:431)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrderList(QunarOrderServiceImpl.java:53)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrdersByDateRange(QunarOrderServiceImpl.java:78)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl.syncOrdersFromQunar(QunarOrderSyncServiceImpl.java:66)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:716)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl$$SpringCGLIB$$0.syncOrdersFromQunar(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 01:31:19.442 [scheduled-2] ERROR o.x.h.service.impl.QunarOrderSyncServiceImpl - 去哪网订单查询失败: errCode=ERROR, errMsg=查询异常: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
2025-10-21 01:31:48.451 [scheduled-2] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 开始同步去哪网订单...
2025-10-21 01:31:48.453 [scheduled-2] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 查询时间范围: fromDate=20251021012148, toDate=20251021013148
2025-10-21 01:31:48.453 [scheduled-2] INFO  o.x.h.service.impl.QunarOrderServiceImpl - 开始查询去哪网订单列表: fromDate=20251021012148, toDate=20251021013148, version=3.7
2025-10-21 01:31:48.453 [scheduled-2] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 生成HMAC签名: data=your_sign_key20251021012148202510210131483.7, hmac=c97311ce43cf67a8684cdf33f3217c98
2025-10-21 01:31:48.454 [scheduled-2] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 构建请求URL: https://2402add9-4b1a-450b-9bed-701d6679a21b.mock.pstmn.io/api.qunar.com/api/ota/otaQueryOrder?fromDate=20251021012148&toDate=20251021013148&version=3.7&hmac=c97311ce43cf67a8684cdf33f3217c98
2025-10-21 01:31:48.922 [scheduled-2] ERROR o.x.h.service.impl.QunarOrderServiceImpl - 查询去哪网订单列表异常
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:431)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrderList(QunarOrderServiceImpl.java:53)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrdersByDateRange(QunarOrderServiceImpl.java:78)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl.syncOrdersFromQunar(QunarOrderSyncServiceImpl.java:66)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:716)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl$$SpringCGLIB$$0.syncOrdersFromQunar(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 01:31:48.924 [scheduled-2] ERROR o.x.h.service.impl.QunarOrderSyncServiceImpl - 去哪网订单查询失败: errCode=ERROR, errMsg=查询异常: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
2025-10-21 01:32:18.447 [scheduled-2] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 开始同步去哪网订单...
2025-10-21 01:32:18.447 [scheduled-2] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 查询时间范围: fromDate=20251021012218, toDate=20251021013218
2025-10-21 01:32:18.447 [scheduled-2] INFO  o.x.h.service.impl.QunarOrderServiceImpl - 开始查询去哪网订单列表: fromDate=20251021012218, toDate=20251021013218, version=3.7
2025-10-21 01:32:18.448 [scheduled-2] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 生成HMAC签名: data=your_sign_key20251021012218202510210132183.7, hmac=27f937638ac819dd2cc4048e6813714a
2025-10-21 01:32:18.448 [scheduled-2] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 构建请求URL: https://2402add9-4b1a-450b-9bed-701d6679a21b.mock.pstmn.io/api.qunar.com/api/ota/otaQueryOrder?fromDate=20251021012218&toDate=20251021013218&version=3.7&hmac=27f937638ac819dd2cc4048e6813714a
2025-10-21 01:32:19.421 [scheduled-2] ERROR o.x.h.service.impl.QunarOrderServiceImpl - 查询去哪网订单列表异常
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:431)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrderList(QunarOrderServiceImpl.java:53)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrdersByDateRange(QunarOrderServiceImpl.java:78)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl.syncOrdersFromQunar(QunarOrderSyncServiceImpl.java:66)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:716)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl$$SpringCGLIB$$0.syncOrdersFromQunar(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 01:32:19.424 [scheduled-2] ERROR o.x.h.service.impl.QunarOrderSyncServiceImpl - 去哪网订单查询失败: errCode=ERROR, errMsg=查询异常: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
2025-10-21 01:32:48.457 [scheduled-2] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 开始同步去哪网订单...
2025-10-21 01:32:48.457 [scheduled-2] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 查询时间范围: fromDate=20251021012248, toDate=20251021013248
2025-10-21 01:32:48.457 [scheduled-2] INFO  o.x.h.service.impl.QunarOrderServiceImpl - 开始查询去哪网订单列表: fromDate=20251021012248, toDate=20251021013248, version=3.7
2025-10-21 01:32:48.458 [scheduled-2] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 生成HMAC签名: data=your_sign_key20251021012248202510210132483.7, hmac=80b6569a4536330f582b13a3d49a325e
2025-10-21 01:32:48.459 [scheduled-2] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 构建请求URL: https://2402add9-4b1a-450b-9bed-701d6679a21b.mock.pstmn.io/api.qunar.com/api/ota/otaQueryOrder?fromDate=20251021012248&toDate=20251021013248&version=3.7&hmac=80b6569a4536330f582b13a3d49a325e
2025-10-21 01:32:49.415 [scheduled-2] ERROR o.x.h.service.impl.QunarOrderServiceImpl - 查询去哪网订单列表异常
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:431)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrderList(QunarOrderServiceImpl.java:53)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrdersByDateRange(QunarOrderServiceImpl.java:78)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl.syncOrdersFromQunar(QunarOrderSyncServiceImpl.java:66)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:716)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl$$SpringCGLIB$$0.syncOrdersFromQunar(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 01:32:49.416 [scheduled-2] ERROR o.x.h.service.impl.QunarOrderSyncServiceImpl - 去哪网订单查询失败: errCode=ERROR, errMsg=查询异常: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
2025-10-21 01:33:18.445 [scheduled-2] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 开始同步去哪网订单...
2025-10-21 01:33:18.445 [scheduled-2] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 查询时间范围: fromDate=20251021012318, toDate=20251021013318
2025-10-21 01:33:18.445 [scheduled-2] INFO  o.x.h.service.impl.QunarOrderServiceImpl - 开始查询去哪网订单列表: fromDate=20251021012318, toDate=20251021013318, version=3.7
2025-10-21 01:33:18.445 [scheduled-2] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 生成HMAC签名: data=your_sign_key20251021012318202510210133183.7, hmac=a146cc11a3bbafc8f356607d6fa81075
2025-10-21 01:33:18.446 [scheduled-2] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 构建请求URL: https://2402add9-4b1a-450b-9bed-701d6679a21b.mock.pstmn.io/api.qunar.com/api/ota/otaQueryOrder?fromDate=20251021012318&toDate=20251021013318&version=3.7&hmac=a146cc11a3bbafc8f356607d6fa81075
2025-10-21 01:33:19.535 [scheduled-2] ERROR o.x.h.service.impl.QunarOrderServiceImpl - 查询去哪网订单列表异常
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:431)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrderList(QunarOrderServiceImpl.java:53)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrdersByDateRange(QunarOrderServiceImpl.java:78)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl.syncOrdersFromQunar(QunarOrderSyncServiceImpl.java:66)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:716)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl$$SpringCGLIB$$0.syncOrdersFromQunar(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 01:33:19.537 [scheduled-2] ERROR o.x.h.service.impl.QunarOrderSyncServiceImpl - 去哪网订单查询失败: errCode=ERROR, errMsg=查询异常: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
2025-10-21 01:33:48.446 [scheduled-2] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 开始同步去哪网订单...
2025-10-21 01:33:48.446 [scheduled-2] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 查询时间范围: fromDate=20251021012348, toDate=20251021013348
2025-10-21 01:33:48.446 [scheduled-2] INFO  o.x.h.service.impl.QunarOrderServiceImpl - 开始查询去哪网订单列表: fromDate=20251021012348, toDate=20251021013348, version=3.7
2025-10-21 01:33:48.446 [scheduled-2] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 生成HMAC签名: data=your_sign_key20251021012348202510210133483.7, hmac=83d4b986a053c393e7fd8b0937e0f50a
2025-10-21 01:33:48.446 [scheduled-2] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 构建请求URL: https://2402add9-4b1a-450b-9bed-701d6679a21b.mock.pstmn.io/api.qunar.com/api/ota/otaQueryOrder?fromDate=20251021012348&toDate=20251021013348&version=3.7&hmac=83d4b986a053c393e7fd8b0937e0f50a
2025-10-21 01:33:48.922 [scheduled-2] ERROR o.x.h.service.impl.QunarOrderServiceImpl - 查询去哪网订单列表异常
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:431)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrderList(QunarOrderServiceImpl.java:53)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrdersByDateRange(QunarOrderServiceImpl.java:78)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl.syncOrdersFromQunar(QunarOrderSyncServiceImpl.java:66)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:716)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl$$SpringCGLIB$$0.syncOrdersFromQunar(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 01:33:48.925 [scheduled-2] ERROR o.x.h.service.impl.QunarOrderSyncServiceImpl - 去哪网订单查询失败: errCode=ERROR, errMsg=查询异常: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
2025-10-21 01:34:18.453 [scheduled-2] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 开始同步去哪网订单...
2025-10-21 01:34:18.453 [scheduled-2] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 查询时间范围: fromDate=20251021012418, toDate=20251021013418
2025-10-21 01:34:18.454 [scheduled-2] INFO  o.x.h.service.impl.QunarOrderServiceImpl - 开始查询去哪网订单列表: fromDate=20251021012418, toDate=20251021013418, version=3.7
2025-10-21 01:34:18.454 [scheduled-2] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 生成HMAC签名: data=your_sign_key20251021012418202510210134183.7, hmac=0a44ffb6423cd31c7d32b91cefbce43b
2025-10-21 01:34:18.454 [scheduled-2] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 构建请求URL: https://2402add9-4b1a-450b-9bed-701d6679a21b.mock.pstmn.io/api.qunar.com/api/ota/otaQueryOrder?fromDate=20251021012418&toDate=20251021013418&version=3.7&hmac=0a44ffb6423cd31c7d32b91cefbce43b
2025-10-21 01:34:19.414 [scheduled-2] ERROR o.x.h.service.impl.QunarOrderServiceImpl - 查询去哪网订单列表异常
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:431)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrderList(QunarOrderServiceImpl.java:53)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrdersByDateRange(QunarOrderServiceImpl.java:78)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl.syncOrdersFromQunar(QunarOrderSyncServiceImpl.java:66)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:716)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl$$SpringCGLIB$$0.syncOrdersFromQunar(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 01:34:19.416 [scheduled-2] ERROR o.x.h.service.impl.QunarOrderSyncServiceImpl - 去哪网订单查询失败: errCode=ERROR, errMsg=查询异常: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
2025-10-21 01:34:30.083 [http-nio-8080-exec-3] INFO  o.x.hotelpricecomparison.controller.AuthController - 收到登录请求: username=wzx
2025-10-21 01:34:30.084 [http-nio-8080-exec-3] INFO  o.x.h.service.impl.SysUserServiceImpl - 开始查询用户: username=wzx
2025-10-21 01:34:30.084 [http-nio-8080-exec-3] INFO  o.x.h.service.impl.SysUserServiceImpl - 查询条件: (username = #{ew.paramNameValuePairs.MPGENVAL1})
2025-10-21 01:34:30.085 [http-nio-8080-exec-3] DEBUG o.x.h.mapper.SysUserMapper.selectList - ==>  Preparing: SELECT id, username, password, email, phone, role FROM sys_user
2025-10-21 01:34:30.085 [http-nio-8080-exec-3] DEBUG o.x.h.mapper.SysUserMapper.selectList - ==> Parameters: 
2025-10-21 01:34:30.086 [http-nio-8080-exec-3] DEBUG o.x.h.mapper.SysUserMapper.selectList - <==      Total: 3
2025-10-21 01:34:30.086 [http-nio-8080-exec-3] INFO  o.x.h.service.impl.SysUserServiceImpl - 查询结果数量: 3
2025-10-21 01:34:30.086 [http-nio-8080-exec-3] INFO  o.x.h.service.impl.SysUserServiceImpl - 查询到的用户: admin
2025-10-21 01:34:30.086 [http-nio-8080-exec-3] INFO  o.x.h.service.impl.SysUserServiceImpl - 查询到的用户: user
2025-10-21 01:34:30.087 [http-nio-8080-exec-3] INFO  o.x.h.service.impl.SysUserServiceImpl - 查询到的用户: wzx
2025-10-21 01:34:30.087 [http-nio-8080-exec-3] INFO  o.x.h.service.impl.SysUserServiceImpl - 找到匹配的用户: wzx
2025-10-21 01:34:30.087 [http-nio-8080-exec-3] INFO  o.x.hotelpricecomparison.controller.AuthController - 找到用户: wzx
2025-10-21 01:34:30.848 [http-nio-8080-exec-3] INFO  o.x.hotelpricecomparison.controller.AuthController - 密码验证成功: wzx
2025-10-21 01:34:30.848 [http-nio-8080-exec-3] INFO  o.x.hotelpricecomparison.controller.AuthController - 用户登录成功: wzx
2025-10-21 01:34:37.166 [http-nio-8080-exec-4] INFO  o.x.hotelpricecomparison.controller.AuthController - 收到登录请求: username=wzx
2025-10-21 01:34:37.166 [http-nio-8080-exec-4] INFO  o.x.h.service.impl.SysUserServiceImpl - 开始查询用户: username=wzx
2025-10-21 01:34:37.166 [http-nio-8080-exec-4] INFO  o.x.h.service.impl.SysUserServiceImpl - 查询条件: (username = #{ew.paramNameValuePairs.MPGENVAL1})
2025-10-21 01:34:37.167 [http-nio-8080-exec-4] DEBUG o.x.h.mapper.SysUserMapper.selectList - ==>  Preparing: SELECT id, username, password, email, phone, role FROM sys_user
2025-10-21 01:34:37.167 [http-nio-8080-exec-4] DEBUG o.x.h.mapper.SysUserMapper.selectList - ==> Parameters: 
2025-10-21 01:34:37.168 [http-nio-8080-exec-4] DEBUG o.x.h.mapper.SysUserMapper.selectList - <==      Total: 3
2025-10-21 01:34:37.168 [http-nio-8080-exec-4] INFO  o.x.h.service.impl.SysUserServiceImpl - 查询结果数量: 3
2025-10-21 01:34:37.168 [http-nio-8080-exec-4] INFO  o.x.h.service.impl.SysUserServiceImpl - 查询到的用户: admin
2025-10-21 01:34:37.168 [http-nio-8080-exec-4] INFO  o.x.h.service.impl.SysUserServiceImpl - 查询到的用户: user
2025-10-21 01:34:37.168 [http-nio-8080-exec-4] INFO  o.x.h.service.impl.SysUserServiceImpl - 查询到的用户: wzx
2025-10-21 01:34:37.168 [http-nio-8080-exec-4] INFO  o.x.h.service.impl.SysUserServiceImpl - 找到匹配的用户: wzx
2025-10-21 01:34:37.168 [http-nio-8080-exec-4] INFO  o.x.hotelpricecomparison.controller.AuthController - 找到用户: wzx
2025-10-21 01:34:37.564 [http-nio-8080-exec-4] INFO  o.x.hotelpricecomparison.controller.AuthController - 密码验证成功: wzx
2025-10-21 01:34:37.565 [http-nio-8080-exec-4] INFO  o.x.hotelpricecomparison.controller.AuthController - 用户登录成功: wzx
2025-10-21 01:34:48.446 [scheduled-2] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 开始同步去哪网订单...
2025-10-21 01:34:48.446 [scheduled-2] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 查询时间范围: fromDate=20251021012448, toDate=20251021013448
2025-10-21 01:34:48.446 [scheduled-2] INFO  o.x.h.service.impl.QunarOrderServiceImpl - 开始查询去哪网订单列表: fromDate=20251021012448, toDate=20251021013448, version=3.7
2025-10-21 01:34:48.446 [scheduled-2] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 生成HMAC签名: data=your_sign_key20251021012448202510210134483.7, hmac=1c0e22b37d811bdf8dd421e626d7c2f1
2025-10-21 01:34:48.447 [scheduled-2] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 构建请求URL: https://2402add9-4b1a-450b-9bed-701d6679a21b.mock.pstmn.io/api.qunar.com/api/ota/otaQueryOrder?fromDate=20251021012448&toDate=20251021013448&version=3.7&hmac=1c0e22b37d811bdf8dd421e626d7c2f1
2025-10-21 01:34:49.463 [scheduled-2] ERROR o.x.h.service.impl.QunarOrderServiceImpl - 查询去哪网订单列表异常
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:431)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrderList(QunarOrderServiceImpl.java:53)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrdersByDateRange(QunarOrderServiceImpl.java:78)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl.syncOrdersFromQunar(QunarOrderSyncServiceImpl.java:66)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:716)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl$$SpringCGLIB$$0.syncOrdersFromQunar(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 01:34:49.466 [scheduled-2] ERROR o.x.h.service.impl.QunarOrderSyncServiceImpl - 去哪网订单查询失败: errCode=ERROR, errMsg=查询异常: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
2025-10-21 01:35:18.449 [scheduled-2] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 开始同步去哪网订单...
2025-10-21 01:35:18.450 [scheduled-2] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 查询时间范围: fromDate=20251021012518, toDate=20251021013518
2025-10-21 01:35:18.450 [scheduled-2] INFO  o.x.h.service.impl.QunarOrderServiceImpl - 开始查询去哪网订单列表: fromDate=20251021012518, toDate=20251021013518, version=3.7
2025-10-21 01:35:18.450 [scheduled-2] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 生成HMAC签名: data=your_sign_key20251021012518202510210135183.7, hmac=8babe75b1c5105c49ec6f1bbf58677fc
2025-10-21 01:35:18.451 [scheduled-2] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 构建请求URL: https://2402add9-4b1a-450b-9bed-701d6679a21b.mock.pstmn.io/api.qunar.com/api/ota/otaQueryOrder?fromDate=20251021012518&toDate=20251021013518&version=3.7&hmac=8babe75b1c5105c49ec6f1bbf58677fc
2025-10-21 01:35:19.430 [scheduled-2] ERROR o.x.h.service.impl.QunarOrderServiceImpl - 查询去哪网订单列表异常
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:431)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrderList(QunarOrderServiceImpl.java:53)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrdersByDateRange(QunarOrderServiceImpl.java:78)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl.syncOrdersFromQunar(QunarOrderSyncServiceImpl.java:66)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:716)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl$$SpringCGLIB$$0.syncOrdersFromQunar(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 01:35:19.432 [scheduled-2] ERROR o.x.h.service.impl.QunarOrderSyncServiceImpl - 去哪网订单查询失败: errCode=ERROR, errMsg=查询异常: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
2025-10-21 01:35:36.464 [http-nio-8080-exec-5] INFO  o.x.hotelpricecomparison.controller.AuthController - 收到登录请求: username=wzx
2025-10-21 01:35:36.464 [http-nio-8080-exec-5] INFO  o.x.h.service.impl.SysUserServiceImpl - 开始查询用户: username=wzx
2025-10-21 01:35:36.464 [http-nio-8080-exec-5] INFO  o.x.h.service.impl.SysUserServiceImpl - 查询条件: (username = #{ew.paramNameValuePairs.MPGENVAL1})
2025-10-21 01:35:36.465 [http-nio-8080-exec-5] DEBUG o.x.h.mapper.SysUserMapper.selectList - ==>  Preparing: SELECT id, username, password, email, phone, role FROM sys_user
2025-10-21 01:35:36.466 [http-nio-8080-exec-5] DEBUG o.x.h.mapper.SysUserMapper.selectList - ==> Parameters: 
2025-10-21 01:35:36.467 [http-nio-8080-exec-5] DEBUG o.x.h.mapper.SysUserMapper.selectList - <==      Total: 3
2025-10-21 01:35:36.467 [http-nio-8080-exec-5] INFO  o.x.h.service.impl.SysUserServiceImpl - 查询结果数量: 3
2025-10-21 01:35:36.467 [http-nio-8080-exec-5] INFO  o.x.h.service.impl.SysUserServiceImpl - 查询到的用户: admin
2025-10-21 01:35:36.467 [http-nio-8080-exec-5] INFO  o.x.h.service.impl.SysUserServiceImpl - 查询到的用户: user
2025-10-21 01:35:36.467 [http-nio-8080-exec-5] INFO  o.x.h.service.impl.SysUserServiceImpl - 查询到的用户: wzx
2025-10-21 01:35:36.467 [http-nio-8080-exec-5] INFO  o.x.h.service.impl.SysUserServiceImpl - 找到匹配的用户: wzx
2025-10-21 01:35:36.467 [http-nio-8080-exec-5] INFO  o.x.hotelpricecomparison.controller.AuthController - 找到用户: wzx
2025-10-21 01:35:37.010 [http-nio-8080-exec-5] INFO  o.x.hotelpricecomparison.controller.AuthController - 密码验证成功: wzx
2025-10-21 01:35:37.010 [http-nio-8080-exec-5] INFO  o.x.hotelpricecomparison.controller.AuthController - 用户登录成功: wzx
2025-10-21 01:35:48.459 [scheduled-2] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 开始同步去哪网订单...
2025-10-21 01:35:48.459 [scheduled-2] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 查询时间范围: fromDate=20251021012548, toDate=20251021013548
2025-10-21 01:35:48.459 [scheduled-2] INFO  o.x.h.service.impl.QunarOrderServiceImpl - 开始查询去哪网订单列表: fromDate=20251021012548, toDate=20251021013548, version=3.7
2025-10-21 01:35:48.459 [scheduled-2] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 生成HMAC签名: data=your_sign_key20251021012548202510210135483.7, hmac=6ab952cc0a36ca1f3f74e53f6ec27a0e
2025-10-21 01:35:48.459 [scheduled-2] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 构建请求URL: https://2402add9-4b1a-450b-9bed-701d6679a21b.mock.pstmn.io/api.qunar.com/api/ota/otaQueryOrder?fromDate=20251021012548&toDate=20251021013548&version=3.7&hmac=6ab952cc0a36ca1f3f74e53f6ec27a0e
2025-10-21 01:35:49.508 [scheduled-2] ERROR o.x.h.service.impl.QunarOrderServiceImpl - 查询去哪网订单列表异常
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:431)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrderList(QunarOrderServiceImpl.java:53)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrdersByDateRange(QunarOrderServiceImpl.java:78)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl.syncOrdersFromQunar(QunarOrderSyncServiceImpl.java:66)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:716)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl$$SpringCGLIB$$0.syncOrdersFromQunar(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 01:35:49.510 [scheduled-2] ERROR o.x.h.service.impl.QunarOrderSyncServiceImpl - 去哪网订单查询失败: errCode=ERROR, errMsg=查询异常: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
2025-10-21 01:36:18.451 [scheduled-2] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 开始同步去哪网订单...
2025-10-21 01:36:18.452 [scheduled-2] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 查询时间范围: fromDate=20251021012618, toDate=20251021013618
2025-10-21 01:36:18.452 [scheduled-2] INFO  o.x.h.service.impl.QunarOrderServiceImpl - 开始查询去哪网订单列表: fromDate=20251021012618, toDate=20251021013618, version=3.7
2025-10-21 01:36:18.452 [scheduled-2] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 生成HMAC签名: data=your_sign_key20251021012618202510210136183.7, hmac=8c0e051797d5739dcfc0039de0660e5e
2025-10-21 01:36:18.452 [scheduled-2] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 构建请求URL: https://2402add9-4b1a-450b-9bed-701d6679a21b.mock.pstmn.io/api.qunar.com/api/ota/otaQueryOrder?fromDate=20251021012618&toDate=20251021013618&version=3.7&hmac=8c0e051797d5739dcfc0039de0660e5e
2025-10-21 01:36:19.435 [scheduled-2] ERROR o.x.h.service.impl.QunarOrderServiceImpl - 查询去哪网订单列表异常
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:431)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrderList(QunarOrderServiceImpl.java:53)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrdersByDateRange(QunarOrderServiceImpl.java:78)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl.syncOrdersFromQunar(QunarOrderSyncServiceImpl.java:66)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:716)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl$$SpringCGLIB$$0.syncOrdersFromQunar(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 01:36:19.436 [scheduled-2] ERROR o.x.h.service.impl.QunarOrderSyncServiceImpl - 去哪网订单查询失败: errCode=ERROR, errMsg=查询异常: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
2025-10-21 01:36:48.458 [scheduled-2] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 开始同步去哪网订单...
2025-10-21 01:36:48.459 [scheduled-2] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 查询时间范围: fromDate=20251021012648, toDate=20251021013648
2025-10-21 01:36:48.459 [scheduled-2] INFO  o.x.h.service.impl.QunarOrderServiceImpl - 开始查询去哪网订单列表: fromDate=20251021012648, toDate=20251021013648, version=3.7
2025-10-21 01:36:48.459 [scheduled-2] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 生成HMAC签名: data=your_sign_key20251021012648202510210136483.7, hmac=22e10abf6365502014c534fb631b1d5c
2025-10-21 01:36:48.460 [scheduled-2] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 构建请求URL: https://2402add9-4b1a-450b-9bed-701d6679a21b.mock.pstmn.io/api.qunar.com/api/ota/otaQueryOrder?fromDate=20251021012648&toDate=20251021013648&version=3.7&hmac=22e10abf6365502014c534fb631b1d5c
2025-10-21 01:36:49.445 [scheduled-2] ERROR o.x.h.service.impl.QunarOrderServiceImpl - 查询去哪网订单列表异常
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:431)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrderList(QunarOrderServiceImpl.java:53)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrdersByDateRange(QunarOrderServiceImpl.java:78)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl.syncOrdersFromQunar(QunarOrderSyncServiceImpl.java:66)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:716)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl$$SpringCGLIB$$0.syncOrdersFromQunar(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 01:36:49.446 [scheduled-2] ERROR o.x.h.service.impl.QunarOrderSyncServiceImpl - 去哪网订单查询失败: errCode=ERROR, errMsg=查询异常: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
2025-10-21 01:37:18.464 [scheduled-2] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 开始同步去哪网订单...
2025-10-21 01:37:18.464 [scheduled-2] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 查询时间范围: fromDate=20251021012718, toDate=20251021013718
2025-10-21 01:37:18.464 [scheduled-2] INFO  o.x.h.service.impl.QunarOrderServiceImpl - 开始查询去哪网订单列表: fromDate=20251021012718, toDate=20251021013718, version=3.7
2025-10-21 01:37:18.464 [scheduled-2] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 生成HMAC签名: data=your_sign_key20251021012718202510210137183.7, hmac=ddaf20f2dd69011c5b5cac4e390ae610
2025-10-21 01:37:18.465 [scheduled-2] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 构建请求URL: https://2402add9-4b1a-450b-9bed-701d6679a21b.mock.pstmn.io/api.qunar.com/api/ota/otaQueryOrder?fromDate=20251021012718&toDate=20251021013718&version=3.7&hmac=ddaf20f2dd69011c5b5cac4e390ae610
2025-10-21 01:37:18.929 [scheduled-2] ERROR o.x.h.service.impl.QunarOrderServiceImpl - 查询去哪网订单列表异常
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:431)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrderList(QunarOrderServiceImpl.java:53)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrdersByDateRange(QunarOrderServiceImpl.java:78)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl.syncOrdersFromQunar(QunarOrderSyncServiceImpl.java:66)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:716)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl$$SpringCGLIB$$0.syncOrdersFromQunar(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 01:37:18.933 [scheduled-2] ERROR o.x.h.service.impl.QunarOrderSyncServiceImpl - 去哪网订单查询失败: errCode=ERROR, errMsg=查询异常: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
2025-10-21 01:37:48.450 [scheduled-2] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 开始同步去哪网订单...
2025-10-21 01:37:48.450 [scheduled-2] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 查询时间范围: fromDate=20251021012748, toDate=20251021013748
2025-10-21 01:37:48.450 [scheduled-2] INFO  o.x.h.service.impl.QunarOrderServiceImpl - 开始查询去哪网订单列表: fromDate=20251021012748, toDate=20251021013748, version=3.7
2025-10-21 01:37:48.451 [scheduled-2] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 生成HMAC签名: data=your_sign_key20251021012748202510210137483.7, hmac=a3e546465d27595c8517d042d9d1798f
2025-10-21 01:37:48.451 [scheduled-2] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 构建请求URL: https://2402add9-4b1a-450b-9bed-701d6679a21b.mock.pstmn.io/api.qunar.com/api/ota/otaQueryOrder?fromDate=20251021012748&toDate=20251021013748&version=3.7&hmac=a3e546465d27595c8517d042d9d1798f
2025-10-21 01:37:49.455 [scheduled-2] ERROR o.x.h.service.impl.QunarOrderServiceImpl - 查询去哪网订单列表异常
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:431)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrderList(QunarOrderServiceImpl.java:53)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrdersByDateRange(QunarOrderServiceImpl.java:78)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl.syncOrdersFromQunar(QunarOrderSyncServiceImpl.java:66)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:716)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl$$SpringCGLIB$$0.syncOrdersFromQunar(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 01:37:49.458 [scheduled-2] ERROR o.x.h.service.impl.QunarOrderSyncServiceImpl - 去哪网订单查询失败: errCode=ERROR, errMsg=查询异常: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
2025-10-21 01:38:18.457 [scheduled-2] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 开始同步去哪网订单...
2025-10-21 01:38:18.457 [scheduled-2] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 查询时间范围: fromDate=20251021012818, toDate=20251021013818
2025-10-21 01:38:18.457 [scheduled-2] INFO  o.x.h.service.impl.QunarOrderServiceImpl - 开始查询去哪网订单列表: fromDate=20251021012818, toDate=20251021013818, version=3.7
2025-10-21 01:38:18.457 [scheduled-2] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 生成HMAC签名: data=your_sign_key20251021012818202510210138183.7, hmac=df9814a400c0e594279bcc49aeaa5a71
2025-10-21 01:38:18.457 [scheduled-2] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 构建请求URL: https://2402add9-4b1a-450b-9bed-701d6679a21b.mock.pstmn.io/api.qunar.com/api/ota/otaQueryOrder?fromDate=20251021012818&toDate=20251021013818&version=3.7&hmac=df9814a400c0e594279bcc49aeaa5a71
2025-10-21 01:38:18.945 [scheduled-2] ERROR o.x.h.service.impl.QunarOrderServiceImpl - 查询去哪网订单列表异常
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:431)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrderList(QunarOrderServiceImpl.java:53)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrdersByDateRange(QunarOrderServiceImpl.java:78)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl.syncOrdersFromQunar(QunarOrderSyncServiceImpl.java:66)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:716)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl$$SpringCGLIB$$0.syncOrdersFromQunar(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 01:38:18.947 [scheduled-2] ERROR o.x.h.service.impl.QunarOrderSyncServiceImpl - 去哪网订单查询失败: errCode=ERROR, errMsg=查询异常: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
2025-10-21 01:38:48.457 [scheduled-2] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 开始同步去哪网订单...
2025-10-21 01:38:48.457 [scheduled-2] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 查询时间范围: fromDate=20251021012848, toDate=20251021013848
2025-10-21 01:38:48.457 [scheduled-2] INFO  o.x.h.service.impl.QunarOrderServiceImpl - 开始查询去哪网订单列表: fromDate=20251021012848, toDate=20251021013848, version=3.7
2025-10-21 01:38:48.457 [scheduled-2] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 生成HMAC签名: data=your_sign_key20251021012848202510210138483.7, hmac=261c1cb52d316b87ea932118f3d08cea
2025-10-21 01:38:48.457 [scheduled-2] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 构建请求URL: https://2402add9-4b1a-450b-9bed-701d6679a21b.mock.pstmn.io/api.qunar.com/api/ota/otaQueryOrder?fromDate=20251021012848&toDate=20251021013848&version=3.7&hmac=261c1cb52d316b87ea932118f3d08cea
2025-10-21 01:38:49.446 [scheduled-2] ERROR o.x.h.service.impl.QunarOrderServiceImpl - 查询去哪网订单列表异常
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:431)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrderList(QunarOrderServiceImpl.java:53)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrdersByDateRange(QunarOrderServiceImpl.java:78)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl.syncOrdersFromQunar(QunarOrderSyncServiceImpl.java:66)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:716)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl$$SpringCGLIB$$0.syncOrdersFromQunar(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 01:38:49.447 [scheduled-2] ERROR o.x.h.service.impl.QunarOrderSyncServiceImpl - 去哪网订单查询失败: errCode=ERROR, errMsg=查询异常: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
2025-10-21 01:39:18.456 [scheduled-2] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 开始同步去哪网订单...
2025-10-21 01:39:18.456 [scheduled-2] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 查询时间范围: fromDate=20251021012918, toDate=20251021013918
2025-10-21 01:39:18.456 [scheduled-2] INFO  o.x.h.service.impl.QunarOrderServiceImpl - 开始查询去哪网订单列表: fromDate=20251021012918, toDate=20251021013918, version=3.7
2025-10-21 01:39:18.456 [scheduled-2] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 生成HMAC签名: data=your_sign_key20251021012918202510210139183.7, hmac=20d12b3690b8be73031d6cdfbfc4df41
2025-10-21 01:39:18.457 [scheduled-2] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 构建请求URL: https://2402add9-4b1a-450b-9bed-701d6679a21b.mock.pstmn.io/api.qunar.com/api/ota/otaQueryOrder?fromDate=20251021012918&toDate=20251021013918&version=3.7&hmac=20d12b3690b8be73031d6cdfbfc4df41
2025-10-21 01:39:19.426 [scheduled-2] ERROR o.x.h.service.impl.QunarOrderServiceImpl - 查询去哪网订单列表异常
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:431)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrderList(QunarOrderServiceImpl.java:53)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrdersByDateRange(QunarOrderServiceImpl.java:78)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl.syncOrdersFromQunar(QunarOrderSyncServiceImpl.java:66)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:716)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl$$SpringCGLIB$$0.syncOrdersFromQunar(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 01:39:19.429 [scheduled-2] ERROR o.x.h.service.impl.QunarOrderSyncServiceImpl - 去哪网订单查询失败: errCode=ERROR, errMsg=查询异常: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
2025-10-21 01:39:48.457 [scheduled-2] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 开始同步去哪网订单...
2025-10-21 01:39:48.457 [scheduled-2] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 查询时间范围: fromDate=20251021012948, toDate=20251021013948
2025-10-21 01:39:48.458 [scheduled-2] INFO  o.x.h.service.impl.QunarOrderServiceImpl - 开始查询去哪网订单列表: fromDate=20251021012948, toDate=20251021013948, version=3.7
2025-10-21 01:39:48.458 [scheduled-2] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 生成HMAC签名: data=your_sign_key20251021012948202510210139483.7, hmac=da89fc38942b34bc9d8575d963d15189
2025-10-21 01:39:48.458 [scheduled-2] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 构建请求URL: https://2402add9-4b1a-450b-9bed-701d6679a21b.mock.pstmn.io/api.qunar.com/api/ota/otaQueryOrder?fromDate=20251021012948&toDate=20251021013948&version=3.7&hmac=da89fc38942b34bc9d8575d963d15189
2025-10-21 01:39:49.470 [scheduled-2] ERROR o.x.h.service.impl.QunarOrderServiceImpl - 查询去哪网订单列表异常
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:431)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrderList(QunarOrderServiceImpl.java:53)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrdersByDateRange(QunarOrderServiceImpl.java:78)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl.syncOrdersFromQunar(QunarOrderSyncServiceImpl.java:66)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:716)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl$$SpringCGLIB$$0.syncOrdersFromQunar(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 01:39:49.472 [scheduled-2] ERROR o.x.h.service.impl.QunarOrderSyncServiceImpl - 去哪网订单查询失败: errCode=ERROR, errMsg=查询异常: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
2025-10-21 01:40:18.457 [scheduled-2] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 开始同步去哪网订单...
2025-10-21 01:40:18.457 [scheduled-2] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 查询时间范围: fromDate=20251021013018, toDate=20251021014018
2025-10-21 01:40:18.457 [scheduled-2] INFO  o.x.h.service.impl.QunarOrderServiceImpl - 开始查询去哪网订单列表: fromDate=20251021013018, toDate=20251021014018, version=3.7
2025-10-21 01:40:18.457 [scheduled-2] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 生成HMAC签名: data=your_sign_key20251021013018202510210140183.7, hmac=80350e7b3ce5912d6a3925d03ba80f77
2025-10-21 01:40:18.457 [scheduled-2] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 构建请求URL: https://2402add9-4b1a-450b-9bed-701d6679a21b.mock.pstmn.io/api.qunar.com/api/ota/otaQueryOrder?fromDate=20251021013018&toDate=20251021014018&version=3.7&hmac=80350e7b3ce5912d6a3925d03ba80f77
2025-10-21 01:40:18.670 [http-nio-8080-exec-7] INFO  o.x.hotelpricecomparison.controller.AuthController - 收到登录请求: username=wzx
2025-10-21 01:40:18.670 [http-nio-8080-exec-7] INFO  o.x.h.service.impl.SysUserServiceImpl - 开始查询用户: username=wzx
2025-10-21 01:40:18.671 [http-nio-8080-exec-7] INFO  o.x.h.service.impl.SysUserServiceImpl - 查询条件: (username = #{ew.paramNameValuePairs.MPGENVAL1})
2025-10-21 01:40:18.672 [http-nio-8080-exec-7] DEBUG o.x.h.mapper.SysUserMapper.selectList - ==>  Preparing: SELECT id, username, password, email, phone, role FROM sys_user
2025-10-21 01:40:18.672 [http-nio-8080-exec-7] DEBUG o.x.h.mapper.SysUserMapper.selectList - ==> Parameters: 
2025-10-21 01:40:18.673 [http-nio-8080-exec-7] DEBUG o.x.h.mapper.SysUserMapper.selectList - <==      Total: 3
2025-10-21 01:40:18.673 [http-nio-8080-exec-7] INFO  o.x.h.service.impl.SysUserServiceImpl - 查询结果数量: 3
2025-10-21 01:40:18.673 [http-nio-8080-exec-7] INFO  o.x.h.service.impl.SysUserServiceImpl - 查询到的用户: admin
2025-10-21 01:40:18.673 [http-nio-8080-exec-7] INFO  o.x.h.service.impl.SysUserServiceImpl - 查询到的用户: user
2025-10-21 01:40:18.673 [http-nio-8080-exec-7] INFO  o.x.h.service.impl.SysUserServiceImpl - 查询到的用户: wzx
2025-10-21 01:40:18.673 [http-nio-8080-exec-7] INFO  o.x.h.service.impl.SysUserServiceImpl - 找到匹配的用户: wzx
2025-10-21 01:40:18.674 [http-nio-8080-exec-7] INFO  o.x.hotelpricecomparison.controller.AuthController - 找到用户: wzx
2025-10-21 01:40:18.923 [scheduled-2] ERROR o.x.h.service.impl.QunarOrderServiceImpl - 查询去哪网订单列表异常
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:431)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrderList(QunarOrderServiceImpl.java:53)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrdersByDateRange(QunarOrderServiceImpl.java:78)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl.syncOrdersFromQunar(QunarOrderSyncServiceImpl.java:66)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:716)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl$$SpringCGLIB$$0.syncOrdersFromQunar(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 01:40:18.925 [scheduled-2] ERROR o.x.h.service.impl.QunarOrderSyncServiceImpl - 去哪网订单查询失败: errCode=ERROR, errMsg=查询异常: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
2025-10-21 01:40:19.218 [http-nio-8080-exec-7] INFO  o.x.hotelpricecomparison.controller.AuthController - 密码验证成功: wzx
2025-10-21 01:40:19.218 [http-nio-8080-exec-7] INFO  o.x.hotelpricecomparison.controller.AuthController - 用户登录成功: wzx
2025-10-21 01:40:48.446 [scheduled-2] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 开始同步去哪网订单...
2025-10-21 01:40:48.446 [scheduled-2] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 查询时间范围: fromDate=20251021013048, toDate=20251021014048
2025-10-21 01:40:48.446 [scheduled-2] INFO  o.x.h.service.impl.QunarOrderServiceImpl - 开始查询去哪网订单列表: fromDate=20251021013048, toDate=20251021014048, version=3.7
2025-10-21 01:40:48.446 [scheduled-2] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 生成HMAC签名: data=your_sign_key20251021013048202510210140483.7, hmac=41a241662b72be93aa82057fb534116d
2025-10-21 01:40:48.447 [scheduled-2] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 构建请求URL: https://2402add9-4b1a-450b-9bed-701d6679a21b.mock.pstmn.io/api.qunar.com/api/ota/otaQueryOrder?fromDate=20251021013048&toDate=20251021014048&version=3.7&hmac=41a241662b72be93aa82057fb534116d
2025-10-21 01:40:49.485 [scheduled-2] ERROR o.x.h.service.impl.QunarOrderServiceImpl - 查询去哪网订单列表异常
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:431)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrderList(QunarOrderServiceImpl.java:53)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrdersByDateRange(QunarOrderServiceImpl.java:78)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl.syncOrdersFromQunar(QunarOrderSyncServiceImpl.java:66)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:716)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl$$SpringCGLIB$$0.syncOrdersFromQunar(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 01:40:49.485 [scheduled-2] ERROR o.x.h.service.impl.QunarOrderSyncServiceImpl - 去哪网订单查询失败: errCode=ERROR, errMsg=查询异常: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
2025-10-21 01:41:18.444 [scheduled-2] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 开始同步去哪网订单...
2025-10-21 01:41:18.444 [scheduled-2] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 查询时间范围: fromDate=20251021013118, toDate=20251021014118
2025-10-21 01:41:18.444 [scheduled-2] INFO  o.x.h.service.impl.QunarOrderServiceImpl - 开始查询去哪网订单列表: fromDate=20251021013118, toDate=20251021014118, version=3.7
2025-10-21 01:41:18.444 [scheduled-2] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 生成HMAC签名: data=your_sign_key20251021013118202510210141183.7, hmac=cc58a11e454edc790e816cfdc5d6fa19
2025-10-21 01:41:18.444 [scheduled-2] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 构建请求URL: https://2402add9-4b1a-450b-9bed-701d6679a21b.mock.pstmn.io/api.qunar.com/api/ota/otaQueryOrder?fromDate=20251021013118&toDate=20251021014118&version=3.7&hmac=cc58a11e454edc790e816cfdc5d6fa19
2025-10-21 01:41:18.958 [scheduled-2] ERROR o.x.h.service.impl.QunarOrderServiceImpl - 查询去哪网订单列表异常
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:431)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrderList(QunarOrderServiceImpl.java:53)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrdersByDateRange(QunarOrderServiceImpl.java:78)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl.syncOrdersFromQunar(QunarOrderSyncServiceImpl.java:66)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:716)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl$$SpringCGLIB$$0.syncOrdersFromQunar(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 01:41:18.958 [scheduled-2] ERROR o.x.h.service.impl.QunarOrderSyncServiceImpl - 去哪网订单查询失败: errCode=ERROR, errMsg=查询异常: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
2025-10-21 01:41:43.446 [http-nio-8080-exec-9] INFO  o.x.hotelpricecomparison.controller.AuthController - 收到登录请求: username=wzx
2025-10-21 01:41:43.446 [http-nio-8080-exec-9] INFO  o.x.h.service.impl.SysUserServiceImpl - 开始查询用户: username=wzx
2025-10-21 01:41:43.447 [http-nio-8080-exec-9] INFO  o.x.h.service.impl.SysUserServiceImpl - 查询条件: (username = #{ew.paramNameValuePairs.MPGENVAL1})
2025-10-21 01:41:43.448 [http-nio-8080-exec-9] DEBUG o.x.h.mapper.SysUserMapper.selectList - ==>  Preparing: SELECT id, username, password, email, phone, role FROM sys_user
2025-10-21 01:41:43.449 [http-nio-8080-exec-9] DEBUG o.x.h.mapper.SysUserMapper.selectList - ==> Parameters: 
2025-10-21 01:41:43.451 [http-nio-8080-exec-9] DEBUG o.x.h.mapper.SysUserMapper.selectList - <==      Total: 3
2025-10-21 01:41:43.451 [http-nio-8080-exec-9] INFO  o.x.h.service.impl.SysUserServiceImpl - 查询结果数量: 3
2025-10-21 01:41:43.451 [http-nio-8080-exec-9] INFO  o.x.h.service.impl.SysUserServiceImpl - 查询到的用户: admin
2025-10-21 01:41:43.451 [http-nio-8080-exec-9] INFO  o.x.h.service.impl.SysUserServiceImpl - 查询到的用户: user
2025-10-21 01:41:43.451 [http-nio-8080-exec-9] INFO  o.x.h.service.impl.SysUserServiceImpl - 查询到的用户: wzx
2025-10-21 01:41:43.451 [http-nio-8080-exec-9] INFO  o.x.h.service.impl.SysUserServiceImpl - 找到匹配的用户: wzx
2025-10-21 01:41:43.451 [http-nio-8080-exec-9] INFO  o.x.hotelpricecomparison.controller.AuthController - 找到用户: wzx
2025-10-21 01:41:43.933 [http-nio-8080-exec-9] INFO  o.x.hotelpricecomparison.controller.AuthController - 密码验证成功: wzx
2025-10-21 01:41:43.933 [http-nio-8080-exec-9] INFO  o.x.hotelpricecomparison.controller.AuthController - 用户登录成功: wzx
2025-10-21 01:41:48.453 [scheduled-2] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 开始同步去哪网订单...
2025-10-21 01:41:48.454 [scheduled-2] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 查询时间范围: fromDate=20251021013148, toDate=20251021014148
2025-10-21 01:41:48.454 [scheduled-2] INFO  o.x.h.service.impl.QunarOrderServiceImpl - 开始查询去哪网订单列表: fromDate=20251021013148, toDate=20251021014148, version=3.7
2025-10-21 01:41:48.454 [scheduled-2] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 生成HMAC签名: data=your_sign_key20251021013148202510210141483.7, hmac=40136e2d63e7ea84e3c945621c842fb7
2025-10-21 01:41:48.455 [scheduled-2] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 构建请求URL: https://2402add9-4b1a-450b-9bed-701d6679a21b.mock.pstmn.io/api.qunar.com/api/ota/otaQueryOrder?fromDate=20251021013148&toDate=20251021014148&version=3.7&hmac=40136e2d63e7ea84e3c945621c842fb7
2025-10-21 01:41:48.906 [scheduled-2] ERROR o.x.h.service.impl.QunarOrderServiceImpl - 查询去哪网订单列表异常
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:431)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrderList(QunarOrderServiceImpl.java:53)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrdersByDateRange(QunarOrderServiceImpl.java:78)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl.syncOrdersFromQunar(QunarOrderSyncServiceImpl.java:66)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:716)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl$$SpringCGLIB$$0.syncOrdersFromQunar(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 01:41:48.906 [scheduled-2] ERROR o.x.h.service.impl.QunarOrderSyncServiceImpl - 去哪网订单查询失败: errCode=ERROR, errMsg=查询异常: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
2025-10-21 01:42:18.451 [scheduled-2] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 开始同步去哪网订单...
2025-10-21 01:42:18.451 [scheduled-2] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 查询时间范围: fromDate=20251021013218, toDate=20251021014218
2025-10-21 01:42:18.451 [scheduled-2] INFO  o.x.h.service.impl.QunarOrderServiceImpl - 开始查询去哪网订单列表: fromDate=20251021013218, toDate=20251021014218, version=3.7
2025-10-21 01:42:18.451 [scheduled-2] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 生成HMAC签名: data=your_sign_key20251021013218202510210142183.7, hmac=b387c66c9fd518c78f172006df78d934
2025-10-21 01:42:18.451 [scheduled-2] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 构建请求URL: https://2402add9-4b1a-450b-9bed-701d6679a21b.mock.pstmn.io/api.qunar.com/api/ota/otaQueryOrder?fromDate=20251021013218&toDate=20251021014218&version=3.7&hmac=b387c66c9fd518c78f172006df78d934
2025-10-21 01:42:18.924 [scheduled-2] ERROR o.x.h.service.impl.QunarOrderServiceImpl - 查询去哪网订单列表异常
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:431)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrderList(QunarOrderServiceImpl.java:53)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrdersByDateRange(QunarOrderServiceImpl.java:78)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl.syncOrdersFromQunar(QunarOrderSyncServiceImpl.java:66)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:716)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl$$SpringCGLIB$$0.syncOrdersFromQunar(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 01:42:18.927 [scheduled-2] ERROR o.x.h.service.impl.QunarOrderSyncServiceImpl - 去哪网订单查询失败: errCode=ERROR, errMsg=查询异常: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
2025-10-21 01:42:48.448 [scheduled-2] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 开始同步去哪网订单...
2025-10-21 01:42:48.448 [scheduled-2] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 查询时间范围: fromDate=20251021013248, toDate=20251021014248
2025-10-21 01:42:48.448 [scheduled-2] INFO  o.x.h.service.impl.QunarOrderServiceImpl - 开始查询去哪网订单列表: fromDate=20251021013248, toDate=20251021014248, version=3.7
2025-10-21 01:42:48.448 [scheduled-2] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 生成HMAC签名: data=your_sign_key20251021013248202510210142483.7, hmac=d970d307e6968d964bda47d8438dd5a0
2025-10-21 01:42:48.449 [scheduled-2] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 构建请求URL: https://2402add9-4b1a-450b-9bed-701d6679a21b.mock.pstmn.io/api.qunar.com/api/ota/otaQueryOrder?fromDate=20251021013248&toDate=20251021014248&version=3.7&hmac=d970d307e6968d964bda47d8438dd5a0
2025-10-21 01:42:48.903 [scheduled-2] ERROR o.x.h.service.impl.QunarOrderServiceImpl - 查询去哪网订单列表异常
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:431)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrderList(QunarOrderServiceImpl.java:53)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrdersByDateRange(QunarOrderServiceImpl.java:78)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl.syncOrdersFromQunar(QunarOrderSyncServiceImpl.java:66)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:716)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl$$SpringCGLIB$$0.syncOrdersFromQunar(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 01:42:48.905 [scheduled-2] ERROR o.x.h.service.impl.QunarOrderSyncServiceImpl - 去哪网订单查询失败: errCode=ERROR, errMsg=查询异常: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
2025-10-21 01:43:18.459 [scheduled-2] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 开始同步去哪网订单...
2025-10-21 01:43:18.460 [scheduled-2] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 查询时间范围: fromDate=20251021013318, toDate=20251021014318
2025-10-21 01:43:18.460 [scheduled-2] INFO  o.x.h.service.impl.QunarOrderServiceImpl - 开始查询去哪网订单列表: fromDate=20251021013318, toDate=20251021014318, version=3.7
2025-10-21 01:43:18.460 [scheduled-2] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 生成HMAC签名: data=your_sign_key20251021013318202510210143183.7, hmac=a5d01f4c870dea1a4f7ab28ff5e40bdb
2025-10-21 01:43:18.460 [scheduled-2] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 构建请求URL: https://2402add9-4b1a-450b-9bed-701d6679a21b.mock.pstmn.io/api.qunar.com/api/ota/otaQueryOrder?fromDate=20251021013318&toDate=20251021014318&version=3.7&hmac=a5d01f4c870dea1a4f7ab28ff5e40bdb
2025-10-21 01:43:19.386 [scheduled-2] ERROR o.x.h.service.impl.QunarOrderServiceImpl - 查询去哪网订单列表异常
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:431)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrderList(QunarOrderServiceImpl.java:53)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrdersByDateRange(QunarOrderServiceImpl.java:78)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl.syncOrdersFromQunar(QunarOrderSyncServiceImpl.java:66)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:716)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl$$SpringCGLIB$$0.syncOrdersFromQunar(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 01:43:19.387 [scheduled-2] ERROR o.x.h.service.impl.QunarOrderSyncServiceImpl - 去哪网订单查询失败: errCode=ERROR, errMsg=查询异常: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
2025-10-21 01:43:48.453 [scheduled-2] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 开始同步去哪网订单...
2025-10-21 01:43:48.453 [scheduled-2] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 查询时间范围: fromDate=20251021013348, toDate=20251021014348
2025-10-21 01:43:48.453 [scheduled-2] INFO  o.x.h.service.impl.QunarOrderServiceImpl - 开始查询去哪网订单列表: fromDate=20251021013348, toDate=20251021014348, version=3.7
2025-10-21 01:43:48.453 [scheduled-2] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 生成HMAC签名: data=your_sign_key20251021013348202510210143483.7, hmac=79d1bf57f3a833ced6964ccad9d7d9eb
2025-10-21 01:43:48.453 [scheduled-2] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 构建请求URL: https://2402add9-4b1a-450b-9bed-701d6679a21b.mock.pstmn.io/api.qunar.com/api/ota/otaQueryOrder?fromDate=20251021013348&toDate=20251021014348&version=3.7&hmac=79d1bf57f3a833ced6964ccad9d7d9eb
2025-10-21 01:43:48.913 [scheduled-2] ERROR o.x.h.service.impl.QunarOrderServiceImpl - 查询去哪网订单列表异常
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:431)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrderList(QunarOrderServiceImpl.java:53)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrdersByDateRange(QunarOrderServiceImpl.java:78)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl.syncOrdersFromQunar(QunarOrderSyncServiceImpl.java:66)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:716)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl$$SpringCGLIB$$0.syncOrdersFromQunar(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 01:43:48.913 [scheduled-2] ERROR o.x.h.service.impl.QunarOrderSyncServiceImpl - 去哪网订单查询失败: errCode=ERROR, errMsg=查询异常: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
2025-10-21 01:44:18.460 [scheduled-3] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 开始同步去哪网订单...
2025-10-21 01:44:18.460 [scheduled-3] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 查询时间范围: fromDate=20251021013418, toDate=20251021014418
2025-10-21 01:44:18.460 [scheduled-3] INFO  o.x.h.service.impl.QunarOrderServiceImpl - 开始查询去哪网订单列表: fromDate=20251021013418, toDate=20251021014418, version=3.7
2025-10-21 01:44:18.460 [scheduled-3] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 生成HMAC签名: data=your_sign_key20251021013418202510210144183.7, hmac=031ba12352775c4b8f1d8a3e1f40ba23
2025-10-21 01:44:18.462 [scheduled-3] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 构建请求URL: https://2402add9-4b1a-450b-9bed-701d6679a21b.mock.pstmn.io/api.qunar.com/api/ota/otaQueryOrder?fromDate=20251021013418&toDate=20251021014418&version=3.7&hmac=031ba12352775c4b8f1d8a3e1f40ba23
2025-10-21 01:44:19.496 [scheduled-3] ERROR o.x.h.service.impl.QunarOrderServiceImpl - 查询去哪网订单列表异常
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:431)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrderList(QunarOrderServiceImpl.java:53)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrdersByDateRange(QunarOrderServiceImpl.java:78)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl.syncOrdersFromQunar(QunarOrderSyncServiceImpl.java:66)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:716)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl$$SpringCGLIB$$0.syncOrdersFromQunar(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 01:44:19.499 [scheduled-3] ERROR o.x.h.service.impl.QunarOrderSyncServiceImpl - 去哪网订单查询失败: errCode=ERROR, errMsg=查询异常: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
2025-10-21 01:44:30.086 [http-nio-8080-exec-2] INFO  o.x.hotelpricecomparison.controller.AuthController - 收到登录请求: username=wzx
2025-10-21 01:44:30.086 [http-nio-8080-exec-2] INFO  o.x.h.service.impl.SysUserServiceImpl - 开始查询用户: username=wzx
2025-10-21 01:44:30.087 [http-nio-8080-exec-2] INFO  o.x.h.service.impl.SysUserServiceImpl - 查询条件: (username = #{ew.paramNameValuePairs.MPGENVAL1})
2025-10-21 01:44:30.088 [http-nio-8080-exec-2] DEBUG o.x.h.mapper.SysUserMapper.selectList - ==>  Preparing: SELECT id, username, password, email, phone, role FROM sys_user
2025-10-21 01:44:30.089 [http-nio-8080-exec-2] DEBUG o.x.h.mapper.SysUserMapper.selectList - ==> Parameters: 
2025-10-21 01:44:30.090 [http-nio-8080-exec-2] DEBUG o.x.h.mapper.SysUserMapper.selectList - <==      Total: 3
2025-10-21 01:44:30.090 [http-nio-8080-exec-2] INFO  o.x.h.service.impl.SysUserServiceImpl - 查询结果数量: 3
2025-10-21 01:44:30.090 [http-nio-8080-exec-2] INFO  o.x.h.service.impl.SysUserServiceImpl - 查询到的用户: admin
2025-10-21 01:44:30.090 [http-nio-8080-exec-2] INFO  o.x.h.service.impl.SysUserServiceImpl - 查询到的用户: user
2025-10-21 01:44:30.090 [http-nio-8080-exec-2] INFO  o.x.h.service.impl.SysUserServiceImpl - 查询到的用户: wzx
2025-10-21 01:44:30.090 [http-nio-8080-exec-2] INFO  o.x.h.service.impl.SysUserServiceImpl - 找到匹配的用户: wzx
2025-10-21 01:44:30.090 [http-nio-8080-exec-2] INFO  o.x.hotelpricecomparison.controller.AuthController - 找到用户: wzx
2025-10-21 01:44:30.534 [http-nio-8080-exec-2] INFO  o.x.hotelpricecomparison.controller.AuthController - 密码验证成功: wzx
2025-10-21 01:44:30.534 [http-nio-8080-exec-2] INFO  o.x.hotelpricecomparison.controller.AuthController - 用户登录成功: wzx
2025-10-21 01:44:48.451 [scheduled-3] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 开始同步去哪网订单...
2025-10-21 01:44:48.451 [scheduled-3] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 查询时间范围: fromDate=20251021013448, toDate=20251021014448
2025-10-21 01:44:48.451 [scheduled-3] INFO  o.x.h.service.impl.QunarOrderServiceImpl - 开始查询去哪网订单列表: fromDate=20251021013448, toDate=20251021014448, version=3.7
2025-10-21 01:44:48.451 [scheduled-3] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 生成HMAC签名: data=your_sign_key20251021013448202510210144483.7, hmac=609babc5ac8772a0cd0cb405d55b6f2d
2025-10-21 01:44:48.451 [scheduled-3] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 构建请求URL: https://2402add9-4b1a-450b-9bed-701d6679a21b.mock.pstmn.io/api.qunar.com/api/ota/otaQueryOrder?fromDate=20251021013448&toDate=20251021014448&version=3.7&hmac=609babc5ac8772a0cd0cb405d55b6f2d
2025-10-21 01:44:48.899 [scheduled-3] ERROR o.x.h.service.impl.QunarOrderServiceImpl - 查询去哪网订单列表异常
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:431)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrderList(QunarOrderServiceImpl.java:53)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrdersByDateRange(QunarOrderServiceImpl.java:78)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl.syncOrdersFromQunar(QunarOrderSyncServiceImpl.java:66)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:716)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl$$SpringCGLIB$$0.syncOrdersFromQunar(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 01:44:48.901 [scheduled-3] ERROR o.x.h.service.impl.QunarOrderSyncServiceImpl - 去哪网订单查询失败: errCode=ERROR, errMsg=查询异常: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
2025-10-21 01:45:12.301 [http-nio-8080-exec-1] INFO  o.x.h.controller.DistributorController - 获取活跃的供应方列表
2025-10-21 01:45:12.302 [http-nio-8080-exec-1] INFO  o.x.h.service.impl.DistributorServiceImpl - 获取活跃的分销方列表
2025-10-21 01:45:12.305 [http-nio-8080-exec-1] DEBUG o.x.h.mapper.DistributorMapper.selectList - ==>  Preparing: SELECT id,distributor_code,distributor_name,distributor_type,api_base_url,status,distributor_specific_data,created_at,updated_at FROM distributors WHERE (status = ?)
2025-10-21 01:45:12.306 [http-nio-8080-exec-1] DEBUG o.x.h.mapper.DistributorMapper.selectList - ==> Parameters: 1(Integer)
2025-10-21 01:45:12.309 [http-nio-8080-exec-1] DEBUG o.x.h.mapper.DistributorMapper.selectList - <==      Total: 3
2025-10-21 01:45:12.310 [http-nio-8080-exec-1] INFO  o.x.h.service.impl.DistributorServiceImpl - 获取到 3 个活跃的分销方
2025-10-21 01:45:18.459 [scheduled-3] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 开始同步去哪网订单...
2025-10-21 01:45:18.459 [scheduled-3] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 查询时间范围: fromDate=20251021013518, toDate=20251021014518
2025-10-21 01:45:18.459 [scheduled-3] INFO  o.x.h.service.impl.QunarOrderServiceImpl - 开始查询去哪网订单列表: fromDate=20251021013518, toDate=20251021014518, version=3.7
2025-10-21 01:45:18.459 [scheduled-3] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 生成HMAC签名: data=your_sign_key20251021013518202510210145183.7, hmac=fb5aaa744d4053ac6321ff5f6cb61e6d
2025-10-21 01:45:18.460 [scheduled-3] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 构建请求URL: https://2402add9-4b1a-450b-9bed-701d6679a21b.mock.pstmn.io/api.qunar.com/api/ota/otaQueryOrder?fromDate=20251021013518&toDate=20251021014518&version=3.7&hmac=fb5aaa744d4053ac6321ff5f6cb61e6d
2025-10-21 01:45:18.923 [scheduled-3] ERROR o.x.h.service.impl.QunarOrderServiceImpl - 查询去哪网订单列表异常
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:431)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrderList(QunarOrderServiceImpl.java:53)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrdersByDateRange(QunarOrderServiceImpl.java:78)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl.syncOrdersFromQunar(QunarOrderSyncServiceImpl.java:66)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:716)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl$$SpringCGLIB$$0.syncOrdersFromQunar(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 01:45:18.938 [scheduled-3] ERROR o.x.h.service.impl.QunarOrderSyncServiceImpl - 去哪网订单查询失败: errCode=ERROR, errMsg=查询异常: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
2025-10-21 01:45:24.618 [http-nio-8080-exec-6] INFO  o.x.h.controller.FrontHotelController - 搜索酒店请求: {filters={}, pagination={pageNum=1, pageSize=1000}}
2025-10-21 01:45:24.618 [http-nio-8080-exec-8] INFO  o.x.h.controller.FrontHotelController - 搜索酒店请求: {filters={}, pagination={pageNum=1, pageSize=1000}}
2025-10-21 01:45:24.618 [http-nio-8080-exec-6] INFO  o.x.h.service.impl.FrontendHotelServiceImpl - 搜索酒店: FrontendHotelSearchRequest(cityCode=null, hotelName=null, brand=null, pageNum=1, pageSize=1000)
2025-10-21 01:45:24.618 [http-nio-8080-exec-8] INFO  o.x.h.service.impl.FrontendHotelServiceImpl - 搜索酒店: FrontendHotelSearchRequest(cityCode=null, hotelName=null, brand=null, pageNum=1, pageSize=1000)
2025-10-21 01:45:24.786 [http-nio-8080-exec-6] DEBUG o.x.h.mapper.HotelMapper.selectList_mpCount - ==>  Preparing: SELECT COUNT(*) AS total FROM hotels WHERE (valid = ? AND status = ?)
2025-10-21 01:45:24.786 [http-nio-8080-exec-8] DEBUG o.x.h.mapper.HotelMapper.selectList_mpCount - ==>  Preparing: SELECT COUNT(*) AS total FROM hotels WHERE (valid = ? AND status = ?)
2025-10-21 01:45:24.787 [http-nio-8080-exec-6] DEBUG o.x.h.mapper.HotelMapper.selectList_mpCount - ==> Parameters: 1(Integer), 1(Integer)
2025-10-21 01:45:24.787 [http-nio-8080-exec-8] DEBUG o.x.h.mapper.HotelMapper.selectList_mpCount - ==> Parameters: 1(Integer), 1(Integer)
2025-10-21 01:45:24.803 [http-nio-8080-exec-8] DEBUG o.x.h.mapper.HotelMapper.selectList_mpCount - <==      Total: 1
2025-10-21 01:45:24.803 [http-nio-8080-exec-6] DEBUG o.x.h.mapper.HotelMapper.selectList_mpCount - <==      Total: 1
2025-10-21 01:45:24.810 [http-nio-8080-exec-6] DEBUG o.x.h.mapper.HotelMapper.selectList - ==>  Preparing: SELECT id,hotel_code,hotel_name,hotel_name_en,address,city_code,city_name,district_code,district_name,country_code,hotel_phone,hotel_email,description,policy,guide,check_in_time,check_out_time,hotel_level,star_type,business_type,hotel_type,status,valid,is_request_supplier_data,is_push_to_distributors,open_date,close_date,decoration_date,allow_minors,pets,restaurant,support_foreign_guest,require_eng_name,certificate_type,settlement_currency,brand_code,missing_count,created_at,updated_at,is_changed,change_type FROM hotels WHERE (valid = ? AND status = ?) LIMIT ?
2025-10-21 01:45:24.810 [http-nio-8080-exec-8] DEBUG o.x.h.mapper.HotelMapper.selectList - ==>  Preparing: SELECT id,hotel_code,hotel_name,hotel_name_en,address,city_code,city_name,district_code,district_name,country_code,hotel_phone,hotel_email,description,policy,guide,check_in_time,check_out_time,hotel_level,star_type,business_type,hotel_type,status,valid,is_request_supplier_data,is_push_to_distributors,open_date,close_date,decoration_date,allow_minors,pets,restaurant,support_foreign_guest,require_eng_name,certificate_type,settlement_currency,brand_code,missing_count,created_at,updated_at,is_changed,change_type FROM hotels WHERE (valid = ? AND status = ?) LIMIT ?
2025-10-21 01:45:24.811 [http-nio-8080-exec-6] DEBUG o.x.h.mapper.HotelMapper.selectList - ==> Parameters: 1(Integer), 1(Integer), 1000(Long)
2025-10-21 01:45:24.811 [http-nio-8080-exec-8] DEBUG o.x.h.mapper.HotelMapper.selectList - ==> Parameters: 1(Integer), 1(Integer), 1000(Long)
2025-10-21 01:45:24.814 [http-nio-8080-exec-8] DEBUG o.x.h.mapper.HotelMapper.selectList - <==      Total: 3
2025-10-21 01:45:24.814 [http-nio-8080-exec-6] DEBUG o.x.h.mapper.HotelMapper.selectList - <==      Total: 3
2025-10-21 01:45:24.816 [http-nio-8080-exec-6] INFO  o.x.h.service.impl.FrontendHotelServiceImpl - 酒店搜索完成，返回3条结果，总计3条
2025-10-21 01:45:24.816 [http-nio-8080-exec-8] INFO  o.x.h.service.impl.FrontendHotelServiceImpl - 酒店搜索完成，返回3条结果，总计3条
2025-10-21 01:45:27.341 [http-nio-8080-exec-9] INFO  o.x.h.controller.FrontendOrderController - 获取分销方列表
2025-10-21 01:45:27.341 [http-nio-8080-exec-10] INFO  o.x.h.controller.FrontendOrderController - 获取供销方列表
2025-10-21 01:45:27.342 [http-nio-8080-exec-9] DEBUG o.x.h.mapper.DistributorMapper.selectList - ==>  Preparing: SELECT id,distributor_code,distributor_name,distributor_type,api_base_url,status,distributor_specific_data,created_at,updated_at FROM distributors
2025-10-21 01:45:27.343 [http-nio-8080-exec-9] DEBUG o.x.h.mapper.DistributorMapper.selectList - ==> Parameters: 
2025-10-21 01:45:27.343 [http-nio-8080-exec-10] DEBUG o.x.h.mapper.SupplierMapper.selectList - ==>  Preparing: SELECT id,supplier_name,supplier_code,status,created_at,updated_at FROM suppliers
2025-10-21 01:45:27.343 [http-nio-8080-exec-10] DEBUG o.x.h.mapper.SupplierMapper.selectList - ==> Parameters: 
2025-10-21 01:45:27.343 [http-nio-8080-exec-9] DEBUG o.x.h.mapper.DistributorMapper.selectList - <==      Total: 3
2025-10-21 01:45:27.343 [http-nio-8080-exec-1] INFO  o.x.h.controller.FrontendOrderController - 获取订单列表请求: {filters={}, pagination={pageNum=1, pageSize=10, pages=0}}
2025-10-21 01:45:27.343 [http-nio-8080-exec-4] INFO  o.x.h.controller.FrontendOrderController - 获取订单列表请求: {filters={}, pagination={pageNum=1, pageSize=10, pages=0}}
2025-10-21 01:45:27.357 [http-nio-8080-exec-3] INFO  o.x.h.controller.FrontendOrderController - 获取分销方列表
2025-10-21 01:45:27.358 [http-nio-8080-exec-3] DEBUG o.x.h.mapper.DistributorMapper.selectList - ==>  Preparing: SELECT id,distributor_code,distributor_name,distributor_type,api_base_url,status,distributor_specific_data,created_at,updated_at FROM distributors
2025-10-21 01:45:27.358 [http-nio-8080-exec-3] DEBUG o.x.h.mapper.DistributorMapper.selectList - ==> Parameters: 
2025-10-21 01:45:27.349 [http-nio-8080-exec-4] INFO  o.x.h.service.impl.FrontendOrderServiceImpl - 查询订单列表: FrontendOrderQueryRequest(supplierOrderId=null, distributorOrderId=null, hotelId=null, hotelName=null, city=null, distributorId=null, supplierId=null, bookName=null, guestName=null, bookMobile=null, orderState=null, payState=null, dispatchState=null, checkinDate=null, checkoutDate=null, startTime=null, endTime=null, pageNum=1, pageSize=10)
2025-10-21 01:45:27.349 [http-nio-8080-exec-1] INFO  o.x.h.service.impl.FrontendOrderServiceImpl - 查询订单列表: FrontendOrderQueryRequest(supplierOrderId=null, distributorOrderId=null, hotelId=null, hotelName=null, city=null, distributorId=null, supplierId=null, bookName=null, guestName=null, bookMobile=null, orderState=null, payState=null, dispatchState=null, checkinDate=null, checkoutDate=null, startTime=null, endTime=null, pageNum=1, pageSize=10)
2025-10-21 01:45:27.359 [http-nio-8080-exec-3] DEBUG o.x.h.mapper.DistributorMapper.selectList - <==      Total: 3
2025-10-21 01:45:27.382 [http-nio-8080-exec-1] DEBUG o.x.h.mapper.OrderMapper.selectOrderPage_mpCount - ==>  Preparing: SELECT COUNT(*) AS total FROM orders o
2025-10-21 01:45:27.382 [http-nio-8080-exec-1] DEBUG o.x.h.mapper.OrderMapper.selectOrderPage_mpCount - ==> Parameters: 
2025-10-21 01:45:27.382 [http-nio-8080-exec-4] DEBUG o.x.h.mapper.OrderMapper.selectOrderPage_mpCount - ==>  Preparing: SELECT COUNT(*) AS total FROM orders o
2025-10-21 01:45:27.382 [http-nio-8080-exec-4] DEBUG o.x.h.mapper.OrderMapper.selectOrderPage_mpCount - ==> Parameters: 
2025-10-21 01:45:27.382 [http-nio-8080-exec-10] DEBUG o.x.h.mapper.SupplierMapper.selectList - <==      Total: 3
2025-10-21 01:45:27.393 [http-nio-8080-exec-5] INFO  o.x.h.controller.FrontendOrderController - 获取供销方列表
2025-10-21 01:45:27.393 [http-nio-8080-exec-5] DEBUG o.x.h.mapper.SupplierMapper.selectList - ==>  Preparing: SELECT id,supplier_name,supplier_code,status,created_at,updated_at FROM suppliers
2025-10-21 01:45:27.393 [http-nio-8080-exec-5] DEBUG o.x.h.mapper.SupplierMapper.selectList - ==> Parameters: 
2025-10-21 01:45:27.393 [http-nio-8080-exec-5] DEBUG o.x.h.mapper.SupplierMapper.selectList - <==      Total: 3
2025-10-21 01:45:27.401 [http-nio-8080-exec-4] DEBUG o.x.h.mapper.OrderMapper.selectOrderPage_mpCount - <==      Total: 1
2025-10-21 01:45:27.401 [http-nio-8080-exec-1] DEBUG o.x.h.mapper.OrderMapper.selectOrderPage_mpCount - <==      Total: 1
2025-10-21 01:45:27.401 [http-nio-8080-exec-4] DEBUG o.x.h.mapper.OrderMapper.selectOrderPage - ==>  Preparing: SELECT o.id, o.supplier_order_id, o.distributor_order_id, o.hotel_id, o.room_type_id, o.product_code, o.book_email, o.book_id_card, o.book_id_card_type, o.book_mobile, o.book_nation_code, o.book_name, o.dt_arr_orig, o.dt_dep_orig, o.fee_rate, o.guests_num, o.last_arr_time, o.pay_type, o.remarks, o.room_count, o.total_rate, o.order_state, o.pay_state, o.real_pay_rate, o.orig_order_rate, o.return_rate, o.created_at, o.updated_at, -- 新增状态字段 o.is_accepted, o.is_dispatched, o.is_locked, -- 添加关联查询字段 h.hotel_name, h.city_name, d.distributor_name, s.supplier_name, rt.room_type_name FROM orders o LEFT JOIN hotels h ON o.hotel_id = h.id LEFT JOIN distributors d ON o.distributor_id = d.id LEFT JOIN suppliers s ON o.supplier_id = s.id LEFT JOIN room_types rt ON o.room_type_id = rt.id ORDER BY o.created_at DESC LIMIT ?
2025-10-21 01:45:27.401 [http-nio-8080-exec-1] DEBUG o.x.h.mapper.OrderMapper.selectOrderPage - ==>  Preparing: SELECT o.id, o.supplier_order_id, o.distributor_order_id, o.hotel_id, o.room_type_id, o.product_code, o.book_email, o.book_id_card, o.book_id_card_type, o.book_mobile, o.book_nation_code, o.book_name, o.dt_arr_orig, o.dt_dep_orig, o.fee_rate, o.guests_num, o.last_arr_time, o.pay_type, o.remarks, o.room_count, o.total_rate, o.order_state, o.pay_state, o.real_pay_rate, o.orig_order_rate, o.return_rate, o.created_at, o.updated_at, -- 新增状态字段 o.is_accepted, o.is_dispatched, o.is_locked, -- 添加关联查询字段 h.hotel_name, h.city_name, d.distributor_name, s.supplier_name, rt.room_type_name FROM orders o LEFT JOIN hotels h ON o.hotel_id = h.id LEFT JOIN distributors d ON o.distributor_id = d.id LEFT JOIN suppliers s ON o.supplier_id = s.id LEFT JOIN room_types rt ON o.room_type_id = rt.id ORDER BY o.created_at DESC LIMIT ?
2025-10-21 01:45:27.409 [http-nio-8080-exec-4] DEBUG o.x.h.mapper.OrderMapper.selectOrderPage - ==> Parameters: 10(Long)
2025-10-21 01:45:27.409 [http-nio-8080-exec-1] DEBUG o.x.h.mapper.OrderMapper.selectOrderPage - ==> Parameters: 10(Long)
2025-10-21 01:45:27.410 [http-nio-8080-exec-4] DEBUG o.x.h.mapper.OrderMapper.selectOrderPage - <==      Total: 3
2025-10-21 01:45:27.410 [http-nio-8080-exec-4] INFO  o.x.h.service.impl.FrontendOrderServiceImpl - 订单查询结果: total=3, records=3
2025-10-21 01:45:27.410 [http-nio-8080-exec-1] DEBUG o.x.h.mapper.OrderMapper.selectOrderPage - <==      Total: 3
2025-10-21 01:45:27.410 [http-nio-8080-exec-1] INFO  o.x.h.service.impl.FrontendOrderServiceImpl - 订单查询结果: total=3, records=3
2025-10-21 01:45:48.455 [scheduled-3] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 开始同步去哪网订单...
2025-10-21 01:45:48.455 [scheduled-3] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 查询时间范围: fromDate=20251021013548, toDate=20251021014548
2025-10-21 01:45:48.455 [scheduled-3] INFO  o.x.h.service.impl.QunarOrderServiceImpl - 开始查询去哪网订单列表: fromDate=20251021013548, toDate=20251021014548, version=3.7
2025-10-21 01:45:48.455 [scheduled-3] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 生成HMAC签名: data=your_sign_key20251021013548202510210145483.7, hmac=6c385a37dcd9cf0a6406e52b3c259c3e
2025-10-21 01:45:48.456 [scheduled-3] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 构建请求URL: https://2402add9-4b1a-450b-9bed-701d6679a21b.mock.pstmn.io/api.qunar.com/api/ota/otaQueryOrder?fromDate=20251021013548&toDate=20251021014548&version=3.7&hmac=6c385a37dcd9cf0a6406e52b3c259c3e
2025-10-21 01:45:49.394 [scheduled-3] ERROR o.x.h.service.impl.QunarOrderServiceImpl - 查询去哪网订单列表异常
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:431)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrderList(QunarOrderServiceImpl.java:53)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrdersByDateRange(QunarOrderServiceImpl.java:78)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl.syncOrdersFromQunar(QunarOrderSyncServiceImpl.java:66)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:716)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl$$SpringCGLIB$$0.syncOrdersFromQunar(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 01:45:49.394 [scheduled-3] ERROR o.x.h.service.impl.QunarOrderSyncServiceImpl - 去哪网订单查询失败: errCode=ERROR, errMsg=查询异常: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
2025-10-21 01:45:59.851 [http-nio-8080-exec-7] INFO  o.x.hotelpricecomparison.controller.AuthController - 收到登录请求: username=wzx
2025-10-21 01:45:59.851 [http-nio-8080-exec-7] INFO  o.x.h.service.impl.SysUserServiceImpl - 开始查询用户: username=wzx
2025-10-21 01:45:59.851 [http-nio-8080-exec-7] INFO  o.x.h.service.impl.SysUserServiceImpl - 查询条件: (username = #{ew.paramNameValuePairs.MPGENVAL1})
2025-10-21 01:45:59.852 [http-nio-8080-exec-7] DEBUG o.x.h.mapper.SysUserMapper.selectList - ==>  Preparing: SELECT id, username, password, email, phone, role FROM sys_user
2025-10-21 01:45:59.852 [http-nio-8080-exec-7] DEBUG o.x.h.mapper.SysUserMapper.selectList - ==> Parameters: 
2025-10-21 01:45:59.853 [http-nio-8080-exec-7] DEBUG o.x.h.mapper.SysUserMapper.selectList - <==      Total: 3
2025-10-21 01:45:59.853 [http-nio-8080-exec-7] INFO  o.x.h.service.impl.SysUserServiceImpl - 查询结果数量: 3
2025-10-21 01:45:59.853 [http-nio-8080-exec-7] INFO  o.x.h.service.impl.SysUserServiceImpl - 查询到的用户: admin
2025-10-21 01:45:59.853 [http-nio-8080-exec-7] INFO  o.x.h.service.impl.SysUserServiceImpl - 查询到的用户: user
2025-10-21 01:45:59.853 [http-nio-8080-exec-7] INFO  o.x.h.service.impl.SysUserServiceImpl - 查询到的用户: wzx
2025-10-21 01:45:59.853 [http-nio-8080-exec-7] INFO  o.x.h.service.impl.SysUserServiceImpl - 找到匹配的用户: wzx
2025-10-21 01:45:59.853 [http-nio-8080-exec-7] INFO  o.x.hotelpricecomparison.controller.AuthController - 找到用户: wzx
2025-10-21 01:46:00.281 [http-nio-8080-exec-7] INFO  o.x.hotelpricecomparison.controller.AuthController - 密码验证成功: wzx
2025-10-21 01:46:00.281 [http-nio-8080-exec-7] INFO  o.x.hotelpricecomparison.controller.AuthController - 用户登录成功: wzx
2025-10-21 01:46:18.445 [scheduled-3] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 开始同步去哪网订单...
2025-10-21 01:46:18.445 [scheduled-3] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 查询时间范围: fromDate=20251021013618, toDate=20251021014618
2025-10-21 01:46:18.445 [scheduled-3] INFO  o.x.h.service.impl.QunarOrderServiceImpl - 开始查询去哪网订单列表: fromDate=20251021013618, toDate=20251021014618, version=3.7
2025-10-21 01:46:18.445 [scheduled-3] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 生成HMAC签名: data=your_sign_key20251021013618202510210146183.7, hmac=f1a583528e711ac790c37293419aaef1
2025-10-21 01:46:18.446 [scheduled-3] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 构建请求URL: https://2402add9-4b1a-450b-9bed-701d6679a21b.mock.pstmn.io/api.qunar.com/api/ota/otaQueryOrder?fromDate=20251021013618&toDate=20251021014618&version=3.7&hmac=f1a583528e711ac790c37293419aaef1
2025-10-21 01:46:19.380 [scheduled-3] ERROR o.x.h.service.impl.QunarOrderServiceImpl - 查询去哪网订单列表异常
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:431)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrderList(QunarOrderServiceImpl.java:53)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrdersByDateRange(QunarOrderServiceImpl.java:78)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl.syncOrdersFromQunar(QunarOrderSyncServiceImpl.java:66)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:716)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl$$SpringCGLIB$$0.syncOrdersFromQunar(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 01:46:19.381 [scheduled-3] ERROR o.x.h.service.impl.QunarOrderSyncServiceImpl - 去哪网订单查询失败: errCode=ERROR, errMsg=查询异常: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
2025-10-21 01:46:48.450 [scheduled-3] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 开始同步去哪网订单...
2025-10-21 01:46:48.450 [scheduled-3] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 查询时间范围: fromDate=20251021013648, toDate=20251021014648
2025-10-21 01:46:48.450 [scheduled-3] INFO  o.x.h.service.impl.QunarOrderServiceImpl - 开始查询去哪网订单列表: fromDate=20251021013648, toDate=20251021014648, version=3.7
2025-10-21 01:46:48.450 [scheduled-3] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 生成HMAC签名: data=your_sign_key20251021013648202510210146483.7, hmac=9f0699145e846e4960fe001e77c09014
2025-10-21 01:46:48.450 [scheduled-3] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 构建请求URL: https://2402add9-4b1a-450b-9bed-701d6679a21b.mock.pstmn.io/api.qunar.com/api/ota/otaQueryOrder?fromDate=20251021013648&toDate=20251021014648&version=3.7&hmac=9f0699145e846e4960fe001e77c09014
2025-10-21 01:46:49.387 [scheduled-3] ERROR o.x.h.service.impl.QunarOrderServiceImpl - 查询去哪网订单列表异常
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:431)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrderList(QunarOrderServiceImpl.java:53)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrdersByDateRange(QunarOrderServiceImpl.java:78)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl.syncOrdersFromQunar(QunarOrderSyncServiceImpl.java:66)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:716)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl$$SpringCGLIB$$0.syncOrdersFromQunar(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 01:46:49.388 [scheduled-3] ERROR o.x.h.service.impl.QunarOrderSyncServiceImpl - 去哪网订单查询失败: errCode=ERROR, errMsg=查询异常: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
2025-10-21 01:47:18.447 [scheduled-3] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 开始同步去哪网订单...
2025-10-21 01:47:18.447 [scheduled-3] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 查询时间范围: fromDate=20251021013718, toDate=20251021014718
2025-10-21 01:47:18.447 [scheduled-3] INFO  o.x.h.service.impl.QunarOrderServiceImpl - 开始查询去哪网订单列表: fromDate=20251021013718, toDate=20251021014718, version=3.7
2025-10-21 01:47:18.447 [scheduled-3] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 生成HMAC签名: data=your_sign_key20251021013718202510210147183.7, hmac=33b63382ac4d18ded4e716ef317e340c
2025-10-21 01:47:18.447 [scheduled-3] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 构建请求URL: https://2402add9-4b1a-450b-9bed-701d6679a21b.mock.pstmn.io/api.qunar.com/api/ota/otaQueryOrder?fromDate=20251021013718&toDate=20251021014718&version=3.7&hmac=33b63382ac4d18ded4e716ef317e340c
2025-10-21 01:47:19.420 [scheduled-3] ERROR o.x.h.service.impl.QunarOrderServiceImpl - 查询去哪网订单列表异常
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:431)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrderList(QunarOrderServiceImpl.java:53)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrdersByDateRange(QunarOrderServiceImpl.java:78)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl.syncOrdersFromQunar(QunarOrderSyncServiceImpl.java:66)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:716)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl$$SpringCGLIB$$0.syncOrdersFromQunar(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 01:47:19.420 [scheduled-3] ERROR o.x.h.service.impl.QunarOrderSyncServiceImpl - 去哪网订单查询失败: errCode=ERROR, errMsg=查询异常: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
2025-10-21 01:47:48.454 [scheduled-3] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 开始同步去哪网订单...
2025-10-21 01:47:48.454 [scheduled-3] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 查询时间范围: fromDate=20251021013748, toDate=20251021014748
2025-10-21 01:47:48.454 [scheduled-3] INFO  o.x.h.service.impl.QunarOrderServiceImpl - 开始查询去哪网订单列表: fromDate=20251021013748, toDate=20251021014748, version=3.7
2025-10-21 01:47:48.454 [scheduled-3] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 生成HMAC签名: data=your_sign_key20251021013748202510210147483.7, hmac=45448f85f34322adb4ea7c152d7cf565
2025-10-21 01:47:48.454 [scheduled-3] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 构建请求URL: https://2402add9-4b1a-450b-9bed-701d6679a21b.mock.pstmn.io/api.qunar.com/api/ota/otaQueryOrder?fromDate=20251021013748&toDate=20251021014748&version=3.7&hmac=45448f85f34322adb4ea7c152d7cf565
2025-10-21 01:47:49.372 [scheduled-3] ERROR o.x.h.service.impl.QunarOrderServiceImpl - 查询去哪网订单列表异常
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:431)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrderList(QunarOrderServiceImpl.java:53)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrdersByDateRange(QunarOrderServiceImpl.java:78)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl.syncOrdersFromQunar(QunarOrderSyncServiceImpl.java:66)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:716)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl$$SpringCGLIB$$0.syncOrdersFromQunar(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 01:47:49.376 [scheduled-3] ERROR o.x.h.service.impl.QunarOrderSyncServiceImpl - 去哪网订单查询失败: errCode=ERROR, errMsg=查询异常: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
2025-10-21 01:48:05.055 [http-nio-8080-exec-1] INFO  o.x.hotelpricecomparison.controller.AuthController - 收到登录请求: username=wzx
2025-10-21 01:48:05.055 [http-nio-8080-exec-1] INFO  o.x.h.service.impl.SysUserServiceImpl - 开始查询用户: username=wzx
2025-10-21 01:48:05.055 [http-nio-8080-exec-1] INFO  o.x.h.service.impl.SysUserServiceImpl - 查询条件: (username = #{ew.paramNameValuePairs.MPGENVAL1})
2025-10-21 01:48:05.057 [http-nio-8080-exec-1] DEBUG o.x.h.mapper.SysUserMapper.selectList - ==>  Preparing: SELECT id, username, password, email, phone, role FROM sys_user
2025-10-21 01:48:05.057 [http-nio-8080-exec-1] DEBUG o.x.h.mapper.SysUserMapper.selectList - ==> Parameters: 
2025-10-21 01:48:05.058 [http-nio-8080-exec-1] DEBUG o.x.h.mapper.SysUserMapper.selectList - <==      Total: 3
2025-10-21 01:48:05.059 [http-nio-8080-exec-1] INFO  o.x.h.service.impl.SysUserServiceImpl - 查询结果数量: 3
2025-10-21 01:48:05.059 [http-nio-8080-exec-1] INFO  o.x.h.service.impl.SysUserServiceImpl - 查询到的用户: admin
2025-10-21 01:48:05.059 [http-nio-8080-exec-1] INFO  o.x.h.service.impl.SysUserServiceImpl - 查询到的用户: user
2025-10-21 01:48:05.059 [http-nio-8080-exec-1] INFO  o.x.h.service.impl.SysUserServiceImpl - 查询到的用户: wzx
2025-10-21 01:48:05.059 [http-nio-8080-exec-1] INFO  o.x.h.service.impl.SysUserServiceImpl - 找到匹配的用户: wzx
2025-10-21 01:48:05.059 [http-nio-8080-exec-1] INFO  o.x.hotelpricecomparison.controller.AuthController - 找到用户: wzx
2025-10-21 01:48:05.562 [http-nio-8080-exec-1] INFO  o.x.hotelpricecomparison.controller.AuthController - 密码验证成功: wzx
2025-10-21 01:48:05.562 [http-nio-8080-exec-1] INFO  o.x.hotelpricecomparison.controller.AuthController - 用户登录成功: wzx
2025-10-21 01:48:18.450 [scheduled-3] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 开始同步去哪网订单...
2025-10-21 01:48:18.450 [scheduled-3] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 查询时间范围: fromDate=20251021013818, toDate=20251021014818
2025-10-21 01:48:18.450 [scheduled-3] INFO  o.x.h.service.impl.QunarOrderServiceImpl - 开始查询去哪网订单列表: fromDate=20251021013818, toDate=20251021014818, version=3.7
2025-10-21 01:48:18.450 [scheduled-3] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 生成HMAC签名: data=your_sign_key20251021013818202510210148183.7, hmac=580eb6b862e0382fc136b1c4183e7c35
2025-10-21 01:48:18.451 [scheduled-3] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 构建请求URL: https://2402add9-4b1a-450b-9bed-701d6679a21b.mock.pstmn.io/api.qunar.com/api/ota/otaQueryOrder?fromDate=20251021013818&toDate=20251021014818&version=3.7&hmac=580eb6b862e0382fc136b1c4183e7c35
2025-10-21 01:48:19.381 [scheduled-3] ERROR o.x.h.service.impl.QunarOrderServiceImpl - 查询去哪网订单列表异常
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:431)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrderList(QunarOrderServiceImpl.java:53)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrdersByDateRange(QunarOrderServiceImpl.java:78)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl.syncOrdersFromQunar(QunarOrderSyncServiceImpl.java:66)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:716)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl$$SpringCGLIB$$0.syncOrdersFromQunar(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 01:48:19.382 [scheduled-3] ERROR o.x.h.service.impl.QunarOrderSyncServiceImpl - 去哪网订单查询失败: errCode=ERROR, errMsg=查询异常: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
2025-10-21 01:48:48.458 [scheduled-3] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 开始同步去哪网订单...
2025-10-21 01:48:48.458 [scheduled-3] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 查询时间范围: fromDate=20251021013848, toDate=20251021014848
2025-10-21 01:48:48.458 [scheduled-3] INFO  o.x.h.service.impl.QunarOrderServiceImpl - 开始查询去哪网订单列表: fromDate=20251021013848, toDate=20251021014848, version=3.7
2025-10-21 01:48:48.458 [scheduled-3] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 生成HMAC签名: data=your_sign_key20251021013848202510210148483.7, hmac=d6c718a581556b27614fd2112510e1ed
2025-10-21 01:48:48.458 [scheduled-3] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 构建请求URL: https://2402add9-4b1a-450b-9bed-701d6679a21b.mock.pstmn.io/api.qunar.com/api/ota/otaQueryOrder?fromDate=20251021013848&toDate=20251021014848&version=3.7&hmac=d6c718a581556b27614fd2112510e1ed
2025-10-21 01:48:48.955 [scheduled-3] ERROR o.x.h.service.impl.QunarOrderServiceImpl - 查询去哪网订单列表异常
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:431)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrderList(QunarOrderServiceImpl.java:53)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrdersByDateRange(QunarOrderServiceImpl.java:78)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl.syncOrdersFromQunar(QunarOrderSyncServiceImpl.java:66)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:716)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl$$SpringCGLIB$$0.syncOrdersFromQunar(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 01:48:48.955 [scheduled-3] ERROR o.x.h.service.impl.QunarOrderSyncServiceImpl - 去哪网订单查询失败: errCode=ERROR, errMsg=查询异常: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
2025-10-21 01:49:02.851 [http-nio-8080-exec-4] INFO  o.x.hotelpricecomparison.controller.AuthController - 收到登录请求: username=wzx
2025-10-21 01:49:02.851 [http-nio-8080-exec-4] INFO  o.x.h.service.impl.SysUserServiceImpl - 开始查询用户: username=wzx
2025-10-21 01:49:02.851 [http-nio-8080-exec-4] INFO  o.x.h.service.impl.SysUserServiceImpl - 查询条件: (username = #{ew.paramNameValuePairs.MPGENVAL1})
2025-10-21 01:49:02.852 [http-nio-8080-exec-4] DEBUG o.x.h.mapper.SysUserMapper.selectList - ==>  Preparing: SELECT id, username, password, email, phone, role FROM sys_user
2025-10-21 01:49:02.852 [http-nio-8080-exec-4] DEBUG o.x.h.mapper.SysUserMapper.selectList - ==> Parameters: 
2025-10-21 01:49:02.856 [http-nio-8080-exec-4] DEBUG o.x.h.mapper.SysUserMapper.selectList - <==      Total: 3
2025-10-21 01:49:02.856 [http-nio-8080-exec-4] INFO  o.x.h.service.impl.SysUserServiceImpl - 查询结果数量: 3
2025-10-21 01:49:02.856 [http-nio-8080-exec-4] INFO  o.x.h.service.impl.SysUserServiceImpl - 查询到的用户: admin
2025-10-21 01:49:02.857 [http-nio-8080-exec-4] INFO  o.x.h.service.impl.SysUserServiceImpl - 查询到的用户: user
2025-10-21 01:49:02.857 [http-nio-8080-exec-4] INFO  o.x.h.service.impl.SysUserServiceImpl - 查询到的用户: wzx
2025-10-21 01:49:02.857 [http-nio-8080-exec-4] INFO  o.x.h.service.impl.SysUserServiceImpl - 找到匹配的用户: wzx
2025-10-21 01:49:02.857 [http-nio-8080-exec-4] INFO  o.x.hotelpricecomparison.controller.AuthController - 找到用户: wzx
2025-10-21 01:49:03.486 [http-nio-8080-exec-4] INFO  o.x.hotelpricecomparison.controller.AuthController - 密码验证成功: wzx
2025-10-21 01:49:03.486 [http-nio-8080-exec-4] INFO  o.x.hotelpricecomparison.controller.AuthController - 用户登录成功: wzx
2025-10-21 01:49:04.036 [http-nio-8080-exec-7] INFO  o.x.h.controller.DistributorController - 获取活跃的供应方列表
2025-10-21 01:49:04.036 [http-nio-8080-exec-7] INFO  o.x.h.service.impl.DistributorServiceImpl - 获取活跃的分销方列表
2025-10-21 01:49:04.039 [http-nio-8080-exec-7] DEBUG o.x.h.mapper.DistributorMapper.selectList - ==>  Preparing: SELECT id,distributor_code,distributor_name,distributor_type,api_base_url,status,distributor_specific_data,created_at,updated_at FROM distributors WHERE (status = ?)
2025-10-21 01:49:04.041 [http-nio-8080-exec-7] DEBUG o.x.h.mapper.DistributorMapper.selectList - ==> Parameters: 1(Integer)
2025-10-21 01:49:04.043 [http-nio-8080-exec-7] DEBUG o.x.h.mapper.DistributorMapper.selectList - <==      Total: 3
2025-10-21 01:49:04.043 [http-nio-8080-exec-7] INFO  o.x.h.service.impl.DistributorServiceImpl - 获取到 3 个活跃的分销方
2025-10-21 01:49:11.743 [http-nio-8080-exec-8] INFO  o.x.h.controller.DistributorController - 获取活跃的供应方列表
2025-10-21 01:49:11.743 [http-nio-8080-exec-8] INFO  o.x.h.service.impl.DistributorServiceImpl - 获取活跃的分销方列表
2025-10-21 01:49:11.744 [http-nio-8080-exec-8] DEBUG o.x.h.mapper.DistributorMapper.selectList - ==>  Preparing: SELECT id,distributor_code,distributor_name,distributor_type,api_base_url,status,distributor_specific_data,created_at,updated_at FROM distributors WHERE (status = ?)
2025-10-21 01:49:11.744 [http-nio-8080-exec-8] DEBUG o.x.h.mapper.DistributorMapper.selectList - ==> Parameters: 1(Integer)
2025-10-21 01:49:11.746 [http-nio-8080-exec-8] DEBUG o.x.h.mapper.DistributorMapper.selectList - <==      Total: 3
2025-10-21 01:49:11.746 [http-nio-8080-exec-8] INFO  o.x.h.service.impl.DistributorServiceImpl - 获取到 3 个活跃的分销方
2025-10-21 01:49:18.458 [scheduled-3] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 开始同步去哪网订单...
2025-10-21 01:49:18.459 [scheduled-3] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 查询时间范围: fromDate=20251021013918, toDate=20251021014918
2025-10-21 01:49:18.459 [scheduled-3] INFO  o.x.h.service.impl.QunarOrderServiceImpl - 开始查询去哪网订单列表: fromDate=20251021013918, toDate=20251021014918, version=3.7
2025-10-21 01:49:18.460 [scheduled-3] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 生成HMAC签名: data=your_sign_key20251021013918202510210149183.7, hmac=41e8a91a103950da56cb556e1d25ce5f
2025-10-21 01:49:18.460 [scheduled-3] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 构建请求URL: https://2402add9-4b1a-450b-9bed-701d6679a21b.mock.pstmn.io/api.qunar.com/api/ota/otaQueryOrder?fromDate=20251021013918&toDate=20251021014918&version=3.7&hmac=41e8a91a103950da56cb556e1d25ce5f
2025-10-21 01:49:19.478 [scheduled-3] ERROR o.x.h.service.impl.QunarOrderServiceImpl - 查询去哪网订单列表异常
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:431)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrderList(QunarOrderServiceImpl.java:53)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrdersByDateRange(QunarOrderServiceImpl.java:78)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl.syncOrdersFromQunar(QunarOrderSyncServiceImpl.java:66)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:716)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl$$SpringCGLIB$$0.syncOrdersFromQunar(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 01:49:19.482 [scheduled-3] ERROR o.x.h.service.impl.QunarOrderSyncServiceImpl - 去哪网订单查询失败: errCode=ERROR, errMsg=查询异常: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
2025-10-21 01:49:48.448 [scheduled-3] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 开始同步去哪网订单...
2025-10-21 01:49:48.448 [scheduled-3] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 查询时间范围: fromDate=20251021013948, toDate=20251021014948
2025-10-21 01:49:48.448 [scheduled-3] INFO  o.x.h.service.impl.QunarOrderServiceImpl - 开始查询去哪网订单列表: fromDate=20251021013948, toDate=20251021014948, version=3.7
2025-10-21 01:49:48.448 [scheduled-3] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 生成HMAC签名: data=your_sign_key20251021013948202510210149483.7, hmac=70cd9e77d0b656103986451f51eeaddd
2025-10-21 01:49:48.449 [scheduled-3] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 构建请求URL: https://2402add9-4b1a-450b-9bed-701d6679a21b.mock.pstmn.io/api.qunar.com/api/ota/otaQueryOrder?fromDate=20251021013948&toDate=20251021014948&version=3.7&hmac=70cd9e77d0b656103986451f51eeaddd
2025-10-21 01:49:49.390 [scheduled-3] ERROR o.x.h.service.impl.QunarOrderServiceImpl - 查询去哪网订单列表异常
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:431)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrderList(QunarOrderServiceImpl.java:53)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrdersByDateRange(QunarOrderServiceImpl.java:78)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl.syncOrdersFromQunar(QunarOrderSyncServiceImpl.java:66)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:716)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl$$SpringCGLIB$$0.syncOrdersFromQunar(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 01:49:49.392 [scheduled-3] ERROR o.x.h.service.impl.QunarOrderSyncServiceImpl - 去哪网订单查询失败: errCode=ERROR, errMsg=查询异常: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
2025-10-21 01:50:18.452 [scheduled-3] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 开始同步去哪网订单...
2025-10-21 01:50:18.452 [scheduled-3] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 查询时间范围: fromDate=20251021014018, toDate=20251021015018
2025-10-21 01:50:18.452 [scheduled-3] INFO  o.x.h.service.impl.QunarOrderServiceImpl - 开始查询去哪网订单列表: fromDate=20251021014018, toDate=20251021015018, version=3.7
2025-10-21 01:50:18.452 [scheduled-3] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 生成HMAC签名: data=your_sign_key20251021014018202510210150183.7, hmac=796c52db199af02dacc6986bbb4be615
2025-10-21 01:50:18.452 [scheduled-3] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 构建请求URL: https://2402add9-4b1a-450b-9bed-701d6679a21b.mock.pstmn.io/api.qunar.com/api/ota/otaQueryOrder?fromDate=20251021014018&toDate=20251021015018&version=3.7&hmac=796c52db199af02dacc6986bbb4be615
2025-10-21 01:50:20.362 [scheduled-3] ERROR o.x.h.service.impl.QunarOrderServiceImpl - 查询去哪网订单列表异常
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:431)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrderList(QunarOrderServiceImpl.java:53)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrdersByDateRange(QunarOrderServiceImpl.java:78)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl.syncOrdersFromQunar(QunarOrderSyncServiceImpl.java:66)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:716)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl$$SpringCGLIB$$0.syncOrdersFromQunar(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 01:50:20.364 [scheduled-3] ERROR o.x.h.service.impl.QunarOrderSyncServiceImpl - 去哪网订单查询失败: errCode=ERROR, errMsg=查询异常: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
2025-10-21 01:50:48.446 [scheduled-3] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 开始同步去哪网订单...
2025-10-21 01:50:48.446 [scheduled-3] INFO  o.x.h.service.impl.QunarOrderSyncServiceImpl - 查询时间范围: fromDate=20251021014048, toDate=20251021015048
2025-10-21 01:50:48.446 [scheduled-3] INFO  o.x.h.service.impl.QunarOrderServiceImpl - 开始查询去哪网订单列表: fromDate=20251021014048, toDate=20251021015048, version=3.7
2025-10-21 01:50:48.447 [scheduled-3] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 生成HMAC签名: data=your_sign_key20251021014048202510210150483.7, hmac=179932bf4b2710cb8673b80ae58b390c
2025-10-21 01:50:48.447 [scheduled-3] DEBUG o.x.h.service.impl.QunarOrderServiceImpl - 构建请求URL: https://2402add9-4b1a-450b-9bed-701d6679a21b.mock.pstmn.io/api.qunar.com/api/ota/otaQueryOrder?fromDate=20251021014048&toDate=20251021015048&version=3.7&hmac=179932bf4b2710cb8673b80ae58b390c
2025-10-21 01:50:49.344 [scheduled-3] ERROR o.x.h.service.impl.QunarOrderServiceImpl - 查询去哪网订单列表异常
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:112)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:431)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrderList(QunarOrderServiceImpl.java:53)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderServiceImpl.queryOrdersByDateRange(QunarOrderServiceImpl.java:78)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl.syncOrdersFromQunar(QunarOrderSyncServiceImpl.java:66)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:716)
	at org.xfy.hotelpricecomparison.service.impl.QunarOrderSyncServiceImpl$$SpringCGLIB$$0.syncOrdersFromQunar(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-21 01:50:49.350 [scheduled-3] ERROR o.x.h.service.impl.QunarOrderSyncServiceImpl - 去哪网订单查询失败: errCode=ERROR, errMsg=查询异常: 404 Not Found: "{"error":{"name":"mockNotFoundError","header":"Unable to find mock","message":"Please refresh and try again."}}"
